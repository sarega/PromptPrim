:root{--primary-color: #e2f3fd;--secondary-color: #d3ecfb;--accent-color: #bcd5ff !important;--background-gradient: linear-gradient(180deg, var(--primary-color) 0%, var(--secondary-color) 100%);--bg-color-secondary: #f0f2f5;--text-dark: #2d3748;--text-light: #f7fafc;--border-color: #e2e8f0;--success-color: #48bb78;--error-color: #e53e3e;--warning-color: #ed8936;--white-alpha-95: rgba(255, 255, 255, .95);--white-alpha-50: rgba(247, 250, 252, .5);--shadow-light: rgba(102, 126, 234, .1);--shadow-dark: rgba(0, 0, 0, .1);--main-font-family: "Sarabun", sans-serif;--main-font-size: 16px;--bg-workspace-chat: #f8fafc;--bg-workspace-studio: #f1f5f9;--user-bubble-edit-text-color: #1a202c;--primary-color-dark: #c5caee;--btn-primary-bg: var(--primary-color);--btn-primary-border: var(--primary-color-dark)}*{margin:0;padding:0;box-sizing:border-box;font-family:var(--main-font-family);font-size:var(--main-font-size)}html{-webkit-text-size-adjust:100%;text-size-adjust:100%}html,body{height:100%;overflow:hidden}body{background:var(--background-gradient);color:var(--text-dark);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}html,body{overflow:hidden;position:fixed;width:100%;height:100%}button,label,.btn,.btn-icon,.item-icon,.material-symbols-outlined,.custom-select-trigger,.app-main-title,.project-title,.item-name,.speaker-label,.section-header h3,.collapsible-section>summary,.item,.item-header,.no-items-message{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.hidden{display:none!important}.form-group{margin-bottom:15px}label{display:block;margin-bottom:8px;font-weight:500}input[type=text],input[type=password],input[type=number],select,textarea{width:100%;padding:10px 12px;border:1px solid var(--border-color);border-radius:8px;transition:all .2s ease}input:-webkit-autofill,input:-webkit-autofill:hover,input:-webkit-autofill:focus,input:-webkit-autofill:active{-webkit-box-shadow:0 0 0 30px white inset!important;-webkit-text-fill-color:var(--text-dark)!important}input:focus,select:focus,textarea:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px var(--shadow-light)}textarea{resize:vertical;min-height:100px}input[type=number]::-webkit-outer-spin-button,input[type=number]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number]{-moz-appearance:textfield}.btn{background-color:var(--btn-primary-bg);border:1px solid var(--btn-primary-border);color:var(--btn-text-color);padding:10px 18px;border-radius:8px;cursor:pointer;font-weight:600;transition:all .2s ease}.btn:hover{transform:translateY(-1px);box-shadow:0 4px 15px var(--shadow-light)}.btn-small{padding:6px 12px;font-size:.8rem}.btn-secondary{background:#cbd5e0;color:var(--text-dark)}.btn-danger{background:var(--error-color)}.btn-icon{background:transparent;border:none;cursor:pointer;width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:16px;color:#6d7682;transition:all .2s ease}.btn-icon:hover{background:#e2e8f0;color:var(--text-dark)}.btn-icon.danger:hover{background:var(--error-color);color:#fff}.modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:none;align-items:center;justify-content:center;z-index:2000}.modal-box{background:#fff;padding:25px;border-radius:15px;width:90%;max-width:550px;box-shadow:0 5px 20px #0003;max-height:90vh;display:flex;flex-direction:column}.modal-box.is-resizable{overflow:auto;resize:both;min-width:450px;min-height:300px}.modal-body{overflow-y:auto;padding-right:15px}.modal-box h3{margin-top:0}.modal-actions{margin-top:20px;display:flex;justify-content:flex-end;gap:10px;flex-shrink:0}.modal-warning{font-size:12px;color:#718096;margin-top:5px}.context-menu{position:fixed;z-index:11000;min-width:220px;backdrop-filter:blur(12px) saturate(180%);-webkit-backdrop-filter:blur(12px) saturate(180%);border:1px solid rgba(0,0,0,.08);border-radius:12px;box-shadow:0 5px 20px #0000001a;padding:6px;opacity:0;transform:scale(.95);transition:opacity .1s ease-out,transform .1s ease-out}.context-menu{background-color:#f8f9fab3}.context-menu li{color:var(--text-dark)}.context-menu li:hover{background-color:#4f8fff;color:#fff}body.dark-mode .context-menu{background-color:#2d3748bf;border-color:#ffffff1a}body.dark-mode .context-menu li{color:var(--text-dark)}body.dark-mode .context-menu li:hover{background-color:var(--accent-color);color:#000}.context-menu ul{list-style:none;margin:0;padding:0}.context-menu li{padding:9px 14px;cursor:pointer;border-radius:6px;font-size:.9rem;font-weight:500;transition:background-color .15s ease,color .15s ease;white-space:nowrap;-webkit-user-select:none;user-select:none}.dropdown{position:relative;display:inline-block}.dropdown-btn{background:none;border:none;font-size:1.2rem;cursor:pointer;padding:0 5px}.dropdown-content{display:none;position:absolute;background-color:#fff;min-width:max-content;box-shadow:0 8px 16px #0003;z-index:1100;border-radius:8px;overflow:hidden}.dropdown.open .dropdown-content{display:block}.dropdown.align-left .dropdown-content{left:0;right:auto;top:100%;margin-top:4px}.dropdown.align-right .dropdown-content{right:0;left:auto;top:100%;margin-top:4px}.dropdown-content a{color:#000;padding:8px 14px;text-decoration:none;display:flex;align-items:center;gap:8px;font-size:.9rem;cursor:pointer}.dropdown-content a:hover{background-color:#f1f1f1}.dropdown-content hr{margin:4px 10px;border:none;border-top:1px solid var(--border-color)}.custom-select-wrapper{position:relative;margin-left:15px;min-width:200px;max-width:300px;flex-grow:1}.custom-select-wrapper select{display:none}.custom-select-trigger{background-color:#f0f4f8;border:1px solid var(--border-color);border-radius:8px;padding:1px 8px;font-size:.9rem;cursor:pointer;display:flex;align-items:center;justify-content:space-between;transition:all .2s ease}.custom-select-trigger:hover{border-color:var(--primary-color);box-shadow:0 0 0 3px var(--shadow-light)}.custom-select-trigger .item-icon{margin-right:8px;font-size:1rem}#custom-entity-selector-text{font-size:.8rem!important}#custom-entity-selector-trigger .item-icon{font-size:.9rem!important}.custom-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #5f6368;transition:transform .3s ease}.custom-select-wrapper.open .custom-select-arrow{transform:rotate(180deg)}.custom-select-options{display:none;position:absolute;top:calc(100% + 5px);left:0;right:0;background-color:#fff;border:1px solid var(--border-color);border-radius:8px;box-shadow:0 4px 12px #0000001a;z-index:1500;max-height:40vh;overflow-y:auto;padding:5px}.custom-select-wrapper.open .custom-select-options{display:block}.custom-select-group{padding:8px 12px;font-size:.8rem;font-weight:600;color:#718096;text-transform:uppercase}.custom-select-option{display:flex;align-items:center;padding:10px 12px;cursor:pointer;border-radius:6px;transition:background-color .2s ease}.custom-select-option:hover{background-color:#f0f4f8}.custom-select-option .item-icon{margin-right:10px}.dropdown-divider{height:1px;margin:4px 0;background-color:var(--border-color)}.dropdown-content.bottom-up{top:auto;bottom:100%;margin-bottom:8px}.item-list>.item{background:#fff;border:1px solid var(--border-color);border-radius:8px;padding:4px 10px;margin-bottom:3px;transition:all .2s ease;position:relative;cursor:pointer;border-left-width:1px}.item-list>.item.active{border-color:var(--success-color);box-shadow:0 0 8px #48bb7833;background-color:#f6fff9}.item-list>.item.pinned{background-color:#f0e6ff}.item-list>.session-item.archived{background-color:#e6ecee}.session-item.archived .item-name{color:#6c6c6c}.session-item.archived .item-icon{opacity:.6}.item-list>.group-item{background-color:#f0f4f8;border-left:3px solid var(--primary-color);padding-left:8px}.memory-item.inactive .item-name{color:#8caac9}.item.z-index-front{z-index:1105}.item-header{display:flex;justify-content:space-between;align-items:center}.item-name{font-weight:500;font-size:.9rem;flex-grow:1;padding-right:10px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.item-name .item-icon{margin-right:6px;display:inline-block;width:20px;text-align:center}.item-actions{display:flex;align-items:center}.item-actions>*:not(:last-child){margin-right:2px}.collapsible-section summary{cursor:pointer;font-weight:500;padding:5px;border-radius:5px;transition:background .2s;list-style:revert}.collapsible-section summary:hover{background:#f0f0f0}.collapsible-section .item-list{padding-top:5px}.memory-item{padding:3px 8px}.memory-item .item-header{gap:8px}.memory-item .item-name{font-weight:400;font-size:.8rem;cursor:default}.memory-item .item-actions{margin-left:auto}.memory-toggle{width:34px;height:18px;background:#cbd5e0;border-radius:9px;position:relative;cursor:pointer;transition:background .3s ease;flex-shrink:0}.memory-toggle.active{background:var(--success-color)}.memory-toggle:after{content:"";width:14px;height:14px;background:#fff;border-radius:50%;position:absolute;top:2px;left:2px;transition:transform .3s ease}.memory-toggle.active:after{transform:translate(16px)}.item-list>.item:not(.active):hover{background-color:#eef2f7;border-color:#d1d8e0}.item-list>.item.staged{outline:2px solid #FBCF35;outline-offset:-2px;animation:pulse-yellow 1.8s infinite cubic-bezier(.66,0,0,1)}@keyframes pulse-yellow{0%{box-shadow:0 0 #fbcf3599}70%{box-shadow:0 0 0 10px #fbcf3500}to{box-shadow:0 0 #fbcf3500}}Code block css .code-block-wrapper{position:relative;margin:.8em 0}.message-content pre,.composer-editor pre{background-color:#f1f5f9;color:#24292e;padding:16px;border-radius:6px;overflow-x:auto;font-family:Fira Mono,Menlo,Consolas,monospace;font-size:.9em;line-height:1.45}body.dark-mode .message-content pre,body.dark-mode .composer-editor pre{background-color:#2d3748;color:#c9d1d9}.message-content pre code,.composer-editor pre code{background-color:transparent;color:inherit;padding:0;font-size:inherit;line-height:inherit}.message-content code{font-family:Fira Mono,Menlo,Consolas,monospace;background-color:#afb8c133;padding:.2em .4em;margin:0;font-size:85%;border-radius:6px}.copy-code-btn{position:absolute;top:8px;right:8px;background-color:#4a5568;color:#fff;border:none;padding:4px 8px;border-radius:6px;font-size:.8rem;cursor:pointer;opacity:0;transition:opacity .2s ease-in-out}.code-block-wrapper:hover .copy-code-btn{opacity:1}body.dark-mode .message-content pre::-webkit-scrollbar{background-color:#2d3748;height:8px;width:8px}body.dark-mode .message-content pre::-webkit-scrollbar-thumb{background-color:#718096;border-radius:4px}body.dark-mode .message-content pre::-webkit-scrollbar-thumb:hover{background-color:#a0aec0}#mobile-overlay{position:fixed;inset:0;background-color:#00000080;opacity:0;visibility:hidden;transition:opacity .3s ease,visibility .3s linear .3s;z-index:1099}#mobile-overlay.active{opacity:1;visibility:visible;transition:opacity .3s ease}.panel-resizer.horizontal{flex-basis:4px;flex-shrink:0;width:100%;height:4px;cursor:row-resize;background-color:var(--border-color);transition:background-color .2s ease;z-index:6}.panel-resizer.horizontal:hover,.panel-resizer.horizontal.active{background-color:var(--accent-color)}.panel-resizer.horizontal.collapsed{flex-basis:4px!important;min-height:4px!important}.app-wrapper{display:flex;width:100vw;height:100vh;overflow:hidden;position:relative}#chat-compose-workspace{display:flex;flex-grow:1;width:100%;height:100%;overflow:hidden}.app-wrapper.sidebar-collapsed .sidebar{flex-basis:0;min-width:0;overflow:hidden;padding-left:0;padding-right:0;border-right-width:0}.app-wrapper.sidebar-collapsed .sidebar-header,.app-wrapper.sidebar-collapsed .sidebar-content{opacity:0;pointer-events:none;transition-delay:0s}body.focus-mode .sidebar,body.focus-mode #hamburger-btn,body.focus-mode .sidebar-horizontal-resizer{display:none!important}body.focus-mode .main-chat-area{width:100%;max-width:100%}body.focus-mode .chat-input-wrapper{padding:20px 30px}body.focus-mode #chatInput{min-height:80px;font-size:1.1rem}.sessions-panel{display:flex;flex-direction:column;flex-basis:360px;min-width:300px;height:100%;background-color:var(--bg-color-secondary);border-right:1px solid var(--border-color);transition:all .3s ease-in-out;overflow:hidden;position:relative;z-index:100}.sidebar-header{padding:15px 20px;border-bottom:1px solid var(--border-color);flex-shrink:0;display:flex;flex-direction:column;gap:10px}.sidebar-top-row,.sidebar-bottom-row{display:flex;align-items:center;width:100%}.app-main-title{font-size:1.35rem;font-weight:700;margin-right:auto;color:var(--text-dark)}.project-title{font-size:1.1rem;font-weight:600;color:#4a5568;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-left:12px}#hamburger-btn{display:none;font-size:28px;margin-right:15px;cursor:pointer;background:none;border:none;color:var(--text-dark);padding:5px;line-height:1}.sidebar-content{flex-grow:1;display:flex;flex-direction:column;overflow:hidden;padding:15px}.sessions-frame{flex:1 1 50%;min-height:100px;overflow-y:auto;display:flex;flex-direction:column}.mobile-only{display:none}@media (max-width: 1024px){.mobile-only{display:flex}}@media (max-width: 1024px){#hamburger-btn{display:block}.sessions-panel{position:fixed;left:0;top:0;width:320px;max-width:85vw;flex-basis:auto;min-width:unset;z-index:1100;transform:translate(-100%);transition:transform .3s ease-in-out;border-right-width:1px}.sessions-panel.is-open{transform:translate(0);box-shadow:4px 0 15px #0000001a}.sidebar-resizer{display:none}}.menu-toggle-btn{font-size:24px;cursor:pointer;background:none;border:none;color:var(--text-dark);padding:5px;line-height:1}.chat-messages{flex:1;overflow-y:auto;display:flex;flex-direction:column;gap:30px;align-items:center;padding:20px 6vw 40px}.main-chat-area{flex-grow:1;display:flex;flex-direction:column;background:var(--bg-workspace-chat);transition:width .3s ease-in-out;position:relative;width:100%;overflow:hidden}.chat-header{padding:10px 25px;border-bottom:1px solid var(--border-color);background:var(--white-alpha-95);display:flex;justify-content:space-between;align-items:center;padding-top:.2rem;padding-bottom:.2 rem;gap:.75rem;transition:transform .3s ease-in-out,max-height .3s ease-in-out,padding .3s ease-in-out;flex-shrink:0;will-change:transform,max-height;position:relative;z-index:10}.main-content-wrapper{flex-grow:1;display:flex;flex-direction:column;overflow:hidden;position:relative}#hamburger-btn,#toggle-composer-btn{font-size:2rem;line-height:1;padding:.25rem}#hamburger-btn{display:block;transition:transform .3s ease}#hamburger-btn.is-collapsed{transform:scaleX(1)}.chat-header .chat-title{margin-right:auto}#toggle-composer-btn{transition:transform .3s ease}#toggle-composer-btn.is-collapsed{transform:scaleX(1)}.chat-title{font-size:1.15rem;font-weight:600;flex-grow:1}.chat-input-wrapper,#status-panel{flex-shrink:0}#status-panel{padding:8px 15px;border-top:1px solid var(--border-color);background:var(--text-light);display:flex;align-items:center;justify-content:space-between;gap:10px;flex-shrink:0;overflow:visible;transition:transform .3s ease-in-out,max-height .3s ease-in-out,padding .3s ease-in-out;will-change:transform,max-height;position:relative;z-index:10}#collapse-sidebar-btn .icon-wrapper{display:inline-block;transition:transform .3s ease-in-out;font-size:inherit}.status-left,.status-right{display:flex;align-items:center;gap:10px}.status-right{font-size:12px;color:#718096;text-align:right;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0;margin-left:auto}#context-inspector-trigger-btn{background:none;border:none;cursor:pointer;padding:2px 5px;font-size:16px;line-height:1;color:#64748b}#context-inspector-trigger-btn:hover{opacity:.7}.status-dot{width:10px;height:10px;border-radius:50%;background:var(--warning-color);transition:background .3s}.status-dot.connected{background:var(--success-color)}.status-dot.error{background:var(--error-color)}.loading{display:flex;gap:4px;align-items:center}.loading-dot{width:8px;height:8px;border-radius:50%;background:var(--primary-color);animation:loadingBounce 1.4s infinite ease-in-out both}.loading-dot:nth-child(1){animation-delay:-.32s}.loading-dot:nth-child(2){animation-delay:-.16s}@keyframes loadingBounce{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}.main-chat-area.focus-mode .chat-messages,.main-chat-area.focus-mode #resizer-row{display:none}.main-chat-area.focus-mode .main-content-wrapper{height:100%}.main-chat-area.focus-mode .composer-panel{flex-basis:100%!important;min-height:100%!important;border-top:none}.workspace#agent-asset-studio{flex-direction:column;background-color:var(--bg-workspace-studio)}.studio-header{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1.5rem;border-bottom:1px solid var(--border-color);flex-shrink:0}.studio-header h1{margin:0;font-size:1.1rem}.studio-content{flex-grow:1;padding:1rem}.studio-assets-container{max-width:900px;margin:0 auto}.composer-panel{display:flex;flex-direction:column;flex-shrink:0;flex-basis:35vh;min-height:100px;width:100%;background-color:var(--bg-color-secondary);border-top:1px solid var(--border-color);transition:flex-basis .3s ease,min-height .3s ease;overflow:hidden;position:relative;z-index:5}.composer-panel.collapsed{flex-basis:0!important;min-height:0!important;border-top-width:0;overflow:hidden}.composer-panel.collapsed>*{display:none}.composer-header{display:flex;align-items:center;justify-content:space-between;padding:8px 15px;border-bottom:1px solid var(--border-color);flex-shrink:0}.composer-header h3{margin:0;font-size:1rem;display:flex;align-items:center;gap:8px}.composer-actions{display:flex;align-items:center;gap:5px}.composer-editor{flex-grow:1;padding:15px 50px;outline:none;line-height:1.6;overflow-y:auto}.composer-panel.fullscreen{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:2500;flex-basis:100vh!important;min-height:100vh!important;border:none}.composer-header{display:flex;align-items:center;justify-content:space-between;padding:4px 10px;border-bottom:1px solid var(--border-color);flex-shrink:0;gap:10px}.composer-title-area{flex:1}.composer-tools-area{display:flex;justify-content:center;align-items:center;gap:4px;flex:2}.composer-actions{flex:1;display:flex;justify-content:flex-end}.composer-tools-area .btn-icon.small{width:28px;height:28px}.composer-tools-area .btn-icon.small .material-symbols-outlined{font-size:18px}.composer-tools-area .dropdown .btn-icon.small{font-size:1rem}.toolbar-divider{width:1px;height:18px;background-color:var(--border-color);margin:0 4px}.composer-toolbar .btn-icon.is-active{background-color:var(--primary-color-dark);color:var(--text-dark)}body.dark-mode .composer-toolbar{background-color:#2d3748;border-bottom-color:#4a5568}body.dark-mode .composer-toolbar .btn-icon.is-active{background-color:var(--accent-color-dark);color:#fff}#color-palette{grid-template-columns:repeat(5,1fr);gap:5px;padding:10px;width:150px}.dropdown.open #color-palette{display:grid}.color-swatch{width:24px;height:24px;border-radius:50%;cursor:pointer;border:1px solid var(--border-color);transition:transform .1s ease}.color-swatch:hover{transform:scale(1.1)}* =============================================== COMPOSER EDITOR & CONTENT STYLES =============================================== */ .composer-editor{flex-grow:1;padding:15px 20px;outline:none;line-height:1.6;overflow-y:auto;color:#1a202c}.composer-editor *{font-size:inherit}.composer-editor h1,.composer-editor h2,.composer-editor h3{margin-top:1em;margin-bottom:.5em;line-height:1.3}.composer-editor h1{font-size:2em;font-weight:600}.composer-editor h2{font-size:1.5em;font-weight:600}.composer-editor h3{font-size:1.25em;font-weight:600}.composer-editor p{font-size:1em;font-weight:400}.composer-editor ul,.composer-editor ol{padding-left:30px;list-style-position:inside}.message-turn-wrapper.user-turn{align-items:flex-end;position:relative;padding-top:1.5em}.message{padding:12px 18px;border-radius:18px;position:relative;line-height:1.6;outline:none;box-sizing:border-box;max-width:90%}.message-content{word-wrap:break-word}.message.user{background-color:#eaf5fe;color:var(--user-bubble-edit-text-color);display:table;table-layout:fixed;max-width:90%;border-radius:18px}.message.assistant{background:#fff;border:1px solid var(--border-color);border-bottom-left-radius:5px;width:100%;max-width:100%}.message.system{max-width:fit-content;text-align:center;background:#f0f4f8;color:#64748b;font-style:italic;font-size:.85rem;padding:8px 15px;border-radius:15px;border:1px solid var(--border-color)}.message-content>*{margin-top:0;margin-bottom:0}.message-content>*+*{margin-top:1em}.message-content>*:last-child{margin-bottom:0}.message-actions{position:absolute;bottom:-32px;display:flex;gap:5px;background:transparent;-webkit-backdrop-filter:none;backdrop-filter:none;padding:4px;border:none;opacity:1;z-index:10}.message.user .message-actions{left:auto;right:4px}.message.assistant .message-actions{left:4px}.message-actions button{background:transparent;border:none;width:28px;height:28px;font-size:16px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center}.message.user .message-actions button{color:#000000b3}.message-actions button:hover{background:#e2e8f0;color:var(--text-dark)}.message.user .message-actions button:hover{background:#0000004d;color:#fff}.message-content img.multimodal-image{display:block;max-width:100%;max-height:300px;border-radius:8px;margin-top:10px;object-fit:contain}.message.is-editing{width:100%!important;max-width:100%!important;min-height:5em}.message-turn-wrapper.is-editing-child{width:100%}.message.user .inline-edit-textarea{background-color:#ffffff1a;color:var(--user-bubble-edit-text-color)!important;border-color:var(--text-light)}.message.assistant .message-content>*{margin-top:0;margin-bottom:0}.message.assistant .message-content p+p{margin-top:1em}.message.assistant .message-content ul,.message.assistant .message-content ol,.message.assistant .message-content pre{margin-top:.75em;margin-bottom:.75em}.message.assistant .message-content>*:last-child{margin-bottom:0!important}.speaker-label-wrapper{margin-bottom:5px;padding:0 10px}.speaker-label{font-weight:700;font-size:.9em;color:#2563eb;display:inline-flex;align-items:center;gap:6px}.inline-edit-actions{display:flex;gap:10px;margin-top:8px;justify-content:flex-end}.inline-edit-container{width:100%;display:flex;flex-direction:column;gap:.5em}.inline-edit-textarea{width:100%;box-sizing:border-box;font-family:inherit;font-size:1em;border:1.5px solid #bbb;border-radius:.8em;padding:.5em .8em;outline:none;transition:border .2s;resize:none;overflow-y:hidden}.inline-edit-textarea:focus{border:1.5px solid #2866d9;box-shadow:0 0 3px #2866d988}body.dark-mode .inline-edit-textarea:focus{border-color:#7f9cf5;box-shadow:0 0 3px #7f9cf580}.chat-input-wrapper{background:transparent;padding:10px 20px;flex-shrink:0;position:relative;z-index:30;display:flex;flex-direction:column}#file-preview-container+.chat-input-wrapper{margin-top:12px}.chat-panel-bottom{position:relative;z-index:30}.input-container-seamless{position:relative;width:100%;background-color:var(--bg-color-secondary);border:1px solid var(--border-color);border-radius:24px;display:flex;align-items:center;padding:5px;transition:all .2s ease}.input-container-seamless:focus-within{border-color:var(--primary-color);box-shadow:0 0 0 3px var(--shadow-light);background:transparent!important}#chatInput{flex-grow:1;width:100%;background-color:transparent;border:none;border-radius:24px;resize:none;line-height:1.5;color:var(--text-dark);max-height:200px;overflow-y:auto;margin:0;min-height:38px;padding:8px 10px;scrollbar-width:none;-ms-overflow-style:none}#chatInput::-webkit-scrollbar{display:none}#chatInput:focus{outline:none;box-shadow:none}.input-container-seamless{flex-direction:column;align-items:stretch;padding:12px 12px 8px}#chatInput{background:transparent;border:none;padding:0 4px;margin-bottom:8px;min-height:24px}.input-actions-row{display:flex;justify-content:space-between;align-items:center}.input-actions-left,.input-actions-right{display:flex;align-items:center;gap:8px}.input-actions-right .btn{width:36px;height:36px}#chat-actions-btn{width:36px;height:36px;font-size:18px;padding:0;color:#5f6368;background:none!important;border:none!important;border-radius:50%;display:flex;align-items:center;justify-content:center}#sendBtn,#stopBtn{width:36px;height:36px;font-size:16px;padding:0;border-radius:50%;display:flex;align-items:center;justify-content:center}#chat-actions-menu{position:absolute;bottom:110%;left:0;background-color:#fff;min-width:250px;box-shadow:0 8px 16px #00000026;z-index:100;border-radius:8px;overflow:hidden;padding:5px 0;border:1px solid var(--border-color)}#chat-actions-menu a{color:var(--text-dark);padding:8px 14px;text-decoration:none;display:block;font-size:.95rem;cursor:pointer}#chat-actions-menu a:hover{background-color:#f1f1f1}#file-preview-container.hidden{display:none!important;margin-bottom:0}#file-preview-container{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:12px;margin-bottom:12px;padding:0;background:transparent;width:100%}.file-preview-item{position:relative;border-radius:8px;overflow:hidden;aspect-ratio:1 / 1;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#f0f4f8;border:1px solid var(--border-color)}.file-preview-thumbnail{width:100%;height:100%;object-fit:cover}.file-preview-thumbnail.file-icon{font-size:48px;color:#718096;display:flex;align-items:center;justify-content:center}.file-preview-name{position:absolute;bottom:0;left:0;right:0;font-size:12px;font-weight:500;background:#00000080;color:#fff;padding:4px 6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}.remove-file-btn{position:absolute;top:4px;right:4px;background:#0009;color:#fff;border-radius:50%;border:1.5px solid white;width:22px;height:22px;cursor:pointer;font-weight:700;display:flex;align-items:center;justify-content:center;line-height:1;font-size:14px;box-shadow:0 1px 3px #0000004d;z-index:2;transition:background .2s ease}.remove-file-btn:hover{background:#e53e3ee6}.message-turn-wrapper{display:flex;flex-direction:column;width:100%;max-width:820px}.message-turn-wrapper.assistant-turn{align-items:flex-start}.message-turn-wrapper.system-turn{align-items:center}.message{padding:12px 18px;border-radius:18px;position:relative;max-width:90%}.message-content{word-wrap:break-word;line-height:1.6}.message-content>*{margin:0;padding:0}.message-content>*+*{margin-top:.75em}.message-content>*:last-child{margin-bottom:0!important}.message-content h1,.message-content h2,.message-content h3,.message-content h4,.message-content h5{margin-top:1.2em;margin-bottom:.6em;line-height:1.3}.message-content h1{font-size:1.8em}.message-content h2{font-size:1.5em}.message-content h3{font-size:1.25em}.message-content ul,.message-content ol{padding-left:1.6em}.message-content blockquote{border-left:3px solid var(--border-color);padding:.4em 1em;background:#f7f7f7}body.dark-mode .message-content blockquote{border-left-color:#56657a;background:#6e7daf17}.message-content tr:nth-child(2n){background-color:transparent}body.dark-mode .message-content th{background-color:#2d3748}body.dark-mode .message-content tr:nth-child(2n){background-color:transparent}.message-content table{border-collapse:collapse;margin:1em 0;width:100%;font-size:.95em;border:1px solid var(--border-color)}.message-content th,.message-content td{border:1px solid var(--border-color);padding:8px 12px;text-align:left}.message-content th{font-weight:600;background-color:#f6f8fa}.message-content tr:nth-child(2n){background-color:#f6f8fa}body.dark-mode .message-content th{background-color:#202732}body.dark-mode .message-content tr:nth-child(2n){background-color:#202732}.message.system-summary-message{width:100%;max-width:100%;background:#eef2f7;color:#4a5568;border:1px dashed #d1d8e0;font-size:.9rem;padding:15px 20px}body.dark-mode .message.system-summary-message{background:#232d3e;color:#a0aec0;border-color:#4a5568}.message-timestamp{opacity:0;transition:opacity .2s ease-in-out;font-size:.75rem;color:#a0aec0;pointer-events:none;font-weight:400}.message-turn-wrapper:hover .message-timestamp{opacity:1}.speaker-info-wrapper{display:flex;align-items:baseline;gap:8px;margin-bottom:5px;padding:0 10px}.speaker-info-wrapper .speaker-label{font-weight:700;font-size:.9em;color:#2563eb;display:inline-flex;align-items:center;gap:6px}.user-turn>.message-timestamp{position:absolute;top:-.2em;right:8px}.message-bubble{position:relative}.send-to-composer-btn{position:absolute;top:8px;right:8px;width:28px;height:28px;border-radius:50%;background-color:var(--bg-color);box-shadow:0 1px 3px #0000001a;display:flex;align-items:center;justify-content:center;font-size:1rem;z-index:5;opacity:0;visibility:hidden;transition:opacity .2s ease,transform .2s ease;transform:scale(.8)}.message-bubble:hover .send-to-composer-btn{opacity:1;visibility:visible;transform:scale(1)}.message.sent-to-composer-feedback{transition:transform .2s ease-out,box-shadow .2s ease-out;transform:scale(.98);box-shadow:0 0 15px 2px var(--accent-color)}#settings-panel{position:fixed;top:0;left:0;width:380px;max-width:85vw;height:100%;background:#fff;z-index:1200;transform:translate(-100%);transition:transform .3s ease-in-out;box-shadow:5px 0 15px #0003;display:flex;flex-direction:column}#settings-panel.open{transform:translate(0)}.settings-header{padding:20px;border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center;flex-shrink:0}.settings-header h2{font-size:1.4rem}.close-settings-btn{font-size:28px;cursor:pointer;background:none;border:none}.settings-content{flex-grow:1;overflow-y:auto;padding:20px}body.dark-mode .settings-header .close-settings-btn{color:var(--text-dark)}#summary-preset-controls .btn.hidden{display:none}#summary-preset-controls .btn{flex-shrink:0}.section-box{background:transparent;border:none;padding:0;margin-bottom:5px;position:relative}.section-header{display:flex;justify-content:space-between;align-items:center;width:100%}.section-header h3{margin:0;font-size:1rem;font-weight:600;color:#4a5568;flex-grow:1}.section-header .btn-icon{color:#718096;font-weight:700}.flex-group{display:flex;gap:10px;align-items:center}.flex-group>select{flex-grow:1}#context-inspector-modal .modal-box{max-width:700px}#context-inspector-modal pre{white-space:pre-wrap;word-wrap:break-word;background:#f7fafc;padding:15px;border-radius:8px;border:1px solid var(--border-color);max-height:40vh;overflow-y:auto;font-size:14px}#context-inspector-modal .info-grid{display:grid;grid-template-columns:120px 1fr;gap:10px;margin-bottom:20px}#context-inspector-modal .info-grid strong{font-weight:600}#group-member-list{max-height:200px;overflow-y:auto;border:1px solid var(--border-color);border-radius:8px;padding:10px}#group-member-list label{display:flex;align-items:center;gap:10px;padding:5px}.agent-sortable-item{display:flex;align-items:center;padding:8px;background-color:#f9fafb;border:1px solid var(--border-color);border-radius:6px;margin-bottom:5px}.agent-sortable-item label{flex-grow:1;margin-bottom:0;margin-left:10px;cursor:grab}.agent-sortable-item:active{cursor:grabbing}.agent-sortable-item .drag-handle{cursor:grab;color:#9ca3af;margin-left:auto;padding:0 5px}.agent-sortable-item .drag-handle:active{cursor:grabbing}#agent-editor-modal .modal-box{max-width:900px}#agent-editor-modal .modal-body{display:flex;flex-direction:column;gap:25px}.agent-editor-column,.agent-enhancer-column{display:flex;flex-direction:column;gap:15px}.agent-enhancer-column{background-color:#f7fafc;padding:20px;border-radius:12px;border:1px solid var(--border-color)}.agent-enhancer-column h4{margin-top:0}.enhancer-status-box{margin-top:10px;font-size:.9rem;color:#4a5568}#summaryLogList .summary-group{padding-left:10px;margin-bottom:5px}#summaryLogList .summary-group summary{font-size:.8rem;color:#4a5568;font-weight:700}.summary-log-item{background:#f7fafc;border:1px solid transparent;border-left:3px solid var(--border-color);padding:6px 8px;margin:4px 0 4px 10px;font-size:.8rem;border-radius:4px}.summary-log-item.active{border-left-color:var(--success-color);background:#f0fff8;font-weight:700}.summary-log-item-header{display:flex;align-items:center;justify-content:space-between}.summary-log-item-title{font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-right:5px}.summary-log-item-actions{display:flex;flex-shrink:0}.summary-log-item-actions button{font-size:14px;width:24px;height:24px}#view-summary-modal .modal-box{max-width:700px}#view-summary-modal pre{white-space:pre-wrap;word-wrap:break-word}@media (max-width: 768px){.custom-select-wrapper{min-width:150px}#custom-entity-selector-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#status-panel.is-collapsed{height:34px;padding-top:0;padding-bottom:0;cursor:default}#status-panel.is-collapsed .status-right,#status-panel.is-collapsed #context-inspector-trigger-btn{display:none}#status-panel.is-collapsed .status-left{flex-grow:1}}@media (min-width: 768px){#agent-editor-modal .modal-body{flex-direction:row}.agent-editor-column{flex:2}.agent-enhancer-column{flex:1}}@media (max-width: 768px){.chat-header .chat-title{display:none}.chat-header #custom-entity-selector-wrapper{flex-grow:1;margin-left:0;margin-right:10px}}#mobile-composer-toggle{position:absolute;top:-120px;right:25px;transform:translateY(-50%);z-index:40;width:32px;height:32px;border-radius:50%;background:var(--accent-color);color:#fff;border:2px solid var(--bg-color-secondary);box-shadow:0 2px 6px #0003;display:none}#mobile-composer-toggle .material-symbols-outlined{transition:transform .3s ease-in-out;font-size:22px;color:#fff!important}#mobile-composer-toggle.is-open .material-symbols-outlined{transform:rotate(180deg)}@media (max-width: 768px){#mobile-composer-toggle{display:flex;align-items:center;justify-content:center}}@media (max-width: 768px){.composer-header{flex-wrap:wrap;row-gap:10px}.composer-tools-area{flex-basis:100%;order:1;flex-wrap:wrap;justify-content:flex-start}.composer-title-area,.composer-actions{order:0}}body.dark-mode{--primary-color: #7f9cf5;--secondary-color: #a78bfa;--background-gradient: linear-gradient(135deg, #4a5568 0%, #2d3748 100%);--text-dark: #e2e8f0;--text-light: #1a202c;--border-color: #4a5568;--white-alpha-95: rgba(26, 32, 44, .85);--white-alpha-50: rgba(45, 55, 72, .5);--bg-workspace-chat: #1e293b;--bg-workspace-studio: #1e293b;--user-bubble-text-color: #e2e8f0;--user-bubble-edit-text-color: #f7fafc;--primary-color-dark: #394990;--btn-primary-bg: #2f3c4f;--btn-primary-border: #4a5568;background:#1a202c;color:var(--text-dark)}body.dark-mode .sessions-panel,body.dark-mode .composer-panel{background-color:#1a202c}body.dark-mode .sidebar{background:var(--white-alpha-95)}body.dark-mode #settings-panel{background:#2d3748}body.dark-mode .main-chat-area{background:#2d3748cc}body.dark-mode input[type=text],body.dark-mode input[type=password],body.dark-mode input[type=number],body.dark-mode select,body.dark-mode textarea{background-color:#4a5568;color:var(--text-dark);border-color:#718096}body.dark-mode input:-webkit-autofill,body.dark-mode input:-webkit-autofill:hover,body.dark-mode input:-webkit-autofill:focus,body.dark-mode input:-webkit-autofill:active{-webkit-box-shadow:0 0 0 30px #4a5568 inset!important;-webkit-text-fill-color:var(--text-dark)!important}body.dark-mode .message.assistant{background:#232e42;border-color:#718096}body.dark-mode .message.system{background:#4a5568;color:#a0aec0;border-color:#718096}body.dark-mode .item-list>.item{background-color:#2d3748;border-color:#4a5568}body.dark-mode .item-list>.item.active{border-color:var(--success-color);background-color:#2c4736}body.dark-mode .item-list>.item:hover{background-color:#3e4c5f;border-color:#5a6b82}body.dark-mode .message.assistant .message-content a{color:#90caf9;text-decoration:underline;text-decoration-thickness:1px;text-underline-offset:2px}body.dark-mode .message.assistant .message-content a:hover{color:#bbdefb}body.dark-mode .item-list>.item.pinned{background-color:#3c3658}body.dark-mode .item-name{color:var(--text-dark)}body.dark-mode .collapsible-section summary{color:#a0aec0}body.dark-mode .collapsible-section summary:hover{background-color:#4a5568}body.dark-mode .collapsible-section summary:hover h3{color:var(--text-dark)}body.dark-mode .summary-log-item{background:#2d3748;border-left-color:#4a5568}body.dark-mode .summary-log-item.active{border-left-color:var(--success-color);background:#2c4736}body.dark-mode .summary-log-item-title{color:#cbd5e0}body.dark-mode .memory-toggle{background:#718096}body.dark-mode .memory-toggle.active{background:var(--success-color)}body.dark-mode .dropdown-content{background-color:#2d3748;border:1px solid #4a5568}body.dark-mode .dropdown-content a{color:var(--text-dark)}body.dark-mode .dropdown-content a:hover{background-color:#4a5568}body.dark-mode .dropdown-content hr{border-top-color:#4a5568}body.dark-mode .btn-icon{color:#a0aec0}body.dark-mode .btn-icon:hover{background:#4a5568;color:var(--text-dark)}body.dark-mode .btn-secondary{background:#718096;color:#e2e8f0}body.dark-mode .modal-box{background:#2d3748}body.dark-mode #context-inspector-modal pre{background:#1a202c;border-color:#4a5568;color:#cbd5e0}body.dark-mode #chat-actions-menu{background-color:#2d3748;border-color:#4a5568}body.dark-mode #chat-actions-menu a{color:var(--text-dark)}body.dark-mode #chat-actions-menu a:hover{background-color:#4a5568}body.dark-mode .agent-enhancer-column{background-color:#1a202c!important;border-color:#4a5568!important}body.dark-mode #group-member-list{border-color:#4a5568}body.dark-mode .agent-sortable-item{background-color:#2d3748;border-color:#4a5568}body.dark-mode .agent-sortable-item .drag-handle{color:#718096}body.dark-mode code{background-color:#4a5568;color:#f7fafc}body.dark-mode .message-content pre code{background-color:transparent}body.dark-mode .inline-edit-textarea{background-color:#2d3748;color:var(--text-dark);border-color:var(--primary-color)}body.dark-mode hr{border-top-color:#4a5568}body.dark-mode *::-webkit-scrollbar-thumb{background-color:#718096;border-radius:5px;border:2px solid #2d3748}body.dark-mode *::-webkit-scrollbar{background:#21222c}body.dark-mode .modal-warning,body.dark-mode .enhancer-status-box{color:#a0aec0}body.dark-mode .sidebar-resizer{background:#2d3748;border-top:1px solid #4a5568;border-bottom:1px solid #4a5568}body.dark-mode .sidebar-resizer:hover{background:var(--primary-color);opacity:.6}body.dark-mode .message.user{background:#070a11;color:var(--user-bubble-text-color)}body.dark-mode .message.user .inline-edit-textarea{background-color:#0a0a194d;color:var(--user-bubble-edit-text-color)!important;border-color:#1a202c}body.dark-mode .custom-select-trigger{background-color:#4a5568;border-color:#718096}body.dark-mode .custom-select-arrow{border-top-color:#cbd5e0}body.dark-mode .custom-select-options{background-color:#2d3748;border-color:#4a5568}body.dark-mode .custom-select-group{color:#a0aec0}body.dark-mode .custom-select-option:hover{background-color:#4a5568}body.dark-mode .input-container-seamless{background-color:#2d3748;border-color:#4a5568}body.dark-mode .input-container-seamless:focus-within{box-shadow:0 0 0 3px #7f9cf566;border-color:var(--primary-color)}body.dark-mode #chatInput{color:#e2e8f0}body.dark-mode #chatInput::placeholder{color:#a0aec0}body.dark-mode #chat-actions-btn{color:#bdc1c6}body.dark-mode .speaker-label{color:var(--primary-color)}body.dark-mode .file-preview-item{background-color:#2d3748;border-color:#4a5568}body.dark-mode .sidebar .session-item.archived .item-name{color:#919191}body.dark-mode .session-item.archived{opacity:.8}body.dark-mode .item-list>.group-item{background-color:#3a4454;border-left-color:var(--primary-color)}body.dark-mode .inactive .item-name{opacity:.9}body.dark-mode .sidebar .memory-item.inactive .item-name{color:#b6b6b6}body.dark-mode .collapsible-section>summary{color:#c9d1d9;font-weight:600;letter-spacing:.5px}body.dark-mode .sidebar h3,body.dark-mode .sidebar h4,body.dark-mode .sidebar label,body.dark-mode .sidebar .section-title{color:#c9d1d9;font-weight:600}body.dark-mode .session-item button,body.dark-mode .session-item .item-action,body.dark-mode .agent-preset button,body.dark-mode .agent-preset .item-action{background:transparent!important;color:#c9d1d9!important;border-radius:50%;border:none;transition:background .12s}body.dark-mode .session-item button:hover,body.dark-mode .session-item .item-action:hover,body.dark-mode .agent-preset button:hover,body.dark-mode .agent-preset .item-action:hover{background:#334155!important;color:#fff!important}body.dark-mode .btn-icon{background:transparent!important;color:#c9d1d9!important;border:none}body.dark-mode .btn-icon:hover{background:#334155!important;color:#fff!important}body.dark-mode .workspace#agent-asset-studio{background-color:var(--bg-workspace-studio)}body.dark-mode .streaming-code-preview{background-color:#2d3748;color:#e2e8f0}body.dark-mode *::-webkit-scrollbar{background:#21222c;width:12px}body.dark-mode *::-webkit-scrollbar-thumb{background-color:#718096;border-radius:6px;border:3px solid #21222c}body.dark-mode *::-webkit-scrollbar-thumb:hover{background-color:#a0aec0}body.dark-mode .item-list>.item.active:hover{background-color:#2c4736;border-color:var(--success-color)}body.dark-mode .message-actions button{color:var(--text-dark)}body.dark-mode .message-actions button:hover{background-color:#ffffff1a}body.dark-mode .message.user .message-actions button{color:var(--text-dark)}body.dark-mode .message-timestamp{color:#64748b}body.dark-mode .speaker-info-wrapper .speaker-label{color:var(--primary-color)}body.dark-mode #composer-editor .composer-content-area a{color:#90caf9;text-decoration:underline}body.dark-mode #composer-editor .composer-content-area a:hover{color:#bbdefb}.streaming-code-preview{display:block;white-space:pre-wrap;word-wrap:break-word;background-color:#f0f0f2;color:#333;padding:1em;margin:0;font-family:Courier New,Courier,monospace}#chat-compose-workspace{display:flex!important;flex-direction:row!important;width:100%;height:100%}#sessions-panel{flex-basis:360px;flex-shrink:0;flex-grow:0}#main-chat-panel{flex-grow:1;flex-basis:0;min-width:300px}#chat-compose-workspace{display:flex!important;flex-direction:row!important}#sessions-panel{flex-basis:360px;flex-shrink:0;flex-grow:0;transition:all .3s ease-in-out}#main-chat-panel{flex-grow:1;flex-basis:0;min-width:300px;transition:all .3s ease-in-out}.app-wrapper.sidebar-collapsed #sessions-panel{flex-basis:0;min-width:0;border-right-width:0;padding-left:0;padding-right:0}#mobile-overlay{pointer-events:none;opacity:0;visibility:hidden;transition:opacity .3s ease}#mobile-overlay.active{pointer-events:auto!important;opacity:1;visibility:visible}.loading-overlay{position:fixed;inset:0;background-color:#1a202cd9;z-index:9999;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#e2e8f0;font-size:1.2rem;transition:opacity .4s ease,visibility .4s;opacity:1;visibility:visible}.loading-overlay:not(.active){opacity:0;visibility:hidden;pointer-events:none}.loading-overlay .spinner{width:50px;height:50px;border:5px solid #4a5568;border-top-color:#7f9cf5;border-radius:50%;animation:spin 1s linear infinite;margin-bottom:20px}@keyframes spin{to{transform:rotate(360deg)}}.right-sidebar{display:flex;flex-direction:column;flex-basis:380px;flex-shrink:0;height:100vh;max-height:100vh;background-color:var(--bg-workspace-studio);border-left:1px solid var(--border-color);overflow:hidden}.right-sidebar .studio-header{flex-shrink:0;padding:15px 20px;border-bottom:1px solid var(--border-color)}.right-sidebar .studio-content{flex-grow:1;overflow-y:auto;min-height:0;padding:1.25rem}.right-sidebar .studio-assets-container{display:flex;flex-direction:column;gap:1.5rem}.right-sidebar{transition:margin-right .2s,width .2s;width:380px;max-width:100vw}.right-sidebar.collapsed{margin-right:-380px;width:0;min-width:0;overflow:hidden;transition:margin-right .2s,width .2s}.app-wrapper.with-right-collapsed #studio-panel.right-sidebar{margin-right:-380px;width:0;min-width:0}@media (max-width: 900px){#studio-panel.right-sidebar{position:fixed;right:0;top:0;height:100vh;width:90vw;max-width:420px;background:var(--bg-workspace-studio, #fff);z-index:1002;box-shadow:-2px 0 24px #0002;transition:transform .2s;transform:translate(100%);border-left:1px solid var(--border-color, #e0e0e0)}#studio-panel.right-sidebar.open{transform:translate(0)}#right-sidebar-overlay{display:none;position:fixed;inset:0;background:#0006;z-index:1001}#right-sidebar-overlay.active{display:block}}
