import{s as y,t as _i,a as V,d as Xy,b as Mi,f as Qy,S as ml,g as Zy,o as ir,c as Hg,h as Vy,e as Sn,l as Di,i as Ky,j as Py,k as ba,m as ky,n as so,p as Jy,M as qg,q as ur,r as Gg,u as Iu,v as Yg,w as Iy,x as $y,y as Fy,z as Wy,A as ev,B as Xg,C as tv,D as nv,E as av,F as lv,U as iv,G as uv,H as ov,I as sv,J as cv,K as rv,L as fv,N as dv,O as mv,P as gv,Q as pv,R as hv,T as yv,V as vv,W as bv,X as Sv,Y as Ev,Z as Av,_ as Tv,$ as Mv,a0 as Dv,a1 as cg,a2 as _v,a3 as Ov,a4 as Cv}from"./core.theme-DqAV90Kr.js";function Qg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Cc={exports:{}},gi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg;function wv(){if(rg)return gi;rg=1;var i=Symbol.for("react.transitional.element"),u=Symbol.for("react.fragment");function c(o,r,d){var p=null;if(d!==void 0&&(p=""+d),r.key!==void 0&&(p=""+r.key),"key"in r){d={};for(var b in r)b!=="key"&&(d[b]=r[b])}else d=r;return r=d.ref,{$$typeof:i,type:o,key:p,ref:r!==void 0?r:null,props:d}}return gi.Fragment=u,gi.jsx=c,gi.jsxs=c,gi}var fg;function jv(){return fg||(fg=1,Cc.exports=wv()),Cc.exports}var I=jv(),wc={exports:{}},ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dg;function xv(){if(dg)return ae;dg=1;var i=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),O=Symbol.iterator;function x(S){return S===null||typeof S!="object"?null:(S=O&&S[O]||S["@@iterator"],typeof S=="function"?S:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,Z={};function ce(S,B,G){this.props=S,this.context=B,this.refs=Z,this.updater=G||N}ce.prototype.isReactComponent={},ce.prototype.setState=function(S,B){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,B,"setState")},ce.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function Be(){}Be.prototype=ce.prototype;function pe(S,B,G){this.props=S,this.context=B,this.refs=Z,this.updater=G||N}var he=pe.prototype=new Be;he.constructor=pe,H(he,ce.prototype),he.isPureReactComponent=!0;var Me=Array.isArray,ne={H:null,A:null,T:null,S:null,V:null},De=Object.prototype.hasOwnProperty;function Ne(S,B,G,q,P,me){return G=me.ref,{$$typeof:i,type:S,key:B,ref:G!==void 0?G:null,props:me}}function X(S,B){return Ne(S.type,B,void 0,void 0,void 0,S.props)}function de(S){return typeof S=="object"&&S!==null&&S.$$typeof===i}function He(S){var B={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(G){return B[G]})}var we=/\/+/g;function je(S,B){return typeof S=="object"&&S!==null&&S.key!=null?He(""+S.key):B.toString(36)}function qe(){}function rt(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(qe,qe):(S.status="pending",S.then(function(B){S.status==="pending"&&(S.status="fulfilled",S.value=B)},function(B){S.status==="pending"&&(S.status="rejected",S.reason=B)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function Ge(S,B,G,q,P){var me=typeof S;(me==="undefined"||me==="boolean")&&(S=null);var ee=!1;if(S===null)ee=!0;else switch(me){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(S.$$typeof){case i:case u:ee=!0;break;case A:return ee=S._init,Ge(ee(S._payload),B,G,q,P)}}if(ee)return P=P(S),ee=q===""?"."+je(S,0):q,Me(P)?(G="",ee!=null&&(G=ee.replace(we,"$&/")+"/"),Ge(P,B,G,"",function(Tn){return Tn})):P!=null&&(de(P)&&(P=X(P,G+(P.key==null||S&&S.key===P.key?"":(""+P.key).replace(we,"$&/")+"/")+ee)),B.push(P)),1;ee=0;var St=q===""?".":q+":";if(Me(S))for(var xe=0;xe<S.length;xe++)q=S[xe],me=St+je(q,xe),ee+=Ge(q,B,G,me,P);else if(xe=x(S),typeof xe=="function")for(S=xe.call(S),xe=0;!(q=S.next()).done;)q=q.value,me=St+je(q,xe++),ee+=Ge(q,B,G,me,P);else if(me==="object"){if(typeof S.then=="function")return Ge(rt(S),B,G,q,P);throw B=String(S),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ee}function w(S,B,G){if(S==null)return S;var q=[],P=0;return Ge(S,q,"","",function(me){return B.call(G,me,P++)}),q}function R(S){if(S._status===-1){var B=S._result;B=B(),B.then(function(G){(S._status===0||S._status===-1)&&(S._status=1,S._result=G)},function(G){(S._status===0||S._status===-1)&&(S._status=2,S._result=G)}),S._status===-1&&(S._status=0,S._result=B)}if(S._status===1)return S._result.default;throw S._result}var K=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function ve(){}return ae.Children={map:w,forEach:function(S,B,G){w(S,function(){B.apply(this,arguments)},G)},count:function(S){var B=0;return w(S,function(){B++}),B},toArray:function(S){return w(S,function(B){return B})||[]},only:function(S){if(!de(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},ae.Component=ce,ae.Fragment=c,ae.Profiler=r,ae.PureComponent=pe,ae.StrictMode=o,ae.Suspense=h,ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,ae.__COMPILER_RUNTIME={__proto__:null,c:function(S){return ne.H.useMemoCache(S)}},ae.cache=function(S){return function(){return S.apply(null,arguments)}},ae.cloneElement=function(S,B,G){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var q=H({},S.props),P=S.key,me=void 0;if(B!=null)for(ee in B.ref!==void 0&&(me=void 0),B.key!==void 0&&(P=""+B.key),B)!De.call(B,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&B.ref===void 0||(q[ee]=B[ee]);var ee=arguments.length-2;if(ee===1)q.children=G;else if(1<ee){for(var St=Array(ee),xe=0;xe<ee;xe++)St[xe]=arguments[xe+2];q.children=St}return Ne(S.type,P,void 0,void 0,me,q)},ae.createContext=function(S){return S={$$typeof:p,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:d,_context:S},S},ae.createElement=function(S,B,G){var q,P={},me=null;if(B!=null)for(q in B.key!==void 0&&(me=""+B.key),B)De.call(B,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(P[q]=B[q]);var ee=arguments.length-2;if(ee===1)P.children=G;else if(1<ee){for(var St=Array(ee),xe=0;xe<ee;xe++)St[xe]=arguments[xe+2];P.children=St}if(S&&S.defaultProps)for(q in ee=S.defaultProps,ee)P[q]===void 0&&(P[q]=ee[q]);return Ne(S,me,void 0,void 0,null,P)},ae.createRef=function(){return{current:null}},ae.forwardRef=function(S){return{$$typeof:b,render:S}},ae.isValidElement=de,ae.lazy=function(S){return{$$typeof:A,_payload:{_status:-1,_result:S},_init:R}},ae.memo=function(S,B){return{$$typeof:g,type:S,compare:B===void 0?null:B}},ae.startTransition=function(S){var B=ne.T,G={};ne.T=G;try{var q=S(),P=ne.S;P!==null&&P(G,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(ve,K)}catch(me){K(me)}finally{ne.T=B}},ae.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},ae.use=function(S){return ne.H.use(S)},ae.useActionState=function(S,B,G){return ne.H.useActionState(S,B,G)},ae.useCallback=function(S,B){return ne.H.useCallback(S,B)},ae.useContext=function(S){return ne.H.useContext(S)},ae.useDebugValue=function(){},ae.useDeferredValue=function(S,B){return ne.H.useDeferredValue(S,B)},ae.useEffect=function(S,B,G){var q=ne.H;if(typeof G=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return q.useEffect(S,B)},ae.useId=function(){return ne.H.useId()},ae.useImperativeHandle=function(S,B,G){return ne.H.useImperativeHandle(S,B,G)},ae.useInsertionEffect=function(S,B){return ne.H.useInsertionEffect(S,B)},ae.useLayoutEffect=function(S,B){return ne.H.useLayoutEffect(S,B)},ae.useMemo=function(S,B){return ne.H.useMemo(S,B)},ae.useOptimistic=function(S,B){return ne.H.useOptimistic(S,B)},ae.useReducer=function(S,B,G){return ne.H.useReducer(S,B,G)},ae.useRef=function(S){return ne.H.useRef(S)},ae.useState=function(S){return ne.H.useState(S)},ae.useSyncExternalStore=function(S,B,G){return ne.H.useSyncExternalStore(S,B,G)},ae.useTransition=function(){return ne.H.useTransition()},ae.version="19.1.1",ae}var mg;function or(){return mg||(mg=1,wc.exports=xv()),wc.exports}var jt=or();const Zg=Qg(jt);var jc={exports:{}},pi={},xc={exports:{}},zc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg;function zv(){return gg||(gg=1,function(i){function u(w,R){var K=w.length;w.push(R);e:for(;0<K;){var ve=K-1>>>1,S=w[ve];if(0<r(S,R))w[ve]=R,w[K]=S,K=ve;else break e}}function c(w){return w.length===0?null:w[0]}function o(w){if(w.length===0)return null;var R=w[0],K=w.pop();if(K!==R){w[0]=K;e:for(var ve=0,S=w.length,B=S>>>1;ve<B;){var G=2*(ve+1)-1,q=w[G],P=G+1,me=w[P];if(0>r(q,K))P<S&&0>r(me,q)?(w[ve]=me,w[P]=K,ve=P):(w[ve]=q,w[G]=K,ve=G);else if(P<S&&0>r(me,K))w[ve]=me,w[P]=K,ve=P;else break e}}return R}function r(w,R){var K=w.sortIndex-R.sortIndex;return K!==0?K:w.id-R.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var p=Date,b=p.now();i.unstable_now=function(){return p.now()-b}}var h=[],g=[],A=1,O=null,x=3,N=!1,H=!1,Z=!1,ce=!1,Be=typeof setTimeout=="function"?setTimeout:null,pe=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;function Me(w){for(var R=c(g);R!==null;){if(R.callback===null)o(g);else if(R.startTime<=w)o(g),R.sortIndex=R.expirationTime,u(h,R);else break;R=c(g)}}function ne(w){if(Z=!1,Me(w),!H)if(c(h)!==null)H=!0,De||(De=!0,je());else{var R=c(g);R!==null&&Ge(ne,R.startTime-w)}}var De=!1,Ne=-1,X=5,de=-1;function He(){return ce?!0:!(i.unstable_now()-de<X)}function we(){if(ce=!1,De){var w=i.unstable_now();de=w;var R=!0;try{e:{H=!1,Z&&(Z=!1,pe(Ne),Ne=-1),N=!0;var K=x;try{t:{for(Me(w),O=c(h);O!==null&&!(O.expirationTime>w&&He());){var ve=O.callback;if(typeof ve=="function"){O.callback=null,x=O.priorityLevel;var S=ve(O.expirationTime<=w);if(w=i.unstable_now(),typeof S=="function"){O.callback=S,Me(w),R=!0;break t}O===c(h)&&o(h),Me(w)}else o(h);O=c(h)}if(O!==null)R=!0;else{var B=c(g);B!==null&&Ge(ne,B.startTime-w),R=!1}}break e}finally{O=null,x=K,N=!1}R=void 0}}finally{R?je():De=!1}}}var je;if(typeof he=="function")je=function(){he(we)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,rt=qe.port2;qe.port1.onmessage=we,je=function(){rt.postMessage(null)}}else je=function(){Be(we,0)};function Ge(w,R){Ne=Be(function(){w(i.unstable_now())},R)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(w){w.callback=null},i.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<w?Math.floor(1e3/w):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_next=function(w){switch(x){case 1:case 2:case 3:var R=3;break;default:R=x}var K=x;x=R;try{return w()}finally{x=K}},i.unstable_requestPaint=function(){ce=!0},i.unstable_runWithPriority=function(w,R){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var K=x;x=w;try{return R()}finally{x=K}},i.unstable_scheduleCallback=function(w,R,K){var ve=i.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ve+K:ve):K=ve,w){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=K+S,w={id:A++,callback:R,priorityLevel:w,startTime:K,expirationTime:S,sortIndex:-1},K>ve?(w.sortIndex=K,u(g,w),c(h)===null&&w===c(g)&&(Z?(pe(Ne),Ne=-1):Z=!0,Ge(ne,K-ve))):(w.sortIndex=S,u(h,w),H||N||(H=!0,De||(De=!0,je()))),w},i.unstable_shouldYield=He,i.unstable_wrapCallback=function(w){var R=x;return function(){var K=x;x=R;try{return w.apply(this,arguments)}finally{x=K}}}}(zc)),zc}var pg;function Uv(){return pg||(pg=1,xc.exports=zv()),xc.exports}var Uc={exports:{}},st={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg;function Bv(){if(hg)return st;hg=1;var i=or();function u(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)g+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(){}var o={d:{f:c,r:function(){throw Error(u(522))},D:c,C:c,L:c,m:c,X:c,S:c,M:c},p:0,findDOMNode:null},r=Symbol.for("react.portal");function d(h,g,A){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:O==null?null:""+O,children:h,containerInfo:g,implementation:A}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(h,g){if(h==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return st.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,st.createPortal=function(h,g){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(u(299));return d(h,g,null,A)},st.flushSync=function(h){var g=p.T,A=o.p;try{if(p.T=null,o.p=2,h)return h()}finally{p.T=g,o.p=A,o.d.f()}},st.preconnect=function(h,g){typeof h=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,o.d.C(h,g))},st.prefetchDNS=function(h){typeof h=="string"&&o.d.D(h)},st.preinit=function(h,g){if(typeof h=="string"&&g&&typeof g.as=="string"){var A=g.as,O=b(A,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;A==="style"?o.d.S(h,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:O,integrity:x,fetchPriority:N}):A==="script"&&o.d.X(h,{crossOrigin:O,integrity:x,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},st.preinitModule=function(h,g){if(typeof h=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var A=b(g.as,g.crossOrigin);o.d.M(h,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&o.d.M(h)},st.preload=function(h,g){if(typeof h=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var A=g.as,O=b(A,g.crossOrigin);o.d.L(h,A,{crossOrigin:O,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},st.preloadModule=function(h,g){if(typeof h=="string")if(g){var A=b(g.as,g.crossOrigin);o.d.m(h,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else o.d.m(h)},st.requestFormReset=function(h){o.d.r(h)},st.unstable_batchedUpdates=function(h,g){return h(g)},st.useFormState=function(h,g,A){return p.H.useFormState(h,g,A)},st.useFormStatus=function(){return p.H.useHostTransitionStatus()},st.version="19.1.1",st}var yg;function Nv(){if(yg)return Uc.exports;yg=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(u){console.error(u)}}return i(),Uc.exports=Bv(),Uc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function Lv(){if(vg)return pi;vg=1;var i=Uv(),u=or(),c=Nv();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(d(e)!==e)throw Error(o(188))}function h(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,a=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(a=l.return,a!==null){n=a;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return b(l),e;if(s===a)return b(l),t;s=s.sibling}throw Error(o(188))}if(n.return!==a.return)n=l,a=s;else{for(var f=!1,m=l.child;m;){if(m===n){f=!0,n=l,a=s;break}if(m===a){f=!0,a=l,n=s;break}m=m.sibling}if(!f){for(m=s.child;m;){if(m===n){f=!0,n=s,a=l;break}if(m===a){f=!0,a=s,n=l;break}m=m.sibling}if(!f)throw Error(o(189))}}if(n.alternate!==a)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var A=Object.assign,O=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),Be=Symbol.for("react.provider"),pe=Symbol.for("react.consumer"),he=Symbol.for("react.context"),Me=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),De=Symbol.for("react.suspense_list"),Ne=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),de=Symbol.for("react.activity"),He=Symbol.for("react.memo_cache_sentinel"),we=Symbol.iterator;function je(e){return e===null||typeof e!="object"?null:(e=we&&e[we]||e["@@iterator"],typeof e=="function"?e:null)}var qe=Symbol.for("react.client.reference");function rt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===qe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case ce:return"Profiler";case Z:return"StrictMode";case ne:return"Suspense";case De:return"SuspenseList";case de:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case he:return(e.displayName||"Context")+".Provider";case pe:return(e._context.displayName||"Context")+".Consumer";case Me:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ne:return t=e.displayName||null,t!==null?t:rt(e.type)||"Memo";case X:t=e._payload,e=e._init;try{return rt(e(t))}catch{}}return null}var Ge=Array.isArray,w=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=c.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ve=[],S=-1;function B(e){return{current:e}}function G(e){0>S||(e.current=ve[S],ve[S]=null,S--)}function q(e,t){S++,ve[S]=e.current,e.current=t}var P=B(null),me=B(null),ee=B(null),St=B(null);function xe(e,t){switch(q(ee,t),q(me,e),q(P,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Rm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Rm(t),e=Hm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(P),q(P,e)}function Tn(){G(P),G(me),G(ee)}function mo(e){e.memoizedState!==null&&q(St,e);var t=P.current,n=Hm(t,e.type);t!==n&&(q(me,e),q(P,n))}function wi(e){me.current===e&&(G(P),G(me)),St.current===e&&(G(St),ci._currentValue=K)}var go=Object.prototype.hasOwnProperty,po=i.unstable_scheduleCallback,ho=i.unstable_cancelCallback,Sp=i.unstable_shouldYield,Ep=i.unstable_requestPaint,kt=i.unstable_now,Ap=i.unstable_getCurrentPriorityLevel,hr=i.unstable_ImmediatePriority,yr=i.unstable_UserBlockingPriority,ji=i.unstable_NormalPriority,Tp=i.unstable_LowPriority,vr=i.unstable_IdlePriority,Mp=i.log,Dp=i.unstable_setDisableYieldValue,yl=null,Et=null;function Mn(e){if(typeof Mp=="function"&&Dp(e),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(yl,e)}catch{}}var At=Math.clz32?Math.clz32:Cp,_p=Math.log,Op=Math.LN2;function Cp(e){return e>>>=0,e===0?32:31-(_p(e)/Op|0)|0}var xi=256,zi=4194304;function $n(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ui(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var l=0,s=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var m=a&134217727;return m!==0?(a=m&~s,a!==0?l=$n(a):(f&=m,f!==0?l=$n(f):n||(n=m&~e,n!==0&&(l=$n(n))))):(m=a&~s,m!==0?l=$n(m):f!==0?l=$n(f):n||(n=a&~e,n!==0&&(l=$n(n)))),l===0?0:t!==0&&t!==l&&(t&s)===0&&(s=l&-l,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:l}function vl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function wp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function br(){var e=xi;return xi<<=1,(xi&4194048)===0&&(xi=256),e}function Sr(){var e=zi;return zi<<=1,(zi&62914560)===0&&(zi=4194304),e}function yo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jp(e,t,n,a,l,s){var f=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var m=e.entanglements,v=e.expirationTimes,D=e.hiddenUpdates;for(n=f&~n;0<n;){var j=31-At(n),U=1<<j;m[j]=0,v[j]=-1;var _=D[j];if(_!==null)for(D[j]=null,j=0;j<_.length;j++){var C=_[j];C!==null&&(C.lane&=-536870913)}n&=~U}a!==0&&Er(e,a,0),s!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=s&~(f&~t))}function Er(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-At(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&4194090}function Ar(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-At(n),l=1<<a;l&t|e[a]&t&&(e[a]|=t),n&=~l}}function vo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function bo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Tr(){var e=R.p;return e!==0?e:(e=window.event,e===void 0?32:ag(e.type))}function xp(e,t){var n=R.p;try{return R.p=e,t()}finally{R.p=n}}var Dn=Math.random().toString(36).slice(2),ut="__reactFiber$"+Dn,mt="__reactProps$"+Dn,Ea="__reactContainer$"+Dn,So="__reactEvents$"+Dn,zp="__reactListeners$"+Dn,Up="__reactHandles$"+Dn,Mr="__reactResources$"+Dn,Sl="__reactMarker$"+Dn;function Eo(e){delete e[ut],delete e[mt],delete e[So],delete e[zp],delete e[Up]}function Aa(e){var t=e[ut];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ea]||n[ut]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xm(e);e!==null;){if(n=e[ut])return n;e=Xm(e)}return t}e=n,n=e.parentNode}return null}function Ta(e){if(e=e[ut]||e[Ea]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function El(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Ma(e){var t=e[Mr];return t||(t=e[Mr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Fe(e){e[Sl]=!0}var Dr=new Set,_r={};function Fn(e,t){Da(e,t),Da(e+"Capture",t)}function Da(e,t){for(_r[e]=t,e=0;e<t.length;e++)Dr.add(t[e])}var Bp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Or={},Cr={};function Np(e){return go.call(Cr,e)?!0:go.call(Or,e)?!1:Bp.test(e)?Cr[e]=!0:(Or[e]=!0,!1)}function Bi(e,t,n){if(Np(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ni(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function nn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}var Ao,wr;function _a(e){if(Ao===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ao=t&&t[1]||"",wr=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ao+e+wr}var To=!1;function Mo(e,t){if(!e||To)return"";To=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var U=function(){throw Error()};if(Object.defineProperty(U.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(U,[])}catch(C){var _=C}Reflect.construct(e,[],U)}else{try{U.call()}catch(C){_=C}e.call(U.prototype)}}else{try{throw Error()}catch(C){_=C}(U=e())&&typeof U.catch=="function"&&U.catch(function(){})}}catch(C){if(C&&_&&typeof C.stack=="string")return[C.stack,_.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),f=s[0],m=s[1];if(f&&m){var v=f.split(`
`),D=m.split(`
`);for(l=a=0;a<v.length&&!v[a].includes("DetermineComponentFrameRoot");)a++;for(;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;if(a===v.length||l===D.length)for(a=v.length-1,l=D.length-1;1<=a&&0<=l&&v[a]!==D[l];)l--;for(;1<=a&&0<=l;a--,l--)if(v[a]!==D[l]){if(a!==1||l!==1)do if(a--,l--,0>l||v[a]!==D[l]){var j=`
`+v[a].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=a&&0<=l);break}}}finally{To=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?_a(n):""}function Lp(e){switch(e.tag){case 26:case 27:case 5:return _a(e.type);case 16:return _a("Lazy");case 13:return _a("Suspense");case 19:return _a("SuspenseList");case 0:case 15:return Mo(e.type,!1);case 11:return Mo(e.type.render,!1);case 1:return Mo(e.type,!0);case 31:return _a("Activity");default:return""}}function jr(e){try{var t="";do t+=Lp(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xr(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Rp(e){var t=xr(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(f){a=""+f,s.call(this,f)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(f){a=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Li(e){e._valueTracker||(e._valueTracker=Rp(e))}function zr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=xr(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Ri(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Hp=/[\n"\\]/g;function Bt(e){return e.replace(Hp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Do(e,t,n,a,l,s,f,m){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ut(t)):e.value!==""+Ut(t)&&(e.value=""+Ut(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?_o(e,f,Ut(t)):n!=null?_o(e,f,Ut(n)):a!=null&&e.removeAttribute("value"),l==null&&s!=null&&(e.defaultChecked=!!s),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.name=""+Ut(m):e.removeAttribute("name")}function Ur(e,t,n,a,l,s,f,m){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;n=n!=null?""+Ut(n):"",t=t!=null?""+Ut(t):n,m||t===e.value||(e.value=t),e.defaultValue=t}a=a??l,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=m?e.checked:!!a,e.defaultChecked=!!a,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f)}function _o(e,t,n){t==="number"&&Ri(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Oa(e,t,n,a){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Ut(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,a&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Br(e,t,n){if(t!=null&&(t=""+Ut(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ut(n):""}function Nr(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(o(92));if(Ge(a)){if(1<a.length)throw Error(o(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Ut(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a)}function Ca(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var qp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lr(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||qp.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Rr(e,t,n){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var l in t)a=t[l],t.hasOwnProperty(l)&&n[l]!==a&&Lr(e,l,a)}else for(var s in t)t.hasOwnProperty(s)&&Lr(e,s,t[s])}function Oo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hi(e){return Yp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Co=null;function wo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wa=null,ja=null;function Hr(e){var t=Ta(e);if(t&&(e=t.stateNode)){var n=e[mt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Do(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Bt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var l=a[mt]||null;if(!l)throw Error(o(90));Do(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&zr(a)}break e;case"textarea":Br(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Oa(e,!!n.multiple,t,!1)}}}var jo=!1;function qr(e,t,n){if(jo)return e(t,n);jo=!0;try{var a=e(t);return a}finally{if(jo=!1,(wa!==null||ja!==null)&&(Tu(),wa&&(t=wa,e=ja,ja=wa=null,Hr(t),e)))for(t=0;t<e.length;t++)Hr(e[t])}}function Al(e,t){var n=e.stateNode;if(n===null)return null;var a=n[mt]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xo=!1;if(an)try{var Tl={};Object.defineProperty(Tl,"passive",{get:function(){xo=!0}}),window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{xo=!1}var _n=null,zo=null,qi=null;function Gr(){if(qi)return qi;var e,t=zo,n=t.length,a,l="value"in _n?_n.value:_n.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var f=n-e;for(a=1;a<=f&&t[n-a]===l[s-a];a++);return qi=l.slice(e,1<a?1-a:void 0)}function Gi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yi(){return!0}function Yr(){return!1}function gt(e){function t(n,a,l,s,f){this._reactName=n,this._targetInst=l,this.type=a,this.nativeEvent=s,this.target=f,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(n=e[m],this[m]=n?n(s):s[m]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Yi:Yr,this.isPropagationStopped=Yr,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),t}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=gt(Wn),Ml=A({},Wn,{view:0,detail:0}),Xp=gt(Ml),Uo,Bo,Dl,Qi=A({},Ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Dl&&(Dl&&e.type==="mousemove"?(Uo=e.screenX-Dl.screenX,Bo=e.screenY-Dl.screenY):Bo=Uo=0,Dl=e),Uo)},movementY:function(e){return"movementY"in e?e.movementY:Bo}}),Xr=gt(Qi),Qp=A({},Qi,{dataTransfer:0}),Zp=gt(Qp),Vp=A({},Ml,{relatedTarget:0}),No=gt(Vp),Kp=A({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Pp=gt(Kp),kp=A({},Wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jp=gt(kp),Ip=A({},Wn,{data:0}),Qr=gt(Ip),$p={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wp[e])?!!t[e]:!1}function Lo(){return eh}var th=A({},Ml,{key:function(e){if(e.key){var t=$p[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lo,charCode:function(e){return e.type==="keypress"?Gi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nh=gt(th),ah=A({},Qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zr=gt(ah),lh=A({},Ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lo}),ih=gt(lh),uh=A({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),oh=gt(uh),sh=A({},Qi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ch=gt(sh),rh=A({},Wn,{newState:0,oldState:0}),fh=gt(rh),dh=[9,13,27,32],Ro=an&&"CompositionEvent"in window,_l=null;an&&"documentMode"in document&&(_l=document.documentMode);var mh=an&&"TextEvent"in window&&!_l,Vr=an&&(!Ro||_l&&8<_l&&11>=_l),Kr=" ",Pr=!1;function kr(e,t){switch(e){case"keyup":return dh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xa=!1;function gh(e,t){switch(e){case"compositionend":return Jr(t);case"keypress":return t.which!==32?null:(Pr=!0,Kr);case"textInput":return e=t.data,e===Kr&&Pr?null:e;default:return null}}function ph(e,t){if(xa)return e==="compositionend"||!Ro&&kr(e,t)?(e=Gr(),qi=zo=_n=null,xa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vr&&t.locale!=="ko"?null:t.data;default:return null}}var hh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hh[e.type]:t==="textarea"}function $r(e,t,n,a){wa?ja?ja.push(a):ja=[a]:wa=a,t=wu(t,"onChange"),0<t.length&&(n=new Xi("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Ol=null,Cl=null;function yh(e){zm(e,0)}function Zi(e){var t=El(e);if(zr(t))return e}function Fr(e,t){if(e==="change")return t}var Wr=!1;if(an){var Ho;if(an){var qo="oninput"in document;if(!qo){var ef=document.createElement("div");ef.setAttribute("oninput","return;"),qo=typeof ef.oninput=="function"}Ho=qo}else Ho=!1;Wr=Ho&&(!document.documentMode||9<document.documentMode)}function tf(){Ol&&(Ol.detachEvent("onpropertychange",nf),Cl=Ol=null)}function nf(e){if(e.propertyName==="value"&&Zi(Cl)){var t=[];$r(t,Cl,e,wo(e)),qr(yh,t)}}function vh(e,t,n){e==="focusin"?(tf(),Ol=t,Cl=n,Ol.attachEvent("onpropertychange",nf)):e==="focusout"&&tf()}function bh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zi(Cl)}function Sh(e,t){if(e==="click")return Zi(t)}function Eh(e,t){if(e==="input"||e==="change")return Zi(t)}function Ah(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:Ah;function wl(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var l=n[a];if(!go.call(t,l)||!Tt(e[l],t[l]))return!1}return!0}function af(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lf(e,t){var n=af(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=af(n)}}function uf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function of(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ri(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ri(e.document)}return t}function Go(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Th=an&&"documentMode"in document&&11>=document.documentMode,za=null,Yo=null,jl=null,Xo=!1;function sf(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xo||za==null||za!==Ri(a)||(a=za,"selectionStart"in a&&Go(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),jl&&wl(jl,a)||(jl=a,a=wu(Yo,"onSelect"),0<a.length&&(t=new Xi("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=za)))}function ea(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ua={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},Qo={},cf={};an&&(cf=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function ta(e){if(Qo[e])return Qo[e];if(!Ua[e])return e;var t=Ua[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in cf)return Qo[e]=t[n];return e}var rf=ta("animationend"),ff=ta("animationiteration"),df=ta("animationstart"),Mh=ta("transitionrun"),Dh=ta("transitionstart"),_h=ta("transitioncancel"),mf=ta("transitionend"),gf=new Map,Zo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zo.push("scrollEnd");function Qt(e,t){gf.set(e,t),Fn(t,[e])}var pf=new WeakMap;function Nt(e,t){if(typeof e=="object"&&e!==null){var n=pf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:jr(t)},pf.set(e,t),t)}return{value:e,source:t,stack:jr(t)}}var Lt=[],Ba=0,Vo=0;function Vi(){for(var e=Ba,t=Vo=Ba=0;t<e;){var n=Lt[t];Lt[t++]=null;var a=Lt[t];Lt[t++]=null;var l=Lt[t];Lt[t++]=null;var s=Lt[t];if(Lt[t++]=null,a!==null&&l!==null){var f=a.pending;f===null?l.next=l:(l.next=f.next,f.next=l),a.pending=l}s!==0&&hf(n,l,s)}}function Ki(e,t,n,a){Lt[Ba++]=e,Lt[Ba++]=t,Lt[Ba++]=n,Lt[Ba++]=a,Vo|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Ko(e,t,n,a){return Ki(e,t,n,a),Pi(e)}function Na(e,t){return Ki(e,null,null,t),Pi(e)}function hf(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var l=!1,s=e.return;s!==null;)s.childLanes|=n,a=s.alternate,a!==null&&(a.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(l=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,l&&t!==null&&(l=31-At(n),e=s.hiddenUpdates,a=e[l],a===null?e[l]=[t]:a.push(t),t.lane=n|536870912),s):null}function Pi(e){if(50<ti)throw ti=0,Fs=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var La={};function Oh(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,n,a){return new Oh(e,t,n,a)}function Po(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ln(e,t){var n=e.alternate;return n===null?(n=Mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function yf(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ki(e,t,n,a,l,s){var f=0;if(a=e,typeof e=="function")Po(e)&&(f=1);else if(typeof e=="string")f=wy(e,n,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case de:return e=Mt(31,n,t,l),e.elementType=de,e.lanes=s,e;case H:return na(n.children,l,s,t);case Z:f=8,l|=24;break;case ce:return e=Mt(12,n,t,l|2),e.elementType=ce,e.lanes=s,e;case ne:return e=Mt(13,n,t,l),e.elementType=ne,e.lanes=s,e;case De:return e=Mt(19,n,t,l),e.elementType=De,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Be:case he:f=10;break e;case pe:f=9;break e;case Me:f=11;break e;case Ne:f=14;break e;case X:f=16,a=null;break e}f=29,n=Error(o(130,e===null?"null":typeof e,"")),a=null}return t=Mt(f,n,t,l),t.elementType=e,t.type=a,t.lanes=s,t}function na(e,t,n,a){return e=Mt(7,e,a,t),e.lanes=n,e}function ko(e,t,n){return e=Mt(6,e,null,t),e.lanes=n,e}function Jo(e,t,n){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ra=[],Ha=0,Ji=null,Ii=0,Rt=[],Ht=0,aa=null,un=1,on="";function la(e,t){Ra[Ha++]=Ii,Ra[Ha++]=Ji,Ji=e,Ii=t}function vf(e,t,n){Rt[Ht++]=un,Rt[Ht++]=on,Rt[Ht++]=aa,aa=e;var a=un;e=on;var l=32-At(a)-1;a&=~(1<<l),n+=1;var s=32-At(t)+l;if(30<s){var f=l-l%5;s=(a&(1<<f)-1).toString(32),a>>=f,l-=f,un=1<<32-At(t)+l|n<<l|a,on=s+e}else un=1<<s|n<<l|a,on=e}function Io(e){e.return!==null&&(la(e,1),vf(e,1,0))}function $o(e){for(;e===Ji;)Ji=Ra[--Ha],Ra[Ha]=null,Ii=Ra[--Ha],Ra[Ha]=null;for(;e===aa;)aa=Rt[--Ht],Rt[Ht]=null,on=Rt[--Ht],Rt[Ht]=null,un=Rt[--Ht],Rt[Ht]=null}var ft=null,Ye=null,ye=!1,ia=null,Jt=!1,Fo=Error(o(519));function ua(e){var t=Error(o(418,""));throw Ul(Nt(t,e)),Fo}function bf(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[ut]=e,t[mt]=a,n){case"dialog":oe("cancel",t),oe("close",t);break;case"iframe":case"object":case"embed":oe("load",t);break;case"video":case"audio":for(n=0;n<ai.length;n++)oe(ai[n],t);break;case"source":oe("error",t);break;case"img":case"image":case"link":oe("error",t),oe("load",t);break;case"details":oe("toggle",t);break;case"input":oe("invalid",t),Ur(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),Li(t);break;case"select":oe("invalid",t);break;case"textarea":oe("invalid",t),Nr(t,a.value,a.defaultValue,a.children),Li(t)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Lm(t.textContent,n)?(a.popover!=null&&(oe("beforetoggle",t),oe("toggle",t)),a.onScroll!=null&&oe("scroll",t),a.onScrollEnd!=null&&oe("scrollend",t),a.onClick!=null&&(t.onclick=ju),t=!0):t=!1,t||ua(e)}function Sf(e){for(ft=e.return;ft;)switch(ft.tag){case 5:case 13:Jt=!1;return;case 27:case 3:Jt=!0;return;default:ft=ft.return}}function xl(e){if(e!==ft)return!1;if(!ye)return Sf(e),ye=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||gc(e.type,e.memoizedProps)),n=!n),n&&Ye&&ua(e),Sf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Ye=Vt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Ye=null}}else t===27?(t=Ye,Xn(e.type)?(e=vc,vc=null,Ye=e):Ye=t):Ye=ft?Vt(e.stateNode.nextSibling):null;return!0}function zl(){Ye=ft=null,ye=!1}function Ef(){var e=ia;return e!==null&&(yt===null?yt=e:yt.push.apply(yt,e),ia=null),e}function Ul(e){ia===null?ia=[e]:ia.push(e)}var Wo=B(null),oa=null,sn=null;function On(e,t,n){q(Wo,t._currentValue),t._currentValue=n}function cn(e){e._currentValue=Wo.current,G(Wo)}function es(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function ts(e,t,n,a){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var s=l.dependencies;if(s!==null){var f=l.child;s=s.firstContext;e:for(;s!==null;){var m=s;s=l;for(var v=0;v<t.length;v++)if(m.context===t[v]){s.lanes|=n,m=s.alternate,m!==null&&(m.lanes|=n),es(s.return,n,e),a||(f=null);break e}s=m.next}}else if(l.tag===18){if(f=l.return,f===null)throw Error(o(341));f.lanes|=n,s=f.alternate,s!==null&&(s.lanes|=n),es(f,n,e),f=null}else f=l.child;if(f!==null)f.return=l;else for(f=l;f!==null;){if(f===e){f=null;break}if(l=f.sibling,l!==null){l.return=f.return,f=l;break}f=f.return}l=f}}function Bl(e,t,n,a){e=null;for(var l=t,s=!1;l!==null;){if(!s){if((l.flags&524288)!==0)s=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var f=l.alternate;if(f===null)throw Error(o(387));if(f=f.memoizedProps,f!==null){var m=l.type;Tt(l.pendingProps.value,f.value)||(e!==null?e.push(m):e=[m])}}else if(l===St.current){if(f=l.alternate,f===null)throw Error(o(387));f.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(ci):e=[ci])}l=l.return}e!==null&&ts(t,e,n,a),t.flags|=262144}function $i(e){for(e=e.firstContext;e!==null;){if(!Tt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function sa(e){oa=e,sn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ot(e){return Af(oa,e)}function Fi(e,t){return oa===null&&sa(e),Af(e,t)}function Af(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},sn===null){if(e===null)throw Error(o(308));sn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else sn=sn.next=t;return n}var Ch=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},wh=i.unstable_scheduleCallback,jh=i.unstable_NormalPriority,Ie={$$typeof:he,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ns(){return{controller:new Ch,data:new Map,refCount:0}}function Nl(e){e.refCount--,e.refCount===0&&wh(jh,function(){e.controller.abort()})}var Ll=null,as=0,qa=0,Ga=null;function xh(e,t){if(Ll===null){var n=Ll=[];as=0,qa=ic(),Ga={status:"pending",value:void 0,then:function(a){n.push(a)}}}return as++,t.then(Tf,Tf),t}function Tf(){if(--as===0&&Ll!==null){Ga!==null&&(Ga.status="fulfilled");var e=Ll;Ll=null,qa=0,Ga=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function zh(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var l=0;l<n.length;l++)(0,n[l])(t)},function(l){for(a.status="rejected",a.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),a}var Mf=w.S;w.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&xh(e,t),Mf!==null&&Mf(e,t)};var ca=B(null);function ls(){var e=ca.current;return e!==null?e:Oe.pooledCache}function Wi(e,t){t===null?q(ca,ca.current):q(ca,t.pool)}function Df(){var e=ls();return e===null?null:{parent:Ie._currentValue,pool:e}}var Rl=Error(o(460)),_f=Error(o(474)),eu=Error(o(542)),is={then:function(){}};function Of(e){return e=e.status,e==="fulfilled"||e==="rejected"}function tu(){}function Cf(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(tu,tu),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,jf(e),e;default:if(typeof t.status=="string")t.then(tu,tu);else{if(e=Oe,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=a}},function(a){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,jf(e),e}throw Hl=t,Rl}}var Hl=null;function wf(){if(Hl===null)throw Error(o(459));var e=Hl;return Hl=null,e}function jf(e){if(e===Rl||e===eu)throw Error(o(483))}var Cn=!1;function us(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function os(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function jn(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(be&2)!==0){var l=a.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),a.pending=t,t=Pi(e),hf(e,null,n),t}return Ki(e,a,t,n),Pi(e)}function ql(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ar(e,n)}}function ss(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var f={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?l=s=f:s=s.next=f,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var cs=!1;function Gl(){if(cs){var e=Ga;if(e!==null)throw e}}function Yl(e,t,n,a){cs=!1;var l=e.updateQueue;Cn=!1;var s=l.firstBaseUpdate,f=l.lastBaseUpdate,m=l.shared.pending;if(m!==null){l.shared.pending=null;var v=m,D=v.next;v.next=null,f===null?s=D:f.next=D,f=v;var j=e.alternate;j!==null&&(j=j.updateQueue,m=j.lastBaseUpdate,m!==f&&(m===null?j.firstBaseUpdate=D:m.next=D,j.lastBaseUpdate=v))}if(s!==null){var U=l.baseState;f=0,j=D=v=null,m=s;do{var _=m.lane&-536870913,C=_!==m.lane;if(C?(fe&_)===_:(a&_)===_){_!==0&&_===qa&&(cs=!0),j!==null&&(j=j.next={lane:0,tag:m.tag,payload:m.payload,callback:null,next:null});e:{var $=e,k=m;_=t;var Te=n;switch(k.tag){case 1:if($=k.payload,typeof $=="function"){U=$.call(Te,U,_);break e}U=$;break e;case 3:$.flags=$.flags&-65537|128;case 0:if($=k.payload,_=typeof $=="function"?$.call(Te,U,_):$,_==null)break e;U=A({},U,_);break e;case 2:Cn=!0}}_=m.callback,_!==null&&(e.flags|=64,C&&(e.flags|=8192),C=l.callbacks,C===null?l.callbacks=[_]:C.push(_))}else C={lane:_,tag:m.tag,payload:m.payload,callback:m.callback,next:null},j===null?(D=j=C,v=U):j=j.next=C,f|=_;if(m=m.next,m===null){if(m=l.shared.pending,m===null)break;C=m,m=C.next,C.next=null,l.lastBaseUpdate=C,l.shared.pending=null}}while(!0);j===null&&(v=U),l.baseState=v,l.firstBaseUpdate=D,l.lastBaseUpdate=j,s===null&&(l.shared.lanes=0),Hn|=f,e.lanes=f,e.memoizedState=U}}function xf(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function zf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)xf(n[e],t)}var Ya=B(null),nu=B(0);function Uf(e,t){e=hn,q(nu,e),q(Ya,t),hn=e|t.baseLanes}function rs(){q(nu,hn),q(Ya,Ya.current)}function fs(){hn=nu.current,G(Ya),G(nu)}var xn=0,le=null,Ee=null,Ke=null,au=!1,Xa=!1,ra=!1,lu=0,Xl=0,Qa=null,Uh=0;function Ze(){throw Error(o(321))}function ds(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tt(e[n],t[n]))return!1;return!0}function ms(e,t,n,a,l,s){return xn=s,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,w.H=e===null||e.memoizedState===null?hd:yd,ra=!1,s=n(a,l),ra=!1,Xa&&(s=Nf(t,n,a,l)),Bf(e),s}function Bf(e){w.H=ru;var t=Ee!==null&&Ee.next!==null;if(xn=0,Ke=Ee=le=null,au=!1,Xl=0,Qa=null,t)throw Error(o(300));e===null||We||(e=e.dependencies,e!==null&&$i(e)&&(We=!0))}function Nf(e,t,n,a){le=e;var l=0;do{if(Xa&&(Qa=null),Xl=0,Xa=!1,25<=l)throw Error(o(301));if(l+=1,Ke=Ee=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}w.H=Gh,s=t(n,a)}while(Xa);return s}function Bh(){var e=w.H,t=e.useState()[0];return t=typeof t.then=="function"?Ql(t):t,e=e.useState()[0],(Ee!==null?Ee.memoizedState:null)!==e&&(le.flags|=1024),t}function gs(){var e=lu!==0;return lu=0,e}function ps(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function hs(e){if(au){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}au=!1}xn=0,Ke=Ee=le=null,Xa=!1,Xl=lu=0,Qa=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?le.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Pe(){if(Ee===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=Ke===null?le.memoizedState:Ke.next;if(t!==null)Ke=t,Ee=e;else{if(e===null)throw le.alternate===null?Error(o(467)):Error(o(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Ke===null?le.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function ys(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(e){var t=Xl;return Xl+=1,Qa===null&&(Qa=[]),e=Cf(Qa,e,t),t=le,(Ke===null?t.memoizedState:Ke.next)===null&&(t=t.alternate,w.H=t===null||t.memoizedState===null?hd:yd),e}function iu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ql(e);if(e.$$typeof===he)return ot(e)}throw Error(o(438,String(e)))}function vs(e){var t=null,n=le.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=le.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=ys(),le.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=He;return t.index++,n}function rn(e,t){return typeof t=="function"?t(e):t}function uu(e){var t=Pe();return bs(t,Ee,e)}function bs(e,t,n){var a=e.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=n;var l=e.baseQueue,s=a.pending;if(s!==null){if(l!==null){var f=l.next;l.next=s.next,s.next=f}t.baseQueue=l=s,a.pending=null}if(s=e.baseState,l===null)e.memoizedState=s;else{t=l.next;var m=f=null,v=null,D=t,j=!1;do{var U=D.lane&-536870913;if(U!==D.lane?(fe&U)===U:(xn&U)===U){var _=D.revertLane;if(_===0)v!==null&&(v=v.next={lane:0,revertLane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),U===qa&&(j=!0);else if((xn&_)===_){D=D.next,_===qa&&(j=!0);continue}else U={lane:0,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},v===null?(m=v=U,f=s):v=v.next=U,le.lanes|=_,Hn|=_;U=D.action,ra&&n(s,U),s=D.hasEagerState?D.eagerState:n(s,U)}else _={lane:U,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},v===null?(m=v=_,f=s):v=v.next=_,le.lanes|=U,Hn|=U;D=D.next}while(D!==null&&D!==t);if(v===null?f=s:v.next=m,!Tt(s,e.memoizedState)&&(We=!0,j&&(n=Ga,n!==null)))throw n;e.memoizedState=s,e.baseState=f,e.baseQueue=v,a.lastRenderedState=s}return l===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Ss(e){var t=Pe(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var a=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var f=l=l.next;do s=e(s,f.action),f=f.next;while(f!==l);Tt(s,t.memoizedState)||(We=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function Lf(e,t,n){var a=le,l=Pe(),s=ye;if(s){if(n===void 0)throw Error(o(407));n=n()}else n=t();var f=!Tt((Ee||l).memoizedState,n);f&&(l.memoizedState=n,We=!0),l=l.queue;var m=qf.bind(null,a,l,e);if(Zl(2048,8,m,[e]),l.getSnapshot!==t||f||Ke!==null&&Ke.memoizedState.tag&1){if(a.flags|=2048,Za(9,ou(),Hf.bind(null,a,l,n,t),null),Oe===null)throw Error(o(349));s||(xn&124)!==0||Rf(a,t,n)}return n}function Rf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=le.updateQueue,t===null?(t=ys(),le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Hf(e,t,n,a){t.value=n,t.getSnapshot=a,Gf(t)&&Yf(e)}function qf(e,t,n){return n(function(){Gf(t)&&Yf(e)})}function Gf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tt(e,n)}catch{return!0}}function Yf(e){var t=Na(e,2);t!==null&&wt(t,e,2)}function Es(e){var t=pt();if(typeof e=="function"){var n=e;if(e=n(),ra){Mn(!0);try{n()}finally{Mn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rn,lastRenderedState:e},t}function Xf(e,t,n,a){return e.baseState=n,bs(e,Ee,typeof a=="function"?a:rn)}function Nh(e,t,n,a,l){if(cu(e))throw Error(o(485));if(e=t.action,e!==null){var s={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){s.listeners.push(f)}};w.T!==null?n(!0):s.isTransition=!1,a(s),n=t.pending,n===null?(s.next=t.pending=s,Qf(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Qf(e,t){var n=t.action,a=t.payload,l=e.state;if(t.isTransition){var s=w.T,f={};w.T=f;try{var m=n(l,a),v=w.S;v!==null&&v(f,m),Zf(e,t,m)}catch(D){As(e,t,D)}finally{w.T=s}}else try{s=n(l,a),Zf(e,t,s)}catch(D){As(e,t,D)}}function Zf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Vf(e,t,a)},function(a){return As(e,t,a)}):Vf(e,t,n)}function Vf(e,t,n){t.status="fulfilled",t.value=n,Kf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Qf(e,n)))}function As(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Kf(t),t=t.next;while(t!==a)}e.action=null}function Kf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Pf(e,t){return t}function kf(e,t){if(ye){var n=Oe.formState;if(n!==null){e:{var a=le;if(ye){if(Ye){t:{for(var l=Ye,s=Jt;l.nodeType!==8;){if(!s){l=null;break t}if(l=Vt(l.nextSibling),l===null){l=null;break t}}s=l.data,l=s==="F!"||s==="F"?l:null}if(l){Ye=Vt(l.nextSibling),a=l.data==="F!";break e}}ua(a)}a=!1}a&&(t=n[0])}}return n=pt(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pf,lastRenderedState:t},n.queue=a,n=md.bind(null,le,a),a.dispatch=n,a=Es(!1),s=Os.bind(null,le,!1,a.queue),a=pt(),l={state:t,dispatch:null,action:e,pending:null},a.queue=l,n=Nh.bind(null,le,l,s,n),l.dispatch=n,a.memoizedState=e,[t,n,!1]}function Jf(e){var t=Pe();return If(t,Ee,e)}function If(e,t,n){if(t=bs(e,t,Pf)[0],e=uu(rn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Ql(t)}catch(f){throw f===Rl?eu:f}else a=t;t=Pe();var l=t.queue,s=l.dispatch;return n!==t.memoizedState&&(le.flags|=2048,Za(9,ou(),Lh.bind(null,l,n),null)),[a,s,e]}function Lh(e,t){e.action=t}function $f(e){var t=Pe(),n=Ee;if(n!==null)return If(t,n,e);Pe(),t=t.memoizedState,n=Pe();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Za(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=le.updateQueue,t===null&&(t=ys(),le.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function ou(){return{destroy:void 0,resource:void 0}}function Ff(){return Pe().memoizedState}function su(e,t,n,a){var l=pt();a=a===void 0?null:a,le.flags|=e,l.memoizedState=Za(1|t,ou(),n,a)}function Zl(e,t,n,a){var l=Pe();a=a===void 0?null:a;var s=l.memoizedState.inst;Ee!==null&&a!==null&&ds(a,Ee.memoizedState.deps)?l.memoizedState=Za(t,s,n,a):(le.flags|=e,l.memoizedState=Za(1|t,s,n,a))}function Wf(e,t){su(8390656,8,e,t)}function ed(e,t){Zl(2048,8,e,t)}function td(e,t){return Zl(4,2,e,t)}function nd(e,t){return Zl(4,4,e,t)}function ad(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ld(e,t,n){n=n!=null?n.concat([e]):null,Zl(4,4,ad.bind(null,t,e),n)}function Ts(){}function id(e,t){var n=Pe();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&ds(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function ud(e,t){var n=Pe();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&ds(t,a[1]))return a[0];if(a=e(),ra){Mn(!0);try{e()}finally{Mn(!1)}}return n.memoizedState=[a,t],a}function Ms(e,t,n){return n===void 0||(xn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=cm(),le.lanes|=e,Hn|=e,n)}function od(e,t,n,a){return Tt(n,t)?n:Ya.current!==null?(e=Ms(e,n,a),Tt(e,t)||(We=!0),e):(xn&42)===0?(We=!0,e.memoizedState=n):(e=cm(),le.lanes|=e,Hn|=e,t)}function sd(e,t,n,a,l){var s=R.p;R.p=s!==0&&8>s?s:8;var f=w.T,m={};w.T=m,Os(e,!1,t,n);try{var v=l(),D=w.S;if(D!==null&&D(m,v),v!==null&&typeof v=="object"&&typeof v.then=="function"){var j=zh(v,a);Vl(e,t,j,Ct(e))}else Vl(e,t,a,Ct(e))}catch(U){Vl(e,t,{then:function(){},status:"rejected",reason:U},Ct())}finally{R.p=s,w.T=f}}function Rh(){}function Ds(e,t,n,a){if(e.tag!==5)throw Error(o(476));var l=cd(e).queue;sd(e,l,t,K,n===null?Rh:function(){return rd(e),n(a)})}function cd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rn,lastRenderedState:K},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function rd(e){var t=cd(e).next.queue;Vl(e,t,{},Ct())}function _s(){return ot(ci)}function fd(){return Pe().memoizedState}function dd(){return Pe().memoizedState}function Hh(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ct();e=wn(n);var a=jn(t,e,n);a!==null&&(wt(a,t,n),ql(a,t,n)),t={cache:ns()},e.payload=t;return}t=t.return}}function qh(e,t,n){var a=Ct();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},cu(e)?gd(t,n):(n=Ko(e,t,n,a),n!==null&&(wt(n,e,a),pd(n,t,a)))}function md(e,t,n){var a=Ct();Vl(e,t,n,a)}function Vl(e,t,n,a){var l={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(cu(e))gd(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var f=t.lastRenderedState,m=s(f,n);if(l.hasEagerState=!0,l.eagerState=m,Tt(m,f))return Ki(e,t,l,0),Oe===null&&Vi(),!1}catch{}finally{}if(n=Ko(e,t,l,a),n!==null)return wt(n,e,a),pd(n,t,a),!0}return!1}function Os(e,t,n,a){if(a={lane:2,revertLane:ic(),action:a,hasEagerState:!1,eagerState:null,next:null},cu(e)){if(t)throw Error(o(479))}else t=Ko(e,n,a,2),t!==null&&wt(t,e,2)}function cu(e){var t=e.alternate;return e===le||t!==null&&t===le}function gd(e,t){Xa=au=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pd(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ar(e,n)}}var ru={readContext:ot,use:iu,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze},hd={readContext:ot,use:iu,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:Wf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,su(4194308,4,ad.bind(null,t,e),n)},useLayoutEffect:function(e,t){return su(4194308,4,e,t)},useInsertionEffect:function(e,t){su(4,2,e,t)},useMemo:function(e,t){var n=pt();t=t===void 0?null:t;var a=e();if(ra){Mn(!0);try{e()}finally{Mn(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=pt();if(n!==void 0){var l=n(t);if(ra){Mn(!0);try{n(t)}finally{Mn(!1)}}}else l=t;return a.memoizedState=a.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},a.queue=e,e=e.dispatch=qh.bind(null,le,e),[a.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:function(e){e=Es(e);var t=e.queue,n=md.bind(null,le,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ts,useDeferredValue:function(e,t){var n=pt();return Ms(n,e,t)},useTransition:function(){var e=Es(!1);return e=sd.bind(null,le,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=le,l=pt();if(ye){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),Oe===null)throw Error(o(349));(fe&124)!==0||Rf(a,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,Wf(qf.bind(null,a,s,e),[e]),a.flags|=2048,Za(9,ou(),Hf.bind(null,a,s,n,t),null),n},useId:function(){var e=pt(),t=Oe.identifierPrefix;if(ye){var n=on,a=un;n=(a&~(1<<32-At(a)-1)).toString(32)+n,t="«"+t+"R"+n,n=lu++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=Uh++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:_s,useFormState:kf,useActionState:kf,useOptimistic:function(e){var t=pt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Os.bind(null,le,!0,n),n.dispatch=t,[e,t]},useMemoCache:vs,useCacheRefresh:function(){return pt().memoizedState=Hh.bind(null,le)}},yd={readContext:ot,use:iu,useCallback:id,useContext:ot,useEffect:ed,useImperativeHandle:ld,useInsertionEffect:td,useLayoutEffect:nd,useMemo:ud,useReducer:uu,useRef:Ff,useState:function(){return uu(rn)},useDebugValue:Ts,useDeferredValue:function(e,t){var n=Pe();return od(n,Ee.memoizedState,e,t)},useTransition:function(){var e=uu(rn)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:Ql(e),t]},useSyncExternalStore:Lf,useId:fd,useHostTransitionStatus:_s,useFormState:Jf,useActionState:Jf,useOptimistic:function(e,t){var n=Pe();return Xf(n,Ee,e,t)},useMemoCache:vs,useCacheRefresh:dd},Gh={readContext:ot,use:iu,useCallback:id,useContext:ot,useEffect:ed,useImperativeHandle:ld,useInsertionEffect:td,useLayoutEffect:nd,useMemo:ud,useReducer:Ss,useRef:Ff,useState:function(){return Ss(rn)},useDebugValue:Ts,useDeferredValue:function(e,t){var n=Pe();return Ee===null?Ms(n,e,t):od(n,Ee.memoizedState,e,t)},useTransition:function(){var e=Ss(rn)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:Ql(e),t]},useSyncExternalStore:Lf,useId:fd,useHostTransitionStatus:_s,useFormState:$f,useActionState:$f,useOptimistic:function(e,t){var n=Pe();return Ee!==null?Xf(n,Ee,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:vs,useCacheRefresh:dd},Va=null,Kl=0;function fu(e){var t=Kl;return Kl+=1,Va===null&&(Va=[]),Cf(Va,e,t)}function Pl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function du(e,t){throw t.$$typeof===O?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function vd(e){var t=e._init;return t(e._payload)}function bd(e){function t(T,E){if(e){var M=T.deletions;M===null?(T.deletions=[E],T.flags|=16):M.push(E)}}function n(T,E){if(!e)return null;for(;E!==null;)t(T,E),E=E.sibling;return null}function a(T){for(var E=new Map;T!==null;)T.key!==null?E.set(T.key,T):E.set(T.index,T),T=T.sibling;return E}function l(T,E){return T=ln(T,E),T.index=0,T.sibling=null,T}function s(T,E,M){return T.index=M,e?(M=T.alternate,M!==null?(M=M.index,M<E?(T.flags|=67108866,E):M):(T.flags|=67108866,E)):(T.flags|=1048576,E)}function f(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function m(T,E,M,z){return E===null||E.tag!==6?(E=ko(M,T.mode,z),E.return=T,E):(E=l(E,M),E.return=T,E)}function v(T,E,M,z){var Y=M.type;return Y===H?j(T,E,M.props.children,z,M.key):E!==null&&(E.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===X&&vd(Y)===E.type)?(E=l(E,M.props),Pl(E,M),E.return=T,E):(E=ki(M.type,M.key,M.props,null,T.mode,z),Pl(E,M),E.return=T,E)}function D(T,E,M,z){return E===null||E.tag!==4||E.stateNode.containerInfo!==M.containerInfo||E.stateNode.implementation!==M.implementation?(E=Jo(M,T.mode,z),E.return=T,E):(E=l(E,M.children||[]),E.return=T,E)}function j(T,E,M,z,Y){return E===null||E.tag!==7?(E=na(M,T.mode,z,Y),E.return=T,E):(E=l(E,M),E.return=T,E)}function U(T,E,M){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=ko(""+E,T.mode,M),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case x:return M=ki(E.type,E.key,E.props,null,T.mode,M),Pl(M,E),M.return=T,M;case N:return E=Jo(E,T.mode,M),E.return=T,E;case X:var z=E._init;return E=z(E._payload),U(T,E,M)}if(Ge(E)||je(E))return E=na(E,T.mode,M,null),E.return=T,E;if(typeof E.then=="function")return U(T,fu(E),M);if(E.$$typeof===he)return U(T,Fi(T,E),M);du(T,E)}return null}function _(T,E,M,z){var Y=E!==null?E.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return Y!==null?null:m(T,E,""+M,z);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case x:return M.key===Y?v(T,E,M,z):null;case N:return M.key===Y?D(T,E,M,z):null;case X:return Y=M._init,M=Y(M._payload),_(T,E,M,z)}if(Ge(M)||je(M))return Y!==null?null:j(T,E,M,z,null);if(typeof M.then=="function")return _(T,E,fu(M),z);if(M.$$typeof===he)return _(T,E,Fi(T,M),z);du(T,M)}return null}function C(T,E,M,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return T=T.get(M)||null,m(E,T,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return T=T.get(z.key===null?M:z.key)||null,v(E,T,z,Y);case N:return T=T.get(z.key===null?M:z.key)||null,D(E,T,z,Y);case X:var ie=z._init;return z=ie(z._payload),C(T,E,M,z,Y)}if(Ge(z)||je(z))return T=T.get(M)||null,j(E,T,z,Y,null);if(typeof z.then=="function")return C(T,E,M,fu(z),Y);if(z.$$typeof===he)return C(T,E,M,Fi(E,z),Y);du(E,z)}return null}function $(T,E,M,z){for(var Y=null,ie=null,Q=E,J=E=0,tt=null;Q!==null&&J<M.length;J++){Q.index>J?(tt=Q,Q=null):tt=Q.sibling;var ge=_(T,Q,M[J],z);if(ge===null){Q===null&&(Q=tt);break}e&&Q&&ge.alternate===null&&t(T,Q),E=s(ge,E,J),ie===null?Y=ge:ie.sibling=ge,ie=ge,Q=tt}if(J===M.length)return n(T,Q),ye&&la(T,J),Y;if(Q===null){for(;J<M.length;J++)Q=U(T,M[J],z),Q!==null&&(E=s(Q,E,J),ie===null?Y=Q:ie.sibling=Q,ie=Q);return ye&&la(T,J),Y}for(Q=a(Q);J<M.length;J++)tt=C(Q,T,J,M[J],z),tt!==null&&(e&&tt.alternate!==null&&Q.delete(tt.key===null?J:tt.key),E=s(tt,E,J),ie===null?Y=tt:ie.sibling=tt,ie=tt);return e&&Q.forEach(function(Pn){return t(T,Pn)}),ye&&la(T,J),Y}function k(T,E,M,z){if(M==null)throw Error(o(151));for(var Y=null,ie=null,Q=E,J=E=0,tt=null,ge=M.next();Q!==null&&!ge.done;J++,ge=M.next()){Q.index>J?(tt=Q,Q=null):tt=Q.sibling;var Pn=_(T,Q,ge.value,z);if(Pn===null){Q===null&&(Q=tt);break}e&&Q&&Pn.alternate===null&&t(T,Q),E=s(Pn,E,J),ie===null?Y=Pn:ie.sibling=Pn,ie=Pn,Q=tt}if(ge.done)return n(T,Q),ye&&la(T,J),Y;if(Q===null){for(;!ge.done;J++,ge=M.next())ge=U(T,ge.value,z),ge!==null&&(E=s(ge,E,J),ie===null?Y=ge:ie.sibling=ge,ie=ge);return ye&&la(T,J),Y}for(Q=a(Q);!ge.done;J++,ge=M.next())ge=C(Q,T,J,ge.value,z),ge!==null&&(e&&ge.alternate!==null&&Q.delete(ge.key===null?J:ge.key),E=s(ge,E,J),ie===null?Y=ge:ie.sibling=ge,ie=ge);return e&&Q.forEach(function(Yy){return t(T,Yy)}),ye&&la(T,J),Y}function Te(T,E,M,z){if(typeof M=="object"&&M!==null&&M.type===H&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case x:e:{for(var Y=M.key;E!==null;){if(E.key===Y){if(Y=M.type,Y===H){if(E.tag===7){n(T,E.sibling),z=l(E,M.props.children),z.return=T,T=z;break e}}else if(E.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===X&&vd(Y)===E.type){n(T,E.sibling),z=l(E,M.props),Pl(z,M),z.return=T,T=z;break e}n(T,E);break}else t(T,E);E=E.sibling}M.type===H?(z=na(M.props.children,T.mode,z,M.key),z.return=T,T=z):(z=ki(M.type,M.key,M.props,null,T.mode,z),Pl(z,M),z.return=T,T=z)}return f(T);case N:e:{for(Y=M.key;E!==null;){if(E.key===Y)if(E.tag===4&&E.stateNode.containerInfo===M.containerInfo&&E.stateNode.implementation===M.implementation){n(T,E.sibling),z=l(E,M.children||[]),z.return=T,T=z;break e}else{n(T,E);break}else t(T,E);E=E.sibling}z=Jo(M,T.mode,z),z.return=T,T=z}return f(T);case X:return Y=M._init,M=Y(M._payload),Te(T,E,M,z)}if(Ge(M))return $(T,E,M,z);if(je(M)){if(Y=je(M),typeof Y!="function")throw Error(o(150));return M=Y.call(M),k(T,E,M,z)}if(typeof M.then=="function")return Te(T,E,fu(M),z);if(M.$$typeof===he)return Te(T,E,Fi(T,M),z);du(T,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,E!==null&&E.tag===6?(n(T,E.sibling),z=l(E,M),z.return=T,T=z):(n(T,E),z=ko(M,T.mode,z),z.return=T,T=z),f(T)):n(T,E)}return function(T,E,M,z){try{Kl=0;var Y=Te(T,E,M,z);return Va=null,Y}catch(Q){if(Q===Rl||Q===eu)throw Q;var ie=Mt(29,Q,null,T.mode);return ie.lanes=z,ie.return=T,ie}finally{}}}var Ka=bd(!0),Sd=bd(!1),qt=B(null),It=null;function zn(e){var t=e.alternate;q($e,$e.current&1),q(qt,e),It===null&&(t===null||Ya.current!==null||t.memoizedState!==null)&&(It=e)}function Ed(e){if(e.tag===22){if(q($e,$e.current),q(qt,e),It===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(It=e)}}else Un()}function Un(){q($e,$e.current),q(qt,qt.current)}function fn(e){G(qt),It===e&&(It=null),G($e)}var $e=B(0);function mu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||yc(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Cs(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:A({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ws={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Ct(),l=wn(a);l.payload=t,n!=null&&(l.callback=n),t=jn(e,l,a),t!==null&&(wt(t,e,a),ql(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Ct(),l=wn(a);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=jn(e,l,a),t!==null&&(wt(t,e,a),ql(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ct(),a=wn(n);a.tag=2,t!=null&&(a.callback=t),t=jn(e,a,n),t!==null&&(wt(t,e,n),ql(t,e,n))}};function Ad(e,t,n,a,l,s,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,s,f):t.prototype&&t.prototype.isPureReactComponent?!wl(n,a)||!wl(l,s):!0}function Td(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&ws.enqueueReplaceState(t,t.state,null)}function fa(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=A({},n));for(var l in e)n[l]===void 0&&(n[l]=e[l])}return n}var gu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Md(e){gu(e)}function Dd(e){console.error(e)}function _d(e){gu(e)}function pu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Od(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function js(e,t,n){return n=wn(n),n.tag=3,n.payload={element:null},n.callback=function(){pu(e,t)},n}function Cd(e){return e=wn(e),e.tag=3,e}function wd(e,t,n,a){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var s=a.value;e.payload=function(){return l(s)},e.callback=function(){Od(t,n,a)}}var f=n.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){Od(t,n,a),typeof l!="function"&&(qn===null?qn=new Set([this]):qn.add(this));var m=a.stack;this.componentDidCatch(a.value,{componentStack:m!==null?m:""})})}function Yh(e,t,n,a,l){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Bl(t,n,l,!0),n=qt.current,n!==null){switch(n.tag){case 13:return It===null?ec():n.alternate===null&&Xe===0&&(Xe=3),n.flags&=-257,n.flags|=65536,n.lanes=l,a===is?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),nc(e,a,l)),!1;case 22:return n.flags|=65536,a===is?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),nc(e,a,l)),!1}throw Error(o(435,n.tag))}return nc(e,a,l),ec(),!1}if(ye)return t=qt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=l,a!==Fo&&(e=Error(o(422),{cause:a}),Ul(Nt(e,n)))):(a!==Fo&&(t=Error(o(423),{cause:a}),Ul(Nt(t,n))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,a=Nt(a,n),l=js(e.stateNode,a,l),ss(e,l),Xe!==4&&(Xe=2)),!1;var s=Error(o(520),{cause:a});if(s=Nt(s,n),ei===null?ei=[s]:ei.push(s),Xe!==4&&(Xe=2),t===null)return!0;a=Nt(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=l&-l,n.lanes|=e,e=js(n.stateNode,a,e),ss(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(qn===null||!qn.has(s))))return n.flags|=65536,l&=-l,n.lanes|=l,l=Cd(l),wd(l,e,n,a),ss(n,l),!1}n=n.return}while(n!==null);return!1}var jd=Error(o(461)),We=!1;function nt(e,t,n,a){t.child=e===null?Sd(t,null,n,a):Ka(t,e.child,n,a)}function xd(e,t,n,a,l){n=n.render;var s=t.ref;if("ref"in a){var f={};for(var m in a)m!=="ref"&&(f[m]=a[m])}else f=a;return sa(t),a=ms(e,t,n,f,s,l),m=gs(),e!==null&&!We?(ps(e,t,l),dn(e,t,l)):(ye&&m&&Io(t),t.flags|=1,nt(e,t,a,l),t.child)}function zd(e,t,n,a,l){if(e===null){var s=n.type;return typeof s=="function"&&!Po(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,Ud(e,t,s,a,l)):(e=ki(n.type,null,a,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Hs(e,l)){var f=s.memoizedProps;if(n=n.compare,n=n!==null?n:wl,n(f,a)&&e.ref===t.ref)return dn(e,t,l)}return t.flags|=1,e=ln(s,a),e.ref=t.ref,e.return=t,t.child=e}function Ud(e,t,n,a,l){if(e!==null){var s=e.memoizedProps;if(wl(s,a)&&e.ref===t.ref)if(We=!1,t.pendingProps=a=s,Hs(e,l))(e.flags&131072)!==0&&(We=!0);else return t.lanes=e.lanes,dn(e,t,l)}return xs(e,t,n,a,l)}function Bd(e,t,n){var a=t.pendingProps,l=a.children,s=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if((t.flags&128)!==0){if(a=s!==null?s.baseLanes|n:n,e!==null){for(l=t.child=e.child,s=0;l!==null;)s=s|l.lanes|l.childLanes,l=l.sibling;t.childLanes=s&~a}else t.childLanes=0,t.child=null;return Nd(e,t,a,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wi(t,s!==null?s.cachePool:null),s!==null?Uf(t,s):rs(),Ed(t);else return t.lanes=t.childLanes=536870912,Nd(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(Wi(t,s.cachePool),Uf(t,s),Un(),t.memoizedState=null):(e!==null&&Wi(t,null),rs(),Un());return nt(e,t,l,n),t.child}function Nd(e,t,n,a){var l=ls();return l=l===null?null:{parent:Ie._currentValue,pool:l},t.memoizedState={baseLanes:n,cachePool:l},e!==null&&Wi(t,null),rs(),Ed(t),e!==null&&Bl(e,t,a,!0),null}function hu(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function xs(e,t,n,a,l){return sa(t),n=ms(e,t,n,a,void 0,l),a=gs(),e!==null&&!We?(ps(e,t,l),dn(e,t,l)):(ye&&a&&Io(t),t.flags|=1,nt(e,t,n,l),t.child)}function Ld(e,t,n,a,l,s){return sa(t),t.updateQueue=null,n=Nf(t,a,n,l),Bf(e),a=gs(),e!==null&&!We?(ps(e,t,s),dn(e,t,s)):(ye&&a&&Io(t),t.flags|=1,nt(e,t,n,s),t.child)}function Rd(e,t,n,a,l){if(sa(t),t.stateNode===null){var s=La,f=n.contextType;typeof f=="object"&&f!==null&&(s=ot(f)),s=new n(a,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ws,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=a,s.state=t.memoizedState,s.refs={},us(t),f=n.contextType,s.context=typeof f=="object"&&f!==null?ot(f):La,s.state=t.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(Cs(t,n,f,a),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(f=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),f!==s.state&&ws.enqueueReplaceState(s,s.state,null),Yl(t,a,s,l),Gl(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){s=t.stateNode;var m=t.memoizedProps,v=fa(n,m);s.props=v;var D=s.context,j=n.contextType;f=La,typeof j=="object"&&j!==null&&(f=ot(j));var U=n.getDerivedStateFromProps;j=typeof U=="function"||typeof s.getSnapshotBeforeUpdate=="function",m=t.pendingProps!==m,j||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(m||D!==f)&&Td(t,s,a,f),Cn=!1;var _=t.memoizedState;s.state=_,Yl(t,a,s,l),Gl(),D=t.memoizedState,m||_!==D||Cn?(typeof U=="function"&&(Cs(t,n,U,a),D=t.memoizedState),(v=Cn||Ad(t,n,v,a,_,D,f))?(j||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=D),s.props=a,s.state=D,s.context=f,a=v):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,os(e,t),f=t.memoizedProps,j=fa(n,f),s.props=j,U=t.pendingProps,_=s.context,D=n.contextType,v=La,typeof D=="object"&&D!==null&&(v=ot(D)),m=n.getDerivedStateFromProps,(D=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(f!==U||_!==v)&&Td(t,s,a,v),Cn=!1,_=t.memoizedState,s.state=_,Yl(t,a,s,l),Gl();var C=t.memoizedState;f!==U||_!==C||Cn||e!==null&&e.dependencies!==null&&$i(e.dependencies)?(typeof m=="function"&&(Cs(t,n,m,a),C=t.memoizedState),(j=Cn||Ad(t,n,j,a,_,C,v)||e!==null&&e.dependencies!==null&&$i(e.dependencies))?(D||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,C,v),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,C,v)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=C),s.props=a,s.state=C,s.context=v,a=j):(typeof s.componentDidUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,hu(e,t),a=(t.flags&128)!==0,s||a?(s=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&a?(t.child=Ka(t,e.child,null,l),t.child=Ka(t,null,n,l)):nt(e,t,n,l),t.memoizedState=s.state,e=t.child):e=dn(e,t,l),e}function Hd(e,t,n,a){return zl(),t.flags|=256,nt(e,t,n,a),t.child}var zs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Us(e){return{baseLanes:e,cachePool:Df()}}function Bs(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Gt),e}function qd(e,t,n){var a=t.pendingProps,l=!1,s=(t.flags&128)!==0,f;if((f=s)||(f=e!==null&&e.memoizedState===null?!1:($e.current&2)!==0),f&&(l=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(ye){if(l?zn(t):Un(),ye){var m=Ye,v;if(v=m){e:{for(v=m,m=Jt;v.nodeType!==8;){if(!m){m=null;break e}if(v=Vt(v.nextSibling),v===null){m=null;break e}}m=v}m!==null?(t.memoizedState={dehydrated:m,treeContext:aa!==null?{id:un,overflow:on}:null,retryLane:536870912,hydrationErrors:null},v=Mt(18,null,null,0),v.stateNode=m,v.return=t,t.child=v,ft=t,Ye=null,v=!0):v=!1}v||ua(t)}if(m=t.memoizedState,m!==null&&(m=m.dehydrated,m!==null))return yc(m)?t.lanes=32:t.lanes=536870912,null;fn(t)}return m=a.children,a=a.fallback,l?(Un(),l=t.mode,m=yu({mode:"hidden",children:m},l),a=na(a,l,n,null),m.return=t,a.return=t,m.sibling=a,t.child=m,l=t.child,l.memoizedState=Us(n),l.childLanes=Bs(e,f,n),t.memoizedState=zs,a):(zn(t),Ns(t,m))}if(v=e.memoizedState,v!==null&&(m=v.dehydrated,m!==null)){if(s)t.flags&256?(zn(t),t.flags&=-257,t=Ls(e,t,n)):t.memoizedState!==null?(Un(),t.child=e.child,t.flags|=128,t=null):(Un(),l=a.fallback,m=t.mode,a=yu({mode:"visible",children:a.children},m),l=na(l,m,n,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,Ka(t,e.child,null,n),a=t.child,a.memoizedState=Us(n),a.childLanes=Bs(e,f,n),t.memoizedState=zs,t=l);else if(zn(t),yc(m)){if(f=m.nextSibling&&m.nextSibling.dataset,f)var D=f.dgst;f=D,a=Error(o(419)),a.stack="",a.digest=f,Ul({value:a,source:null,stack:null}),t=Ls(e,t,n)}else if(We||Bl(e,t,n,!1),f=(n&e.childLanes)!==0,We||f){if(f=Oe,f!==null&&(a=n&-n,a=(a&42)!==0?1:vo(a),a=(a&(f.suspendedLanes|n))!==0?0:a,a!==0&&a!==v.retryLane))throw v.retryLane=a,Na(e,a),wt(f,e,a),jd;m.data==="$?"||ec(),t=Ls(e,t,n)}else m.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=v.treeContext,Ye=Vt(m.nextSibling),ft=t,ye=!0,ia=null,Jt=!1,e!==null&&(Rt[Ht++]=un,Rt[Ht++]=on,Rt[Ht++]=aa,un=e.id,on=e.overflow,aa=t),t=Ns(t,a.children),t.flags|=4096);return t}return l?(Un(),l=a.fallback,m=t.mode,v=e.child,D=v.sibling,a=ln(v,{mode:"hidden",children:a.children}),a.subtreeFlags=v.subtreeFlags&65011712,D!==null?l=ln(D,l):(l=na(l,m,n,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,m=e.child.memoizedState,m===null?m=Us(n):(v=m.cachePool,v!==null?(D=Ie._currentValue,v=v.parent!==D?{parent:D,pool:D}:v):v=Df(),m={baseLanes:m.baseLanes|n,cachePool:v}),l.memoizedState=m,l.childLanes=Bs(e,f,n),t.memoizedState=zs,a):(zn(t),n=e.child,e=n.sibling,n=ln(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=n,t.memoizedState=null,n)}function Ns(e,t){return t=yu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function yu(e,t){return e=Mt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ls(e,t,n){return Ka(t,e.child,null,n),e=Ns(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gd(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),es(e.return,t,n)}function Rs(e,t,n,a,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=l)}function Yd(e,t,n){var a=t.pendingProps,l=a.revealOrder,s=a.tail;if(nt(e,t,a.children,n),a=$e.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gd(e,n,t);else if(e.tag===19)Gd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(q($e,a),l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&mu(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Rs(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&mu(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Rs(t,!0,n,null,s);break;case"together":Rs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function dn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Hn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Bl(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=ln(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ln(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Hs(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&$i(e)))}function Xh(e,t,n){switch(t.tag){case 3:xe(t,t.stateNode.containerInfo),On(t,Ie,e.memoizedState.cache),zl();break;case 27:case 5:mo(t);break;case 4:xe(t,t.stateNode.containerInfo);break;case 10:On(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(zn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?qd(e,t,n):(zn(t),e=dn(e,t,n),e!==null?e.sibling:null);zn(t);break;case 19:var l=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Bl(e,t,n,!1),a=(n&t.childLanes)!==0),l){if(a)return Yd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),q($e,$e.current),a)break;return null;case 22:case 23:return t.lanes=0,Bd(e,t,n);case 24:On(t,Ie,e.memoizedState.cache)}return dn(e,t,n)}function Xd(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)We=!0;else{if(!Hs(e,n)&&(t.flags&128)===0)return We=!1,Xh(e,t,n);We=(e.flags&131072)!==0}else We=!1,ye&&(t.flags&1048576)!==0&&vf(t,Ii,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,l=a._init;if(a=l(a._payload),t.type=a,typeof a=="function")Po(a)?(e=fa(a,e),t.tag=1,t=Rd(null,t,a,e,n)):(t.tag=0,t=xs(null,t,a,e,n));else{if(a!=null){if(l=a.$$typeof,l===Me){t.tag=11,t=xd(null,t,a,e,n);break e}else if(l===Ne){t.tag=14,t=zd(null,t,a,e,n);break e}}throw t=rt(a)||a,Error(o(306,t,""))}}return t;case 0:return xs(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,l=fa(a,t.pendingProps),Rd(e,t,a,l,n);case 3:e:{if(xe(t,t.stateNode.containerInfo),e===null)throw Error(o(387));a=t.pendingProps;var s=t.memoizedState;l=s.element,os(e,t),Yl(t,a,null,n);var f=t.memoizedState;if(a=f.cache,On(t,Ie,a),a!==s.cache&&ts(t,[Ie],n,!0),Gl(),a=f.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Hd(e,t,a,n);break e}else if(a!==l){l=Nt(Error(o(424)),t),Ul(l),t=Hd(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ye=Vt(e.firstChild),ft=t,ye=!0,ia=null,Jt=!0,n=Sd(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(zl(),a===l){t=dn(e,t,n);break e}nt(e,t,a,n)}t=t.child}return t;case 26:return hu(e,t),e===null?(n=Km(t.type,null,t.pendingProps,null))?t.memoizedState=n:ye||(n=t.type,e=t.pendingProps,a=xu(ee.current).createElement(n),a[ut]=t,a[mt]=e,lt(a,n,e),Fe(a),t.stateNode=a):t.memoizedState=Km(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return mo(t),e===null&&ye&&(a=t.stateNode=Qm(t.type,t.pendingProps,ee.current),ft=t,Jt=!0,l=Ye,Xn(t.type)?(vc=l,Ye=Vt(a.firstChild)):Ye=l),nt(e,t,t.pendingProps.children,n),hu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ye&&((l=a=Ye)&&(a=hy(a,t.type,t.pendingProps,Jt),a!==null?(t.stateNode=a,ft=t,Ye=Vt(a.firstChild),Jt=!1,l=!0):l=!1),l||ua(t)),mo(t),l=t.type,s=t.pendingProps,f=e!==null?e.memoizedProps:null,a=s.children,gc(l,s)?a=null:f!==null&&gc(l,f)&&(t.flags|=32),t.memoizedState!==null&&(l=ms(e,t,Bh,null,null,n),ci._currentValue=l),hu(e,t),nt(e,t,a,n),t.child;case 6:return e===null&&ye&&((e=n=Ye)&&(n=yy(n,t.pendingProps,Jt),n!==null?(t.stateNode=n,ft=t,Ye=null,e=!0):e=!1),e||ua(t)),null;case 13:return qd(e,t,n);case 4:return xe(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ka(t,null,a,n):nt(e,t,a,n),t.child;case 11:return xd(e,t,t.type,t.pendingProps,n);case 7:return nt(e,t,t.pendingProps,n),t.child;case 8:return nt(e,t,t.pendingProps.children,n),t.child;case 12:return nt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,On(t,t.type,a.value),nt(e,t,a.children,n),t.child;case 9:return l=t.type._context,a=t.pendingProps.children,sa(t),l=ot(l),a=a(l),t.flags|=1,nt(e,t,a,n),t.child;case 14:return zd(e,t,t.type,t.pendingProps,n);case 15:return Ud(e,t,t.type,t.pendingProps,n);case 19:return Yd(e,t,n);case 31:return a=t.pendingProps,n=t.mode,a={mode:a.mode,children:a.children},e===null?(n=yu(a,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=ln(e.child,a),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Bd(e,t,n);case 24:return sa(t),a=ot(Ie),e===null?(l=ls(),l===null&&(l=Oe,s=ns(),l.pooledCache=s,s.refCount++,s!==null&&(l.pooledCacheLanes|=n),l=s),t.memoizedState={parent:a,cache:l},us(t),On(t,Ie,l)):((e.lanes&n)!==0&&(os(e,t),Yl(t,null,null,n),Gl()),l=e.memoizedState,s=t.memoizedState,l.parent!==a?(l={parent:a,cache:a},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),On(t,Ie,a)):(a=s.cache,On(t,Ie,a),a!==l.cache&&ts(t,[Ie],n,!0))),nt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function mn(e){e.flags|=4}function Qd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!$m(t)){if(t=qt.current,t!==null&&((fe&4194048)===fe?It!==null:(fe&62914560)!==fe&&(fe&536870912)===0||t!==It))throw Hl=is,_f;e.flags|=8192}}function vu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Sr():536870912,e.lanes|=t,Ia|=t)}function kl(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags&65011712,a|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Qh(e,t,n){var a=t.pendingProps;switch($o(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Le(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),cn(Ie),Tn(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(xl(t)?mn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ef())),Le(t),null;case 26:return n=t.memoizedState,e===null?(mn(t),n!==null?(Le(t),Qd(t,n)):(Le(t),t.flags&=-16777217)):n?n!==e.memoizedState?(mn(t),Le(t),Qd(t,n)):(Le(t),t.flags&=-16777217):(e.memoizedProps!==a&&mn(t),Le(t),t.flags&=-16777217),null;case 27:wi(t),n=ee.current;var l=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&mn(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Le(t),null}e=P.current,xl(t)?bf(t):(e=Qm(l,a,n),t.stateNode=e,mn(t))}return Le(t),null;case 5:if(wi(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&mn(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Le(t),null}if(e=P.current,xl(t))bf(t);else{switch(l=xu(ee.current),e){case 1:e=l.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=l.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?l.createElement("select",{is:a.is}):l.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?l.createElement(n,{is:a.is}):l.createElement(n)}}e[ut]=t,e[mt]=a;e:for(l=t.child;l!==null;){if(l.tag===5||l.tag===6)e.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=e;e:switch(lt(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&mn(t)}}return Le(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&mn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(e=ee.current,xl(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,l=ft,l!==null)switch(l.tag){case 27:case 5:a=l.memoizedProps}e[ut]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Lm(e.nodeValue,n)),e||ua(t)}else e=xu(e).createTextNode(a),e[ut]=t,t.stateNode=e}return Le(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=xl(t),a!==null&&a.dehydrated!==null){if(e===null){if(!l)throw Error(o(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(o(317));l[ut]=t}else zl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Le(t),l=!1}else l=Ef(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(fn(t),t):(fn(t),null)}if(fn(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=a!==null,e=e!==null&&e.memoizedState!==null,n){a=t.child,l=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(l=a.alternate.memoizedState.cachePool.pool);var s=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),vu(t,t.updateQueue),Le(t),null;case 4:return Tn(),e===null&&cc(t.stateNode.containerInfo),Le(t),null;case 10:return cn(t.type),Le(t),null;case 19:if(G($e),l=t.memoizedState,l===null)return Le(t),null;if(a=(t.flags&128)!==0,s=l.rendering,s===null)if(a)kl(l,!1);else{if(Xe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=mu(e),s!==null){for(t.flags|=128,kl(l,!1),e=s.updateQueue,t.updateQueue=e,vu(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)yf(n,e),n=n.sibling;return q($e,$e.current&1|2),t.child}e=e.sibling}l.tail!==null&&kt()>Eu&&(t.flags|=128,a=!0,kl(l,!1),t.lanes=4194304)}else{if(!a)if(e=mu(s),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,vu(t,e),kl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!ye)return Le(t),null}else 2*kt()-l.renderingStartTime>Eu&&n!==536870912&&(t.flags|=128,a=!0,kl(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(e=l.last,e!==null?e.sibling=s:t.child=s,l.last=s)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=kt(),t.sibling=null,e=$e.current,q($e,a?e&1|2:e&1),t):(Le(t),null);case 22:case 23:return fn(t),fs(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),n=t.updateQueue,n!==null&&vu(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&G(ca),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),cn(Ie),Le(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Zh(e,t){switch($o(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cn(Ie),Tn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return wi(t),null;case 13:if(fn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));zl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G($e),null;case 4:return Tn(),null;case 10:return cn(t.type),null;case 22:case 23:return fn(t),fs(),e!==null&&G(ca),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return cn(Ie),null;case 25:return null;default:return null}}function Zd(e,t){switch($o(t),t.tag){case 3:cn(Ie),Tn();break;case 26:case 27:case 5:wi(t);break;case 4:Tn();break;case 13:fn(t);break;case 19:G($e);break;case 10:cn(t.type);break;case 22:case 23:fn(t),fs(),e!==null&&G(ca);break;case 24:cn(Ie)}}function Jl(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var l=a.next;n=l;do{if((n.tag&e)===e){a=void 0;var s=n.create,f=n.inst;a=s(),f.destroy=a}n=n.next}while(n!==l)}}catch(m){_e(t,t.return,m)}}function Bn(e,t,n){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var s=l.next;a=s;do{if((a.tag&e)===e){var f=a.inst,m=f.destroy;if(m!==void 0){f.destroy=void 0,l=t;var v=n,D=m;try{D()}catch(j){_e(l,v,j)}}}a=a.next}while(a!==s)}}catch(j){_e(t,t.return,j)}}function Vd(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{zf(t,n)}catch(a){_e(e,e.return,a)}}}function Kd(e,t,n){n.props=fa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){_e(e,t,a)}}function Il(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(l){_e(e,t,l)}}function $t(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(l){_e(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){_e(e,t,l)}else n.current=null}function Pd(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(l){_e(e,e.return,l)}}function qs(e,t,n){try{var a=e.stateNode;fy(a,e.type,n,t),a[mt]=t}catch(l){_e(e,e.return,l)}}function kd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xn(e.type)||e.tag===4}function Gs(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ys(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ju));else if(a!==4&&(a===27&&Xn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Ys(e,t,n),e=e.sibling;e!==null;)Ys(e,t,n),e=e.sibling}function bu(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Xn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(bu(e,t,n),e=e.sibling;e!==null;)bu(e,t,n),e=e.sibling}function Jd(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);lt(t,a,n),t[ut]=e,t[mt]=n}catch(s){_e(e,e.return,s)}}var gn=!1,Ve=!1,Xs=!1,Id=typeof WeakSet=="function"?WeakSet:Set,et=null;function Vh(e,t){if(e=e.containerInfo,dc=Ru,e=of(e),Go(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var l=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var f=0,m=-1,v=-1,D=0,j=0,U=e,_=null;t:for(;;){for(var C;U!==n||l!==0&&U.nodeType!==3||(m=f+l),U!==s||a!==0&&U.nodeType!==3||(v=f+a),U.nodeType===3&&(f+=U.nodeValue.length),(C=U.firstChild)!==null;)_=U,U=C;for(;;){if(U===e)break t;if(_===n&&++D===l&&(m=f),_===s&&++j===a&&(v=f),(C=U.nextSibling)!==null)break;U=_,_=U.parentNode}U=C}n=m===-1||v===-1?null:{start:m,end:v}}else n=null}n=n||{start:0,end:0}}else n=null;for(mc={focusedElem:e,selectionRange:n},Ru=!1,et=t;et!==null;)if(t=et,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,et=e;else for(;et!==null;){switch(t=et,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,n=t,l=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var $=fa(n.type,l,n.elementType===n.type);e=a.getSnapshotBeforeUpdate($,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(k){_e(n,n.return,k)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)hc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,et=e;break}et=t.return}}function $d(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Nn(e,n),a&4&&Jl(5,n);break;case 1:if(Nn(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(f){_e(n,n.return,f)}else{var l=fa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){_e(n,n.return,f)}}a&64&&Vd(n),a&512&&Il(n,n.return);break;case 3:if(Nn(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{zf(e,t)}catch(f){_e(n,n.return,f)}}break;case 27:t===null&&a&4&&Jd(n);case 26:case 5:Nn(e,n),t===null&&a&4&&Pd(n),a&512&&Il(n,n.return);break;case 12:Nn(e,n);break;case 13:Nn(e,n),a&4&&em(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=ey.bind(null,n),vy(e,n))));break;case 22:if(a=n.memoizedState!==null||gn,!a){t=t!==null&&t.memoizedState!==null||Ve,l=gn;var s=Ve;gn=a,(Ve=t)&&!s?Ln(e,n,(n.subtreeFlags&8772)!==0):Nn(e,n),gn=l,Ve=s}break;case 30:break;default:Nn(e,n)}}function Fd(e){var t=e.alternate;t!==null&&(e.alternate=null,Fd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Eo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,ht=!1;function pn(e,t,n){for(n=n.child;n!==null;)Wd(e,t,n),n=n.sibling}function Wd(e,t,n){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(yl,n)}catch{}switch(n.tag){case 26:Ve||$t(n,t),pn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ve||$t(n,t);var a=ze,l=ht;Xn(n.type)&&(ze=n.stateNode,ht=!1),pn(e,t,n),ii(n.stateNode),ze=a,ht=l;break;case 5:Ve||$t(n,t);case 6:if(a=ze,l=ht,ze=null,pn(e,t,n),ze=a,ht=l,ze!==null)if(ht)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(n.stateNode)}catch(s){_e(n,t,s)}else try{ze.removeChild(n.stateNode)}catch(s){_e(n,t,s)}break;case 18:ze!==null&&(ht?(e=ze,Ym(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),mi(e)):Ym(ze,n.stateNode));break;case 4:a=ze,l=ht,ze=n.stateNode.containerInfo,ht=!0,pn(e,t,n),ze=a,ht=l;break;case 0:case 11:case 14:case 15:Ve||Bn(2,n,t),Ve||Bn(4,n,t),pn(e,t,n);break;case 1:Ve||($t(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Kd(n,t,a)),pn(e,t,n);break;case 21:pn(e,t,n);break;case 22:Ve=(a=Ve)||n.memoizedState!==null,pn(e,t,n),Ve=a;break;default:pn(e,t,n)}}function em(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{mi(e)}catch(n){_e(t,t.return,n)}}function Kh(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Id),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Id),t;default:throw Error(o(435,e.tag))}}function Qs(e,t){var n=Kh(e);t.forEach(function(a){var l=ty.bind(null,e,a);n.has(a)||(n.add(a),a.then(l,l))})}function Dt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var l=n[a],s=e,f=t,m=f;e:for(;m!==null;){switch(m.tag){case 27:if(Xn(m.type)){ze=m.stateNode,ht=!1;break e}break;case 5:ze=m.stateNode,ht=!1;break e;case 3:case 4:ze=m.stateNode.containerInfo,ht=!0;break e}m=m.return}if(ze===null)throw Error(o(160));Wd(s,f,l),ze=null,ht=!1,s=l.alternate,s!==null&&(s.return=null),l.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)tm(t,e),t=t.sibling}var Zt=null;function tm(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dt(t,e),_t(e),a&4&&(Bn(3,e,e.return),Jl(3,e),Bn(5,e,e.return));break;case 1:Dt(t,e),_t(e),a&512&&(Ve||n===null||$t(n,n.return)),a&64&&gn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var l=Zt;if(Dt(t,e),_t(e),a&512&&(Ve||n===null||$t(n,n.return)),a&4){var s=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,l=l.ownerDocument||l;t:switch(a){case"title":s=l.getElementsByTagName("title")[0],(!s||s[Sl]||s[ut]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=l.createElement(a),l.head.insertBefore(s,l.querySelector("head > title"))),lt(s,a,n),s[ut]=e,Fe(s),a=s;break e;case"link":var f=Jm("link","href",l).get(a+(n.href||""));if(f){for(var m=0;m<f.length;m++)if(s=f[m],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){f.splice(m,1);break t}}s=l.createElement(a),lt(s,a,n),l.head.appendChild(s);break;case"meta":if(f=Jm("meta","content",l).get(a+(n.content||""))){for(m=0;m<f.length;m++)if(s=f[m],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){f.splice(m,1);break t}}s=l.createElement(a),lt(s,a,n),l.head.appendChild(s);break;default:throw Error(o(468,a))}s[ut]=e,Fe(s),a=s}e.stateNode=a}else Im(l,e.type,e.stateNode);else e.stateNode=km(l,a,e.memoizedProps);else s!==a?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,a===null?Im(l,e.type,e.stateNode):km(l,a,e.memoizedProps)):a===null&&e.stateNode!==null&&qs(e,e.memoizedProps,n.memoizedProps)}break;case 27:Dt(t,e),_t(e),a&512&&(Ve||n===null||$t(n,n.return)),n!==null&&a&4&&qs(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Dt(t,e),_t(e),a&512&&(Ve||n===null||$t(n,n.return)),e.flags&32){l=e.stateNode;try{Ca(l,"")}catch(C){_e(e,e.return,C)}}a&4&&e.stateNode!=null&&(l=e.memoizedProps,qs(e,l,n!==null?n.memoizedProps:l)),a&1024&&(Xs=!0);break;case 6:if(Dt(t,e),_t(e),a&4){if(e.stateNode===null)throw Error(o(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(C){_e(e,e.return,C)}}break;case 3:if(Bu=null,l=Zt,Zt=zu(t.containerInfo),Dt(t,e),Zt=l,_t(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{mi(t.containerInfo)}catch(C){_e(e,e.return,C)}Xs&&(Xs=!1,nm(e));break;case 4:a=Zt,Zt=zu(e.stateNode.containerInfo),Dt(t,e),_t(e),Zt=a;break;case 12:Dt(t,e),_t(e);break;case 13:Dt(t,e),_t(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Js=kt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Qs(e,a)));break;case 22:l=e.memoizedState!==null;var v=n!==null&&n.memoizedState!==null,D=gn,j=Ve;if(gn=D||l,Ve=j||v,Dt(t,e),Ve=j,gn=D,_t(e),a&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(n===null||v||gn||Ve||da(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){v=n=t;try{if(s=v.stateNode,l)f=s.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{m=v.stateNode;var U=v.memoizedProps.style,_=U!=null&&U.hasOwnProperty("display")?U.display:null;m.style.display=_==null||typeof _=="boolean"?"":(""+_).trim()}}catch(C){_e(v,v.return,C)}}}else if(t.tag===6){if(n===null){v=t;try{v.stateNode.nodeValue=l?"":v.memoizedProps}catch(C){_e(v,v.return,C)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Qs(e,n))));break;case 19:Dt(t,e),_t(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Qs(e,a)));break;case 30:break;case 21:break;default:Dt(t,e),_t(e)}}function _t(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(kd(a)){n=a;break}a=a.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var l=n.stateNode,s=Gs(e);bu(e,s,l);break;case 5:var f=n.stateNode;n.flags&32&&(Ca(f,""),n.flags&=-33);var m=Gs(e);bu(e,m,f);break;case 3:case 4:var v=n.stateNode.containerInfo,D=Gs(e);Ys(e,D,v);break;default:throw Error(o(161))}}catch(j){_e(e,e.return,j)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;nm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Nn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)$d(e,t.alternate,t),t=t.sibling}function da(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bn(4,t,t.return),da(t);break;case 1:$t(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Kd(t,t.return,n),da(t);break;case 27:ii(t.stateNode);case 26:case 5:$t(t,t.return),da(t);break;case 22:t.memoizedState===null&&da(t);break;case 30:da(t);break;default:da(t)}e=e.sibling}}function Ln(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,l=e,s=t,f=s.flags;switch(s.tag){case 0:case 11:case 15:Ln(l,s,n),Jl(4,s);break;case 1:if(Ln(l,s,n),a=s,l=a.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(D){_e(a,a.return,D)}if(a=s,l=a.updateQueue,l!==null){var m=a.stateNode;try{var v=l.shared.hiddenCallbacks;if(v!==null)for(l.shared.hiddenCallbacks=null,l=0;l<v.length;l++)xf(v[l],m)}catch(D){_e(a,a.return,D)}}n&&f&64&&Vd(s),Il(s,s.return);break;case 27:Jd(s);case 26:case 5:Ln(l,s,n),n&&a===null&&f&4&&Pd(s),Il(s,s.return);break;case 12:Ln(l,s,n);break;case 13:Ln(l,s,n),n&&f&4&&em(l,s);break;case 22:s.memoizedState===null&&Ln(l,s,n),Il(s,s.return);break;case 30:break;default:Ln(l,s,n)}t=t.sibling}}function Zs(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Nl(n))}function Vs(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Nl(e))}function Ft(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)am(e,t,n,a),t=t.sibling}function am(e,t,n,a){var l=t.flags;switch(t.tag){case 0:case 11:case 15:Ft(e,t,n,a),l&2048&&Jl(9,t);break;case 1:Ft(e,t,n,a);break;case 3:Ft(e,t,n,a),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Nl(e)));break;case 12:if(l&2048){Ft(e,t,n,a),e=t.stateNode;try{var s=t.memoizedProps,f=s.id,m=s.onPostCommit;typeof m=="function"&&m(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(v){_e(t,t.return,v)}}else Ft(e,t,n,a);break;case 13:Ft(e,t,n,a);break;case 23:break;case 22:s=t.stateNode,f=t.alternate,t.memoizedState!==null?s._visibility&2?Ft(e,t,n,a):$l(e,t):s._visibility&2?Ft(e,t,n,a):(s._visibility|=2,Pa(e,t,n,a,(t.subtreeFlags&10256)!==0)),l&2048&&Zs(f,t);break;case 24:Ft(e,t,n,a),l&2048&&Vs(t.alternate,t);break;default:Ft(e,t,n,a)}}function Pa(e,t,n,a,l){for(l=l&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,f=t,m=n,v=a,D=f.flags;switch(f.tag){case 0:case 11:case 15:Pa(s,f,m,v,l),Jl(8,f);break;case 23:break;case 22:var j=f.stateNode;f.memoizedState!==null?j._visibility&2?Pa(s,f,m,v,l):$l(s,f):(j._visibility|=2,Pa(s,f,m,v,l)),l&&D&2048&&Zs(f.alternate,f);break;case 24:Pa(s,f,m,v,l),l&&D&2048&&Vs(f.alternate,f);break;default:Pa(s,f,m,v,l)}t=t.sibling}}function $l(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,l=a.flags;switch(a.tag){case 22:$l(n,a),l&2048&&Zs(a.alternate,a);break;case 24:$l(n,a),l&2048&&Vs(a.alternate,a);break;default:$l(n,a)}t=t.sibling}}var Fl=8192;function ka(e){if(e.subtreeFlags&Fl)for(e=e.child;e!==null;)lm(e),e=e.sibling}function lm(e){switch(e.tag){case 26:ka(e),e.flags&Fl&&e.memoizedState!==null&&xy(Zt,e.memoizedState,e.memoizedProps);break;case 5:ka(e);break;case 3:case 4:var t=Zt;Zt=zu(e.stateNode.containerInfo),ka(e),Zt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Fl,Fl=16777216,ka(e),Fl=t):ka(e));break;default:ka(e)}}function im(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Wl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];et=a,om(a,e)}im(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)um(e),e=e.sibling}function um(e){switch(e.tag){case 0:case 11:case 15:Wl(e),e.flags&2048&&Bn(9,e,e.return);break;case 3:Wl(e);break;case 12:Wl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Su(e)):Wl(e);break;default:Wl(e)}}function Su(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];et=a,om(a,e)}im(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Bn(8,t,t.return),Su(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Su(t));break;default:Su(t)}e=e.sibling}}function om(e,t){for(;et!==null;){var n=et;switch(n.tag){case 0:case 11:case 15:Bn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Nl(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,et=a;else e:for(n=e;et!==null;){a=et;var l=a.sibling,s=a.return;if(Fd(a),a===n){et=null;break e}if(l!==null){l.return=s,et=l;break e}et=s}}}var Ph={getCacheForType:function(e){var t=ot(Ie),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},kh=typeof WeakMap=="function"?WeakMap:Map,be=0,Oe=null,ue=null,fe=0,Se=0,Ot=null,Rn=!1,Ja=!1,Ks=!1,hn=0,Xe=0,Hn=0,ma=0,Ps=0,Gt=0,Ia=0,ei=null,yt=null,ks=!1,Js=0,Eu=1/0,Au=null,qn=null,at=0,Gn=null,$a=null,Fa=0,Is=0,$s=null,sm=null,ti=0,Fs=null;function Ct(){if((be&2)!==0&&fe!==0)return fe&-fe;if(w.T!==null){var e=qa;return e!==0?e:ic()}return Tr()}function cm(){Gt===0&&(Gt=(fe&536870912)===0||ye?br():536870912);var e=qt.current;return e!==null&&(e.flags|=32),Gt}function wt(e,t,n){(e===Oe&&(Se===2||Se===9)||e.cancelPendingCommit!==null)&&(Wa(e,0),Yn(e,fe,Gt,!1)),bl(e,n),((be&2)===0||e!==Oe)&&(e===Oe&&((be&2)===0&&(ma|=n),Xe===4&&Yn(e,fe,Gt,!1)),Wt(e))}function rm(e,t,n){if((be&6)!==0)throw Error(o(327));var a=!n&&(t&124)===0&&(t&e.expiredLanes)===0||vl(e,t),l=a?$h(e,t):tc(e,t,!0),s=a;do{if(l===0){Ja&&!a&&Yn(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!Jh(n)){l=tc(e,t,!1),s=!1;continue}if(l===2){if(s=t,e.errorRecoveryDisabledLanes&s)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var m=e;l=ei;var v=m.current.memoizedState.isDehydrated;if(v&&(Wa(m,f).flags|=256),f=tc(m,f,!1),f!==2){if(Ks&&!v){m.errorRecoveryDisabledLanes|=s,ma|=s,l=4;break e}s=yt,yt=l,s!==null&&(yt===null?yt=s:yt.push.apply(yt,s))}l=f}if(s=!1,l!==2)continue}}if(l===1){Wa(e,0),Yn(e,t,0,!0);break}e:{switch(a=e,s=l,s){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Yn(a,t,Gt,!Rn);break e;case 2:yt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(l=Js+300-kt(),10<l)){if(Yn(a,t,Gt,!Rn),Ui(a,0,!0)!==0)break e;a.timeoutHandle=qm(fm.bind(null,a,n,yt,Au,ks,t,Gt,ma,Ia,Rn,s,2,-0,0),l);break e}fm(a,n,yt,Au,ks,t,Gt,ma,Ia,Rn,s,0,-0,0)}}break}while(!0);Wt(e)}function fm(e,t,n,a,l,s,f,m,v,D,j,U,_,C){if(e.timeoutHandle=-1,U=t.subtreeFlags,(U&8192||(U&16785408)===16785408)&&(si={stylesheets:null,count:0,unsuspend:jy},lm(t),U=zy(),U!==null)){e.cancelPendingCommit=U(vm.bind(null,e,t,s,n,a,l,f,m,v,j,1,_,C)),Yn(e,s,f,!D);return}vm(e,t,s,n,a,l,f,m,v)}function Jh(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var l=n[a],s=l.getSnapshot;l=l.value;try{if(!Tt(s(),l))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yn(e,t,n,a){t&=~Ps,t&=~ma,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var l=t;0<l;){var s=31-At(l),f=1<<s;a[s]=-1,l&=~f}n!==0&&Er(e,n,t)}function Tu(){return(be&6)===0?(ni(0),!1):!0}function Ws(){if(ue!==null){if(Se===0)var e=ue.return;else e=ue,sn=oa=null,hs(e),Va=null,Kl=0,e=ue;for(;e!==null;)Zd(e.alternate,e),e=e.return;ue=null}}function Wa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,my(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Ws(),Oe=e,ue=n=ln(e.current,null),fe=t,Se=0,Ot=null,Rn=!1,Ja=vl(e,t),Ks=!1,Ia=Gt=Ps=ma=Hn=Xe=0,yt=ei=null,ks=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var l=31-At(a),s=1<<l;t|=e[l],a&=~s}return hn=t,Vi(),n}function dm(e,t){le=null,w.H=ru,t===Rl||t===eu?(t=wf(),Se=3):t===_f?(t=wf(),Se=4):Se=t===jd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ot=t,ue===null&&(Xe=1,pu(e,Nt(t,e.current)))}function mm(){var e=w.H;return w.H=ru,e===null?ru:e}function gm(){var e=w.A;return w.A=Ph,e}function ec(){Xe=4,Rn||(fe&4194048)!==fe&&qt.current!==null||(Ja=!0),(Hn&134217727)===0&&(ma&134217727)===0||Oe===null||Yn(Oe,fe,Gt,!1)}function tc(e,t,n){var a=be;be|=2;var l=mm(),s=gm();(Oe!==e||fe!==t)&&(Au=null,Wa(e,t)),t=!1;var f=Xe;e:do try{if(Se!==0&&ue!==null){var m=ue,v=Ot;switch(Se){case 8:Ws(),f=6;break e;case 3:case 2:case 9:case 6:qt.current===null&&(t=!0);var D=Se;if(Se=0,Ot=null,el(e,m,v,D),n&&Ja){f=0;break e}break;default:D=Se,Se=0,Ot=null,el(e,m,v,D)}}Ih(),f=Xe;break}catch(j){dm(e,j)}while(!0);return t&&e.shellSuspendCounter++,sn=oa=null,be=a,w.H=l,w.A=s,ue===null&&(Oe=null,fe=0,Vi()),f}function Ih(){for(;ue!==null;)pm(ue)}function $h(e,t){var n=be;be|=2;var a=mm(),l=gm();Oe!==e||fe!==t?(Au=null,Eu=kt()+500,Wa(e,t)):Ja=vl(e,t);e:do try{if(Se!==0&&ue!==null){t=ue;var s=Ot;t:switch(Se){case 1:Se=0,Ot=null,el(e,t,s,1);break;case 2:case 9:if(Of(s)){Se=0,Ot=null,hm(t);break}t=function(){Se!==2&&Se!==9||Oe!==e||(Se=7),Wt(e)},s.then(t,t);break e;case 3:Se=7;break e;case 4:Se=5;break e;case 7:Of(s)?(Se=0,Ot=null,hm(t)):(Se=0,Ot=null,el(e,t,s,7));break;case 5:var f=null;switch(ue.tag){case 26:f=ue.memoizedState;case 5:case 27:var m=ue;if(!f||$m(f)){Se=0,Ot=null;var v=m.sibling;if(v!==null)ue=v;else{var D=m.return;D!==null?(ue=D,Mu(D)):ue=null}break t}}Se=0,Ot=null,el(e,t,s,5);break;case 6:Se=0,Ot=null,el(e,t,s,6);break;case 8:Ws(),Xe=6;break e;default:throw Error(o(462))}}Fh();break}catch(j){dm(e,j)}while(!0);return sn=oa=null,w.H=a,w.A=l,be=n,ue!==null?0:(Oe=null,fe=0,Vi(),Xe)}function Fh(){for(;ue!==null&&!Sp();)pm(ue)}function pm(e){var t=Xd(e.alternate,e,hn);e.memoizedProps=e.pendingProps,t===null?Mu(e):ue=t}function hm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ld(n,t,t.pendingProps,t.type,void 0,fe);break;case 11:t=Ld(n,t,t.pendingProps,t.type.render,t.ref,fe);break;case 5:hs(t);default:Zd(n,t),t=ue=yf(t,hn),t=Xd(n,t,hn)}e.memoizedProps=e.pendingProps,t===null?Mu(e):ue=t}function el(e,t,n,a){sn=oa=null,hs(t),Va=null,Kl=0;var l=t.return;try{if(Yh(e,l,t,n,fe)){Xe=1,pu(e,Nt(n,e.current)),ue=null;return}}catch(s){if(l!==null)throw ue=l,s;Xe=1,pu(e,Nt(n,e.current)),ue=null;return}t.flags&32768?(ye||a===1?e=!0:Ja||(fe&536870912)!==0?e=!1:(Rn=e=!0,(a===2||a===9||a===3||a===6)&&(a=qt.current,a!==null&&a.tag===13&&(a.flags|=16384))),ym(t,e)):Mu(t)}function Mu(e){var t=e;do{if((t.flags&32768)!==0){ym(t,Rn);return}e=t.return;var n=Qh(t.alternate,t,hn);if(n!==null){ue=n;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);Xe===0&&(Xe=5)}function ym(e,t){do{var n=Zh(e.alternate,e);if(n!==null){n.flags&=32767,ue=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ue=e;return}ue=e=n}while(e!==null);Xe=6,ue=null}function vm(e,t,n,a,l,s,f,m,v){e.cancelPendingCommit=null;do Du();while(at!==0);if((be&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(s=t.lanes|t.childLanes,s|=Vo,jp(e,n,s,f,m,v),e===Oe&&(ue=Oe=null,fe=0),$a=t,Gn=e,Fa=n,Is=s,$s=l,sm=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ny(ji,function(){return Tm(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=w.T,w.T=null,l=R.p,R.p=2,f=be,be|=4;try{Vh(e,t,n)}finally{be=f,R.p=l,w.T=a}}at=1,bm(),Sm(),Em()}}function bm(){if(at===1){at=0;var e=Gn,t=$a,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=w.T,w.T=null;var a=R.p;R.p=2;var l=be;be|=4;try{tm(t,e);var s=mc,f=of(e.containerInfo),m=s.focusedElem,v=s.selectionRange;if(f!==m&&m&&m.ownerDocument&&uf(m.ownerDocument.documentElement,m)){if(v!==null&&Go(m)){var D=v.start,j=v.end;if(j===void 0&&(j=D),"selectionStart"in m)m.selectionStart=D,m.selectionEnd=Math.min(j,m.value.length);else{var U=m.ownerDocument||document,_=U&&U.defaultView||window;if(_.getSelection){var C=_.getSelection(),$=m.textContent.length,k=Math.min(v.start,$),Te=v.end===void 0?k:Math.min(v.end,$);!C.extend&&k>Te&&(f=Te,Te=k,k=f);var T=lf(m,k),E=lf(m,Te);if(T&&E&&(C.rangeCount!==1||C.anchorNode!==T.node||C.anchorOffset!==T.offset||C.focusNode!==E.node||C.focusOffset!==E.offset)){var M=U.createRange();M.setStart(T.node,T.offset),C.removeAllRanges(),k>Te?(C.addRange(M),C.extend(E.node,E.offset)):(M.setEnd(E.node,E.offset),C.addRange(M))}}}}for(U=[],C=m;C=C.parentNode;)C.nodeType===1&&U.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<U.length;m++){var z=U[m];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}Ru=!!dc,mc=dc=null}finally{be=l,R.p=a,w.T=n}}e.current=t,at=2}}function Sm(){if(at===2){at=0;var e=Gn,t=$a,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=w.T,w.T=null;var a=R.p;R.p=2;var l=be;be|=4;try{$d(e,t.alternate,t)}finally{be=l,R.p=a,w.T=n}}at=3}}function Em(){if(at===4||at===3){at=0,Ep();var e=Gn,t=$a,n=Fa,a=sm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?at=5:(at=0,$a=Gn=null,Am(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(qn=null),bo(n),t=t.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(yl,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=w.T,l=R.p,R.p=2,w.T=null;try{for(var s=e.onRecoverableError,f=0;f<a.length;f++){var m=a[f];s(m.value,{componentStack:m.stack})}}finally{w.T=t,R.p=l}}(Fa&3)!==0&&Du(),Wt(e),l=e.pendingLanes,(n&4194090)!==0&&(l&42)!==0?e===Fs?ti++:(ti=0,Fs=e):ti=0,ni(0)}}function Am(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Nl(t)))}function Du(e){return bm(),Sm(),Em(),Tm()}function Tm(){if(at!==5)return!1;var e=Gn,t=Is;Is=0;var n=bo(Fa),a=w.T,l=R.p;try{R.p=32>n?32:n,w.T=null,n=$s,$s=null;var s=Gn,f=Fa;if(at=0,$a=Gn=null,Fa=0,(be&6)!==0)throw Error(o(331));var m=be;if(be|=4,um(s.current),am(s,s.current,f,n),be=m,ni(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(yl,s)}catch{}return!0}finally{R.p=l,w.T=a,Am(e,t)}}function Mm(e,t,n){t=Nt(n,t),t=js(e.stateNode,t,2),e=jn(e,t,2),e!==null&&(bl(e,2),Wt(e))}function _e(e,t,n){if(e.tag===3)Mm(e,e,n);else for(;t!==null;){if(t.tag===3){Mm(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(qn===null||!qn.has(a))){e=Nt(n,e),n=Cd(2),a=jn(t,n,2),a!==null&&(wd(n,a,t,e),bl(a,2),Wt(a));break}}t=t.return}}function nc(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new kh;var l=new Set;a.set(t,l)}else l=a.get(t),l===void 0&&(l=new Set,a.set(t,l));l.has(n)||(Ks=!0,l.add(n),e=Wh.bind(null,e,t,n),t.then(e,e))}function Wh(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Oe===e&&(fe&n)===n&&(Xe===4||Xe===3&&(fe&62914560)===fe&&300>kt()-Js?(be&2)===0&&Wa(e,0):Ps|=n,Ia===fe&&(Ia=0)),Wt(e)}function Dm(e,t){t===0&&(t=Sr()),e=Na(e,t),e!==null&&(bl(e,t),Wt(e))}function ey(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Dm(e,n)}function ty(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(t),Dm(e,n)}function ny(e,t){return po(e,t)}var _u=null,tl=null,ac=!1,Ou=!1,lc=!1,ga=0;function Wt(e){e!==tl&&e.next===null&&(tl===null?_u=tl=e:tl=tl.next=e),Ou=!0,ac||(ac=!0,ly())}function ni(e,t){if(!lc&&Ou){lc=!0;do for(var n=!1,a=_u;a!==null;){if(e!==0){var l=a.pendingLanes;if(l===0)var s=0;else{var f=a.suspendedLanes,m=a.pingedLanes;s=(1<<31-At(42|e)+1)-1,s&=l&~(f&~m),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,wm(a,s))}else s=fe,s=Ui(a,a===Oe?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(s&3)===0||vl(a,s)||(n=!0,wm(a,s));a=a.next}while(n);lc=!1}}function ay(){_m()}function _m(){Ou=ac=!1;var e=0;ga!==0&&(dy()&&(e=ga),ga=0);for(var t=kt(),n=null,a=_u;a!==null;){var l=a.next,s=Om(a,t);s===0?(a.next=null,n===null?_u=l:n.next=l,l===null&&(tl=n)):(n=a,(e!==0||(s&3)!==0)&&(Ou=!0)),a=l}ni(e)}function Om(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var f=31-At(s),m=1<<f,v=l[f];v===-1?((m&n)===0||(m&a)!==0)&&(l[f]=wp(m,t)):v<=t&&(e.expiredLanes|=m),s&=~m}if(t=Oe,n=fe,n=Ui(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Se===2||Se===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&ho(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||vl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&ho(a),bo(n)){case 2:case 8:n=yr;break;case 32:n=ji;break;case 268435456:n=vr;break;default:n=ji}return a=Cm.bind(null,e),n=po(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&ho(a),e.callbackPriority=2,e.callbackNode=null,2}function Cm(e,t){if(at!==0&&at!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Du()&&e.callbackNode!==n)return null;var a=fe;return a=Ui(e,e===Oe?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(rm(e,a,t),Om(e,kt()),e.callbackNode!=null&&e.callbackNode===n?Cm.bind(null,e):null)}function wm(e,t){if(Du())return null;rm(e,t,!0)}function ly(){gy(function(){(be&6)!==0?po(hr,ay):_m()})}function ic(){return ga===0&&(ga=br()),ga}function jm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Hi(""+e)}function xm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function iy(e,t,n,a,l){if(t==="submit"&&n&&n.stateNode===l){var s=jm((l[mt]||null).action),f=a.submitter;f&&(t=(t=f[mt]||null)?jm(t.formAction):f.getAttribute("formAction"),t!==null&&(s=t,f=null));var m=new Xi("action","action",null,a,l);e.push({event:m,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ga!==0){var v=f?xm(l,f):new FormData(l);Ds(n,{pending:!0,data:v,method:l.method,action:s},null,v)}}else typeof s=="function"&&(m.preventDefault(),v=f?xm(l,f):new FormData(l),Ds(n,{pending:!0,data:v,method:l.method,action:s},s,v))},currentTarget:l}]})}}for(var uc=0;uc<Zo.length;uc++){var oc=Zo[uc],uy=oc.toLowerCase(),oy=oc[0].toUpperCase()+oc.slice(1);Qt(uy,"on"+oy)}Qt(rf,"onAnimationEnd"),Qt(ff,"onAnimationIteration"),Qt(df,"onAnimationStart"),Qt("dblclick","onDoubleClick"),Qt("focusin","onFocus"),Qt("focusout","onBlur"),Qt(Mh,"onTransitionRun"),Qt(Dh,"onTransitionStart"),Qt(_h,"onTransitionCancel"),Qt(mf,"onTransitionEnd"),Da("onMouseEnter",["mouseout","mouseover"]),Da("onMouseLeave",["mouseout","mouseover"]),Da("onPointerEnter",["pointerout","pointerover"]),Da("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ai));function zm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],l=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var f=a.length-1;0<=f;f--){var m=a[f],v=m.instance,D=m.currentTarget;if(m=m.listener,v!==s&&l.isPropagationStopped())break e;s=m,l.currentTarget=D;try{s(l)}catch(j){gu(j)}l.currentTarget=null,s=v}else for(f=0;f<a.length;f++){if(m=a[f],v=m.instance,D=m.currentTarget,m=m.listener,v!==s&&l.isPropagationStopped())break e;s=m,l.currentTarget=D;try{s(l)}catch(j){gu(j)}l.currentTarget=null,s=v}}}}function oe(e,t){var n=t[So];n===void 0&&(n=t[So]=new Set);var a=e+"__bubble";n.has(a)||(Um(t,e,2,!1),n.add(a))}function sc(e,t,n){var a=0;t&&(a|=4),Um(n,e,a,t)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function cc(e){if(!e[Cu]){e[Cu]=!0,Dr.forEach(function(n){n!=="selectionchange"&&(sy.has(n)||sc(n,!1,e),sc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cu]||(t[Cu]=!0,sc("selectionchange",!1,t))}}function Um(e,t,n,a){switch(ag(t)){case 2:var l=Ny;break;case 8:l=Ly;break;default:l=Tc}n=l.bind(null,t,n,e),l=void 0,!xo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),a?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function rc(e,t,n,a,l){var s=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var f=a.tag;if(f===3||f===4){var m=a.stateNode.containerInfo;if(m===l)break;if(f===4)for(f=a.return;f!==null;){var v=f.tag;if((v===3||v===4)&&f.stateNode.containerInfo===l)return;f=f.return}for(;m!==null;){if(f=Aa(m),f===null)return;if(v=f.tag,v===5||v===6||v===26||v===27){a=s=f;continue e}m=m.parentNode}}a=a.return}qr(function(){var D=s,j=wo(n),U=[];e:{var _=gf.get(e);if(_!==void 0){var C=Xi,$=e;switch(e){case"keypress":if(Gi(n)===0)break e;case"keydown":case"keyup":C=nh;break;case"focusin":$="focus",C=No;break;case"focusout":$="blur",C=No;break;case"beforeblur":case"afterblur":C=No;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=Xr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=Zp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=ih;break;case rf:case ff:case df:C=Pp;break;case mf:C=oh;break;case"scroll":case"scrollend":C=Xp;break;case"wheel":C=ch;break;case"copy":case"cut":case"paste":C=Jp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=Zr;break;case"toggle":case"beforetoggle":C=fh}var k=(t&4)!==0,Te=!k&&(e==="scroll"||e==="scrollend"),T=k?_!==null?_+"Capture":null:_;k=[];for(var E=D,M;E!==null;){var z=E;if(M=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||M===null||T===null||(z=Al(E,T),z!=null&&k.push(li(E,z,M))),Te)break;E=E.return}0<k.length&&(_=new C(_,$,null,n,j),U.push({event:_,listeners:k}))}}if((t&7)===0){e:{if(_=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",_&&n!==Co&&($=n.relatedTarget||n.fromElement)&&(Aa($)||$[Ea]))break e;if((C||_)&&(_=j.window===j?j:(_=j.ownerDocument)?_.defaultView||_.parentWindow:window,C?($=n.relatedTarget||n.toElement,C=D,$=$?Aa($):null,$!==null&&(Te=d($),k=$.tag,$!==Te||k!==5&&k!==27&&k!==6)&&($=null)):(C=null,$=D),C!==$)){if(k=Xr,z="onMouseLeave",T="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(k=Zr,z="onPointerLeave",T="onPointerEnter",E="pointer"),Te=C==null?_:El(C),M=$==null?_:El($),_=new k(z,E+"leave",C,n,j),_.target=Te,_.relatedTarget=M,z=null,Aa(j)===D&&(k=new k(T,E+"enter",$,n,j),k.target=M,k.relatedTarget=Te,z=k),Te=z,C&&$)t:{for(k=C,T=$,E=0,M=k;M;M=nl(M))E++;for(M=0,z=T;z;z=nl(z))M++;for(;0<E-M;)k=nl(k),E--;for(;0<M-E;)T=nl(T),M--;for(;E--;){if(k===T||T!==null&&k===T.alternate)break t;k=nl(k),T=nl(T)}k=null}else k=null;C!==null&&Bm(U,_,C,k,!1),$!==null&&Te!==null&&Bm(U,Te,$,k,!0)}}e:{if(_=D?El(D):window,C=_.nodeName&&_.nodeName.toLowerCase(),C==="select"||C==="input"&&_.type==="file")var Y=Fr;else if(Ir(_))if(Wr)Y=Eh;else{Y=bh;var ie=vh}else C=_.nodeName,!C||C.toLowerCase()!=="input"||_.type!=="checkbox"&&_.type!=="radio"?D&&Oo(D.elementType)&&(Y=Fr):Y=Sh;if(Y&&(Y=Y(e,D))){$r(U,Y,n,j);break e}ie&&ie(e,_,D),e==="focusout"&&D&&_.type==="number"&&D.memoizedProps.value!=null&&_o(_,"number",_.value)}switch(ie=D?El(D):window,e){case"focusin":(Ir(ie)||ie.contentEditable==="true")&&(za=ie,Yo=D,jl=null);break;case"focusout":jl=Yo=za=null;break;case"mousedown":Xo=!0;break;case"contextmenu":case"mouseup":case"dragend":Xo=!1,sf(U,n,j);break;case"selectionchange":if(Th)break;case"keydown":case"keyup":sf(U,n,j)}var Q;if(Ro)e:{switch(e){case"compositionstart":var J="onCompositionStart";break e;case"compositionend":J="onCompositionEnd";break e;case"compositionupdate":J="onCompositionUpdate";break e}J=void 0}else xa?kr(e,n)&&(J="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(J="onCompositionStart");J&&(Vr&&n.locale!=="ko"&&(xa||J!=="onCompositionStart"?J==="onCompositionEnd"&&xa&&(Q=Gr()):(_n=j,zo="value"in _n?_n.value:_n.textContent,xa=!0)),ie=wu(D,J),0<ie.length&&(J=new Qr(J,e,null,n,j),U.push({event:J,listeners:ie}),Q?J.data=Q:(Q=Jr(n),Q!==null&&(J.data=Q)))),(Q=mh?gh(e,n):ph(e,n))&&(J=wu(D,"onBeforeInput"),0<J.length&&(ie=new Qr("onBeforeInput","beforeinput",null,n,j),U.push({event:ie,listeners:J}),ie.data=Q)),iy(U,e,D,n,j)}zm(U,t)})}function li(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wu(e,t){for(var n=t+"Capture",a=[];e!==null;){var l=e,s=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||s===null||(l=Al(e,n),l!=null&&a.unshift(li(e,l,s)),l=Al(e,t),l!=null&&a.push(li(e,l,s))),e.tag===3)return a;e=e.return}return[]}function nl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Bm(e,t,n,a,l){for(var s=t._reactName,f=[];n!==null&&n!==a;){var m=n,v=m.alternate,D=m.stateNode;if(m=m.tag,v!==null&&v===a)break;m!==5&&m!==26&&m!==27||D===null||(v=D,l?(D=Al(n,s),D!=null&&f.unshift(li(n,D,v))):l||(D=Al(n,s),D!=null&&f.push(li(n,D,v)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var cy=/\r\n?/g,ry=/\u0000|\uFFFD/g;function Nm(e){return(typeof e=="string"?e:""+e).replace(cy,`
`).replace(ry,"")}function Lm(e,t){return t=Nm(t),Nm(e)===t}function ju(){}function Ae(e,t,n,a,l,s){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Ca(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Ca(e,""+a);break;case"className":Ni(e,"class",a);break;case"tabIndex":Ni(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Ni(e,n,a);break;case"style":Rr(e,a,s);break;case"data":if(t!=="object"){Ni(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Hi(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&Ae(e,t,"name",l.name,l,null),Ae(e,t,"formEncType",l.formEncType,l,null),Ae(e,t,"formMethod",l.formMethod,l,null),Ae(e,t,"formTarget",l.formTarget,l,null)):(Ae(e,t,"encType",l.encType,l,null),Ae(e,t,"method",l.method,l,null),Ae(e,t,"target",l.target,l,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Hi(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=ju);break;case"onScroll":a!=null&&oe("scroll",e);break;case"onScrollEnd":a!=null&&oe("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Hi(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":oe("beforetoggle",e),oe("toggle",e),Bi(e,"popover",a);break;case"xlinkActuate":nn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":nn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":nn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":nn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":nn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":nn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":nn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":nn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":nn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Bi(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Gp.get(n)||n,Bi(e,n,a))}}function fc(e,t,n,a,l,s){switch(n){case"style":Rr(e,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Ca(e,a):(typeof a=="number"||typeof a=="bigint")&&Ca(e,""+a);break;case"onScroll":a!=null&&oe("scroll",e);break;case"onScrollEnd":a!=null&&oe("scrollend",e);break;case"onClick":a!=null&&(e.onclick=ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_r.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),t=n.slice(2,l?n.length-7:void 0),s=e[mt]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,l),typeof a=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,l);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Bi(e,n,a)}}}function lt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":oe("error",e),oe("load",e);var a=!1,l=!1,s;for(s in n)if(n.hasOwnProperty(s)){var f=n[s];if(f!=null)switch(s){case"src":a=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ae(e,t,s,f,n,null)}}l&&Ae(e,t,"srcSet",n.srcSet,n,null),a&&Ae(e,t,"src",n.src,n,null);return;case"input":oe("invalid",e);var m=s=f=l=null,v=null,D=null;for(a in n)if(n.hasOwnProperty(a)){var j=n[a];if(j!=null)switch(a){case"name":l=j;break;case"type":f=j;break;case"checked":v=j;break;case"defaultChecked":D=j;break;case"value":s=j;break;case"defaultValue":m=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(o(137,t));break;default:Ae(e,t,a,j,n,null)}}Ur(e,s,m,v,D,f,l,!1),Li(e);return;case"select":oe("invalid",e),a=f=s=null;for(l in n)if(n.hasOwnProperty(l)&&(m=n[l],m!=null))switch(l){case"value":s=m;break;case"defaultValue":f=m;break;case"multiple":a=m;default:Ae(e,t,l,m,n,null)}t=s,n=f,e.multiple=!!a,t!=null?Oa(e,!!a,t,!1):n!=null&&Oa(e,!!a,n,!0);return;case"textarea":oe("invalid",e),s=l=a=null;for(f in n)if(n.hasOwnProperty(f)&&(m=n[f],m!=null))switch(f){case"value":a=m;break;case"defaultValue":l=m;break;case"children":s=m;break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(o(91));break;default:Ae(e,t,f,m,n,null)}Nr(e,a,l,s),Li(e);return;case"option":for(v in n)if(n.hasOwnProperty(v)&&(a=n[v],a!=null))switch(v){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ae(e,t,v,a,n,null)}return;case"dialog":oe("beforetoggle",e),oe("toggle",e),oe("cancel",e),oe("close",e);break;case"iframe":case"object":oe("load",e);break;case"video":case"audio":for(a=0;a<ai.length;a++)oe(ai[a],e);break;case"image":oe("error",e),oe("load",e);break;case"details":oe("toggle",e);break;case"embed":case"source":case"link":oe("error",e),oe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in n)if(n.hasOwnProperty(D)&&(a=n[D],a!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ae(e,t,D,a,n,null)}return;default:if(Oo(t)){for(j in n)n.hasOwnProperty(j)&&(a=n[j],a!==void 0&&fc(e,t,j,a,n,void 0));return}}for(m in n)n.hasOwnProperty(m)&&(a=n[m],a!=null&&Ae(e,t,m,a,n,null))}function fy(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,s=null,f=null,m=null,v=null,D=null,j=null;for(C in n){var U=n[C];if(n.hasOwnProperty(C)&&U!=null)switch(C){case"checked":break;case"value":break;case"defaultValue":v=U;default:a.hasOwnProperty(C)||Ae(e,t,C,null,a,U)}}for(var _ in a){var C=a[_];if(U=n[_],a.hasOwnProperty(_)&&(C!=null||U!=null))switch(_){case"type":s=C;break;case"name":l=C;break;case"checked":D=C;break;case"defaultChecked":j=C;break;case"value":f=C;break;case"defaultValue":m=C;break;case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(o(137,t));break;default:C!==U&&Ae(e,t,_,C,a,U)}}Do(e,f,m,v,D,j,s,l);return;case"select":C=f=m=_=null;for(s in n)if(v=n[s],n.hasOwnProperty(s)&&v!=null)switch(s){case"value":break;case"multiple":C=v;default:a.hasOwnProperty(s)||Ae(e,t,s,null,a,v)}for(l in a)if(s=a[l],v=n[l],a.hasOwnProperty(l)&&(s!=null||v!=null))switch(l){case"value":_=s;break;case"defaultValue":m=s;break;case"multiple":f=s;default:s!==v&&Ae(e,t,l,s,a,v)}t=m,n=f,a=C,_!=null?Oa(e,!!n,_,!1):!!a!=!!n&&(t!=null?Oa(e,!!n,t,!0):Oa(e,!!n,n?[]:"",!1));return;case"textarea":C=_=null;for(m in n)if(l=n[m],n.hasOwnProperty(m)&&l!=null&&!a.hasOwnProperty(m))switch(m){case"value":break;case"children":break;default:Ae(e,t,m,null,a,l)}for(f in a)if(l=a[f],s=n[f],a.hasOwnProperty(f)&&(l!=null||s!=null))switch(f){case"value":_=l;break;case"defaultValue":C=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(o(91));break;default:l!==s&&Ae(e,t,f,l,a,s)}Br(e,_,C);return;case"option":for(var $ in n)if(_=n[$],n.hasOwnProperty($)&&_!=null&&!a.hasOwnProperty($))switch($){case"selected":e.selected=!1;break;default:Ae(e,t,$,null,a,_)}for(v in a)if(_=a[v],C=n[v],a.hasOwnProperty(v)&&_!==C&&(_!=null||C!=null))switch(v){case"selected":e.selected=_&&typeof _!="function"&&typeof _!="symbol";break;default:Ae(e,t,v,_,a,C)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var k in n)_=n[k],n.hasOwnProperty(k)&&_!=null&&!a.hasOwnProperty(k)&&Ae(e,t,k,null,a,_);for(D in a)if(_=a[D],C=n[D],a.hasOwnProperty(D)&&_!==C&&(_!=null||C!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(o(137,t));break;default:Ae(e,t,D,_,a,C)}return;default:if(Oo(t)){for(var Te in n)_=n[Te],n.hasOwnProperty(Te)&&_!==void 0&&!a.hasOwnProperty(Te)&&fc(e,t,Te,void 0,a,_);for(j in a)_=a[j],C=n[j],!a.hasOwnProperty(j)||_===C||_===void 0&&C===void 0||fc(e,t,j,_,a,C);return}}for(var T in n)_=n[T],n.hasOwnProperty(T)&&_!=null&&!a.hasOwnProperty(T)&&Ae(e,t,T,null,a,_);for(U in a)_=a[U],C=n[U],!a.hasOwnProperty(U)||_===C||_==null&&C==null||Ae(e,t,U,_,a,C)}var dc=null,mc=null;function xu(e){return e.nodeType===9?e:e.ownerDocument}function Rm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function gc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pc=null;function dy(){var e=window.event;return e&&e.type==="popstate"?e===pc?!1:(pc=e,!0):(pc=null,!1)}var qm=typeof setTimeout=="function"?setTimeout:void 0,my=typeof clearTimeout=="function"?clearTimeout:void 0,Gm=typeof Promise=="function"?Promise:void 0,gy=typeof queueMicrotask=="function"?queueMicrotask:typeof Gm<"u"?function(e){return Gm.resolve(null).then(e).catch(py)}:qm;function py(e){setTimeout(function(){throw e})}function Xn(e){return e==="head"}function Ym(e,t){var n=t,a=0,l=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<a&&8>a){n=a;var f=e.ownerDocument;if(n&1&&ii(f.documentElement),n&2&&ii(f.body),n&4)for(n=f.head,ii(n),f=n.firstChild;f;){var m=f.nextSibling,v=f.nodeName;f[Sl]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&f.rel.toLowerCase()==="stylesheet"||n.removeChild(f),f=m}}if(l===0){e.removeChild(s),mi(t);return}l--}else n==="$"||n==="$?"||n==="$!"?l++:a=n.charCodeAt(0)-48;else a=0;n=s}while(n);mi(t)}function hc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":hc(n),Eo(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function hy(e,t,n,a){for(;e.nodeType===1;){var l=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Sl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Vt(e.nextSibling),e===null)break}return null}function yy(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vt(e.nextSibling),e===null))return null;return e}function yc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function vy(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var vc=null;function Xm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function Qm(e,t,n){switch(t=xu(n),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function ii(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Eo(e)}var Yt=new Map,Zm=new Set;function zu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yn=R.d;R.d={f:by,r:Sy,D:Ey,C:Ay,L:Ty,m:My,X:_y,S:Dy,M:Oy};function by(){var e=yn.f(),t=Tu();return e||t}function Sy(e){var t=Ta(e);t!==null&&t.tag===5&&t.type==="form"?rd(t):yn.r(e)}var al=typeof document>"u"?null:document;function Vm(e,t,n){var a=al;if(a&&typeof t=="string"&&t){var l=Bt(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),Zm.has(l)||(Zm.add(l),e={rel:e,crossOrigin:n,href:t},a.querySelector(l)===null&&(t=a.createElement("link"),lt(t,"link",e),Fe(t),a.head.appendChild(t)))}}function Ey(e){yn.D(e),Vm("dns-prefetch",e,null)}function Ay(e,t){yn.C(e,t),Vm("preconnect",e,t)}function Ty(e,t,n){yn.L(e,t,n);var a=al;if(a&&e&&t){var l='link[rel="preload"][as="'+Bt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+Bt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+Bt(n.imageSizes)+'"]')):l+='[href="'+Bt(e)+'"]';var s=l;switch(t){case"style":s=ll(e);break;case"script":s=il(e)}Yt.has(s)||(e=A({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Yt.set(s,e),a.querySelector(l)!==null||t==="style"&&a.querySelector(ui(s))||t==="script"&&a.querySelector(oi(s))||(t=a.createElement("link"),lt(t,"link",e),Fe(t),a.head.appendChild(t)))}}function My(e,t){yn.m(e,t);var n=al;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+Bt(a)+'"][href="'+Bt(e)+'"]',s=l;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=il(e)}if(!Yt.has(s)&&(e=A({rel:"modulepreload",href:e},t),Yt.set(s,e),n.querySelector(l)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(oi(s)))return}a=n.createElement("link"),lt(a,"link",e),Fe(a),n.head.appendChild(a)}}}function Dy(e,t,n){yn.S(e,t,n);var a=al;if(a&&e){var l=Ma(a).hoistableStyles,s=ll(e);t=t||"default";var f=l.get(s);if(!f){var m={loading:0,preload:null};if(f=a.querySelector(ui(s)))m.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Yt.get(s))&&bc(e,n);var v=f=a.createElement("link");Fe(v),lt(v,"link",e),v._p=new Promise(function(D,j){v.onload=D,v.onerror=j}),v.addEventListener("load",function(){m.loading|=1}),v.addEventListener("error",function(){m.loading|=2}),m.loading|=4,Uu(f,t,a)}f={type:"stylesheet",instance:f,count:1,state:m},l.set(s,f)}}}function _y(e,t){yn.X(e,t);var n=al;if(n&&e){var a=Ma(n).hoistableScripts,l=il(e),s=a.get(l);s||(s=n.querySelector(oi(l)),s||(e=A({src:e,async:!0},t),(t=Yt.get(l))&&Sc(e,t),s=n.createElement("script"),Fe(s),lt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(l,s))}}function Oy(e,t){yn.M(e,t);var n=al;if(n&&e){var a=Ma(n).hoistableScripts,l=il(e),s=a.get(l);s||(s=n.querySelector(oi(l)),s||(e=A({src:e,async:!0,type:"module"},t),(t=Yt.get(l))&&Sc(e,t),s=n.createElement("script"),Fe(s),lt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(l,s))}}function Km(e,t,n,a){var l=(l=ee.current)?zu(l):null;if(!l)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ll(n.href),n=Ma(l).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ll(n.href);var s=Ma(l).hoistableStyles,f=s.get(e);if(f||(l=l.ownerDocument||l,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,f),(s=l.querySelector(ui(e)))&&!s._p&&(f.instance=s,f.state.loading=5),Yt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Yt.set(e,n),s||Cy(l,e,n,f.state))),t&&a===null)throw Error(o(528,""));return f}if(t&&a!==null)throw Error(o(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=il(n),n=Ma(l).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function ll(e){return'href="'+Bt(e)+'"'}function ui(e){return'link[rel="stylesheet"]['+e+"]"}function Pm(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function Cy(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),lt(t,"link",n),Fe(t),e.head.appendChild(t))}function il(e){return'[src="'+Bt(e)+'"]'}function oi(e){return"script[async]"+e}function km(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Bt(n.href)+'"]');if(a)return t.instance=a,Fe(a),a;var l=A({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Fe(a),lt(a,"style",l),Uu(a,n.precedence,e),t.instance=a;case"stylesheet":l=ll(n.href);var s=e.querySelector(ui(l));if(s)return t.state.loading|=4,t.instance=s,Fe(s),s;a=Pm(n),(l=Yt.get(l))&&bc(a,l),s=(e.ownerDocument||e).createElement("link"),Fe(s);var f=s;return f._p=new Promise(function(m,v){f.onload=m,f.onerror=v}),lt(s,"link",a),t.state.loading|=4,Uu(s,n.precedence,e),t.instance=s;case"script":return s=il(n.src),(l=e.querySelector(oi(s)))?(t.instance=l,Fe(l),l):(a=n,(l=Yt.get(s))&&(a=A({},n),Sc(a,l)),e=e.ownerDocument||e,l=e.createElement("script"),Fe(l),lt(l,"link",a),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Uu(a,n.precedence,e));return t.instance}function Uu(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=a.length?a[a.length-1]:null,s=l,f=0;f<a.length;f++){var m=a[f];if(m.dataset.precedence===t)s=m;else if(s!==l)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function bc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Sc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Bu=null;function Jm(e,t,n){if(Bu===null){var a=new Map,l=Bu=new Map;l.set(n,a)}else l=Bu,a=l.get(n),a||(a=new Map,l.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),l=0;l<n.length;l++){var s=n[l];if(!(s[Sl]||s[ut]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var f=s.getAttribute(t)||"";f=e+f;var m=a.get(f);m?m.push(s):a.set(f,[s])}}return a}function Im(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function wy(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function $m(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var si=null;function jy(){}function xy(e,t,n){if(si===null)throw Error(o(475));var a=si;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var l=ll(n.href),s=e.querySelector(ui(l));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=Nu.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=s,Fe(s);return}s=e.ownerDocument||e,n=Pm(n),(l=Yt.get(l))&&bc(n,l),s=s.createElement("link"),Fe(s);var f=s;f._p=new Promise(function(m,v){f.onload=m,f.onerror=v}),lt(s,"link",n),t.instance=s}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=Nu.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function zy(){if(si===null)throw Error(o(475));var e=si;return e.stylesheets&&e.count===0&&Ec(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Nu(){if(this.count--,this.count===0){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Lu=null;function Ec(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Lu=new Map,t.forEach(Uy,e),Lu=null,Nu.call(e))}function Uy(e,t){if(!(t.state.loading&4)){var n=Lu.get(e);if(n)var a=n.get(null);else{n=new Map,Lu.set(e,n);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<l.length;s++){var f=l[s];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(n.set(f.dataset.precedence,f),a=f)}a&&n.set(null,a)}l=t.instance,f=l.getAttribute("data-precedence"),s=n.get(f)||a,s===a&&n.set(null,l),n.set(f,l),this.count++,a=Nu.bind(this),l.addEventListener("load",a),l.addEventListener("error",a),s?s.parentNode.insertBefore(l,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var ci={$$typeof:he,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function By(e,t,n,a,l,s,f,m){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yo(0),this.hiddenUpdates=yo(null),this.identifierPrefix=a,this.onUncaughtError=l,this.onCaughtError=s,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=m,this.incompleteTransitions=new Map}function Fm(e,t,n,a,l,s,f,m,v,D,j,U){return e=new By(e,t,n,f,m,v,D,U),t=1,s===!0&&(t|=24),s=Mt(3,null,null,t),e.current=s,s.stateNode=e,t=ns(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:t},us(s),e}function Wm(e){return e?(e=La,e):La}function eg(e,t,n,a,l,s){l=Wm(l),a.context===null?a.context=l:a.pendingContext=l,a=wn(t),a.payload={element:n},s=s===void 0?null:s,s!==null&&(a.callback=s),n=jn(e,a,t),n!==null&&(wt(n,e,t),ql(n,e,t))}function tg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ac(e,t){tg(e,t),(e=e.alternate)&&tg(e,t)}function ng(e){if(e.tag===13){var t=Na(e,67108864);t!==null&&wt(t,e,67108864),Ac(e,67108864)}}var Ru=!0;function Ny(e,t,n,a){var l=w.T;w.T=null;var s=R.p;try{R.p=2,Tc(e,t,n,a)}finally{R.p=s,w.T=l}}function Ly(e,t,n,a){var l=w.T;w.T=null;var s=R.p;try{R.p=8,Tc(e,t,n,a)}finally{R.p=s,w.T=l}}function Tc(e,t,n,a){if(Ru){var l=Mc(a);if(l===null)rc(e,t,a,Hu,n),lg(e,a);else if(Hy(l,e,t,n,a))a.stopPropagation();else if(lg(e,a),t&4&&-1<Ry.indexOf(e)){for(;l!==null;){var s=Ta(l);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var f=$n(s.pendingLanes);if(f!==0){var m=s;for(m.pendingLanes|=2,m.entangledLanes|=2;f;){var v=1<<31-At(f);m.entanglements[1]|=v,f&=~v}Wt(s),(be&6)===0&&(Eu=kt()+500,ni(0))}}break;case 13:m=Na(s,2),m!==null&&wt(m,s,2),Tu(),Ac(s,2)}if(s=Mc(a),s===null&&rc(e,t,a,Hu,n),s===l)break;l=s}l!==null&&a.stopPropagation()}else rc(e,t,a,null,n)}}function Mc(e){return e=wo(e),Dc(e)}var Hu=null;function Dc(e){if(Hu=null,e=Aa(e),e!==null){var t=d(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Hu=e,null}function ag(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ap()){case hr:return 2;case yr:return 8;case ji:case Tp:return 32;case vr:return 268435456;default:return 32}default:return 32}}var _c=!1,Qn=null,Zn=null,Vn=null,ri=new Map,fi=new Map,Kn=[],Ry="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lg(e,t){switch(e){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":ri.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fi.delete(t.pointerId)}}function di(e,t,n,a,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[l]},t!==null&&(t=Ta(t),t!==null&&ng(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Hy(e,t,n,a,l){switch(t){case"focusin":return Qn=di(Qn,e,t,n,a,l),!0;case"dragenter":return Zn=di(Zn,e,t,n,a,l),!0;case"mouseover":return Vn=di(Vn,e,t,n,a,l),!0;case"pointerover":var s=l.pointerId;return ri.set(s,di(ri.get(s)||null,e,t,n,a,l)),!0;case"gotpointercapture":return s=l.pointerId,fi.set(s,di(fi.get(s)||null,e,t,n,a,l)),!0}return!1}function ig(e){var t=Aa(e.target);if(t!==null){var n=d(t);if(n!==null){if(t=n.tag,t===13){if(t=p(n),t!==null){e.blockedOn=t,xp(e.priority,function(){if(n.tag===13){var a=Ct();a=vo(a);var l=Na(n,a);l!==null&&wt(l,n,a),Ac(n,a)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Mc(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Co=a,n.target.dispatchEvent(a),Co=null}else return t=Ta(n),t!==null&&ng(t),e.blockedOn=n,!1;t.shift()}return!0}function ug(e,t,n){qu(e)&&n.delete(t)}function qy(){_c=!1,Qn!==null&&qu(Qn)&&(Qn=null),Zn!==null&&qu(Zn)&&(Zn=null),Vn!==null&&qu(Vn)&&(Vn=null),ri.forEach(ug),fi.forEach(ug)}function Gu(e,t){e.blockedOn===t&&(e.blockedOn=null,_c||(_c=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,qy)))}var Yu=null;function og(e){Yu!==e&&(Yu=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Yu===e&&(Yu=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],l=e[t+2];if(typeof a!="function"){if(Dc(a||n)===null)continue;break}var s=Ta(n);s!==null&&(e.splice(t,3),t-=3,Ds(s,{pending:!0,data:l,method:n.method,action:a},a,l))}}))}function mi(e){function t(v){return Gu(v,e)}Qn!==null&&Gu(Qn,e),Zn!==null&&Gu(Zn,e),Vn!==null&&Gu(Vn,e),ri.forEach(t),fi.forEach(t);for(var n=0;n<Kn.length;n++){var a=Kn[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Kn.length&&(n=Kn[0],n.blockedOn===null);)ig(n),n.blockedOn===null&&Kn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var l=n[a],s=n[a+1],f=l[mt]||null;if(typeof s=="function")f||og(n);else if(f){var m=null;if(s&&s.hasAttribute("formAction")){if(l=s,f=s[mt]||null)m=f.formAction;else if(Dc(l)!==null)continue}else m=f.action;typeof m=="function"?n[a+1]=m:(n.splice(a,3),a-=3),og(n)}}}function Oc(e){this._internalRoot=e}Xu.prototype.render=Oc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var n=t.current,a=Ct();eg(n,a,e,t,null,null)},Xu.prototype.unmount=Oc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;eg(e.current,2,null,e,null,null),Tu(),t[Ea]=null}};function Xu(e){this._internalRoot=e}Xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tr();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Kn.length&&t!==0&&t<Kn[n].priority;n++);Kn.splice(n,0,e),n===0&&ig(e)}};var sg=u.version;if(sg!=="19.1.1")throw Error(o(527,sg,"19.1.1"));R.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=h(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var Gy={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:w,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{yl=Qu.inject(Gy),Et=Qu}catch{}}return pi.createRoot=function(e,t){if(!r(e))throw Error(o(299));var n=!1,a="",l=Md,s=Dd,f=_d,m=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(m=t.unstable_transitionCallbacks)),t=Fm(e,1,!1,null,null,n,a,l,s,f,m,null),e[Ea]=t.current,cc(e),new Oc(t)},pi.hydrateRoot=function(e,t,n){if(!r(e))throw Error(o(299));var a=!1,l="",s=Md,f=Dd,m=_d,v=null,D=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(m=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(v=n.unstable_transitionCallbacks),n.formState!==void 0&&(D=n.formState)),t=Fm(e,1,!0,t,n??null,a,l,s,f,m,v,D),t.context=Wm(null),n=t.current,a=Ct(),a=vo(a),l=wn(a),l.callback=null,jn(n,l,a),n=a,t.current.lanes=n,bl(t,n),Wt(t),e[Ea]=t.current,cc(e),new Xu(t)},pi.version="19.1.1",pi}var bg;function Rv(){if(bg)return jc.exports;bg=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(u){console.error(u)}}return i(),jc.exports=Lv(),jc.exports}var Hv=Rv();const Vg=Qg(Hv);function qv(){return I.jsxs("div",{style:{padding:"20px",backgroundColor:"#f0f8ff",border:"1px solid #b0c4de",borderRadius:"8px"},children:[I.jsx("h1",{children:"Hello from React! 👋"}),I.jsx("p",{children:"This component is rendered by React."})]})}const Sg=document.getElementById("react-root");Sg&&Vg.createRoot(Sg).render(I.jsx(Zg.StrictMode,{children:I.jsx(qv,{})}));const Ce={};function Gv(){Ce.appWrapper=document.querySelector(".app-wrapper"),Ce.toggleRightSidebarBtn=document.getElementById("toggle-right-sidebar-btn"),Ce.sessionsPanel=document.querySelector(".sessions-panel"),Ce.hamburgerBtn=document.getElementById("hamburger-btn"),Ce.closeSidebarBtn=document.querySelector('.sessions-panel .mobile-only[title="Close Sidebar"]'),Ce.mobileOverlay=document.getElementById("mobile-overlay"),Ce.composerPanel=document.querySelector(".composer-panel"),Ce.resizerRow=document.getElementById("resizer-row")}function Yv(i,u){if(!i||!u)return;let c=0,o=0,r=0,d=!1;const p=g=>{g.preventDefault(),i.classList.add("active"),document.body.style.cursor="row-resize",u.classList.contains("collapsed")&&(u.classList.remove("collapsed"),i.classList.remove("collapsed"),y.bus.publish("composer:visibilityChanged")),c=g.clientY,o=u.getBoundingClientRect().height,document.addEventListener("mousemove",b),document.addEventListener("mouseup",h)},b=g=>{r=g.clientY,d||(window.requestAnimationFrame(()=>{const A=r-c;let O=o-A;const x=parseInt(getComputedStyle(u).minHeight,10)||50;O<x&&(O=x),u.style.flexBasis=`${O}px`,d=!1}),d=!0)},h=()=>{i.classList.remove("active"),document.body.style.cursor="",document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",h)};i.addEventListener("mousedown",p)}function Xv(){if(!Ce.sessionsPanel)return;const i=u=>{u.stopPropagation(),u.preventDefault(),Ce.sessionsPanel.classList.remove("is-open"),Ce.mobileOverlay?.classList.remove("active")};Ce.hamburgerBtn?.addEventListener("click",u=>{window.innerWidth<=1024?(Ce.sessionsPanel.classList.add("is-open"),Ce.mobileOverlay?.classList.add("active")):Ce.appWrapper?.classList.toggle("sidebar-collapsed")}),Ce.mobileOverlay?.addEventListener("click",i,!0),Ce.closeSidebarBtn?.addEventListener("click",i,!0)}function Qv(){Gv(),Ce.resizerRow&&Ce.composerPanel&&Yv(Ce.resizerRow,Ce.composerPanel),Xv(),Zv(),console.log("Core layout manager initialized.")}function Zv(){!Ce.toggleRightSidebarBtn||!Ce.appWrapper||Ce.toggleRightSidebarBtn.addEventListener("click",()=>{Ce.appWrapper.classList.toggle("right-sidebar-collapsed"),Ce.appWrapper.classList.contains("right-sidebar-collapsed")||y.bus.publish("studio:rendered")})}const Zu={temperature:{label:"Temperature",provider:"all",type:"range",min:0,max:2,step:.01,default:1,tooltip:"Controls randomness. Higher is more creative."},top_p:{label:"Top P",provider:"all",type:"range",min:0,max:1,step:.01,default:1,tooltip:"Controls diversity via nucleus sampling."},top_k:{label:"Top K",provider:"all",type:"range",min:0,max:100,step:1,default:0,tooltip:"Limits sampling to the K most likely tokens."},max_tokens:{label:"Max Tokens",provider:"all",type:"range",min:1,max:32768,step:1,default:4096,tooltip:"The maximum number of tokens to generate."},frequency_penalty:{label:"Frequency Penalty",provider:"all",type:"range",min:-2,max:2,step:.01,default:0,tooltip:"Reduces the likelihood of repeating the same lines."},presence_penalty:{label:"Presence Penalty",provider:"all",type:"range",min:-2,max:2,step:.01,default:0,tooltip:"Reduces the likelihood of repeating existing topics."},seed:{label:"Seed",provider:"all",type:"number",default:-1,tooltip:"Use -1 for random output, or a specific number for deterministic output."},stop_sequences:{label:"Stop Sequences",provider:"all",type:"text",default:"",tooltip:"Comma-separated list of sequences to stop generation."},logit_bias:{label:"Logit Bias",provider:"openrouter",type:"textarea",default:"",tooltip:'Advanced: Enter "token:bias" pairs (e.g., "123:-1, 456:1.5").'},mirostat:{label:"Mirostat",provider:"ollama",type:"select",options:[0,1,2],default:0,tooltip:"Enables Mirostat sampling (0 = disabled, 1 = v1, 2 = v2)."},mirostat_tau:{label:"Mirostat Tau",provider:"ollama",type:"range",min:0,max:10,step:.1,default:5,tooltip:"Controls the balance between coherence and diversity for Mirostat."},mirostat_eta:{label:"Mirostat Eta",provider:"ollama",type:"range",min:0,max:1,step:.01,default:.1,tooltip:"Controls the learning rate for Mirostat."},repeat_penalty:{label:"Repeat Penalty",provider:"ollama",type:"range",min:0,max:2,step:.01,default:1.1,tooltip:"Strongly penalizes repeating tokens. A higher value reduces repetition more."}};function Vv(i,u,c){const o=c===void 0||c===""||c===null||c===u.default,r=o?"Default":c,d=o?"param-value":"param-value custom";let p="";const b=c==null||c===""?u.default:c;switch(u.type){case"range":p=`
                <input type="range" class="param-slider" data-control="slider"
                       min="${u.min}" max="${u.max}" 
                       step="${u.step}" value="${b}">
                <input type="number" class="param-input" data-control="input"
                       min="${u.min}" max="${u.max}" 
                       step="${u.step}" value="${b}">
                <button type="button" class="btn-link param-reset-btn" data-action="reset">Reset</button>
            `;break;case"number":p=`<input type="number" class="param-input-full" data-control="input" value="${b}" placeholder="${u.default}">`;break;case"text":p=`<input type="text" class="param-input-full" data-control="input" value="${b}" placeholder="${u.default}">`;break;case"textarea":p=`<textarea class="param-input-full" data-control="input" rows="3">${b}</textarea>`;break;case"select":p=`<select class="param-input-full" data-control="input">${u.options.map(g=>`<option value="${g}" ${g==b?"selected":""}>${g}</option>`).join("")}</select>`;break}return`
        <div class="param-wrapper" data-param-name="${i}">
            <div class="param-row" data-action="toggle">
                <span class="param-label" title="${u.tooltip}">${u.label}</span>
                <span class="${d}">${r}</span>
            </div>
            <div class="param-control hidden">
                ${p}
            </div>
        </div>
    `}function Kg(i,u,c){if(!i)return null;let o="<h4>Core Parameters</h4>",r='<div id="ollama-section"><h4>Advanced (Ollama only)</h4>',d=!1;for(const g in Zu){const A=Zu[g],O=u?u[g]:void 0;if(A.provider==="all"||A.provider===c){const x=Vv(g,A,O);A.provider==="ollama"?(r+=x,d=!0):o+=x}}console.log("Generated Core HTML:",o),console.log("Generated Ollama HTML:",r),r+="</div>",i.innerHTML=o+r;const p=i.querySelector("#ollama-section");p&&(p.style.display=c==="ollama"&&d?"block":"none");const b=g=>{const A=g.target.closest("[data-action]");if(!A)return;const O=A.closest(".param-wrapper");if(O){if(A.dataset.action==="toggle"){const x=O.querySelector(".param-control"),N=x.classList.contains("hidden");i.querySelectorAll(".param-control:not(.hidden)").forEach(H=>H.classList.add("hidden")),N&&x.classList.remove("hidden")}else if(A.dataset.action==="reset"){const x=O.dataset.paramName,N=Zu[x];O.querySelector(".param-value").textContent="Default",O.querySelector(".param-value").classList.remove("custom"),O.querySelectorAll("input, select, textarea").forEach(H=>H.value=N.default)}}},h=g=>{const A=g.target.closest("[data-control]");if(!A)return;const O=A.closest(".param-wrapper");if(!O)return;const x=O.querySelector(".param-value"),N=O.querySelector(".param-slider"),H=O.querySelector(".param-input");N&&H&&(A.dataset.control==="slider"?H.value=g.target.value:N.value=g.target.value),x.textContent=g.target.value,x.classList.add("custom")};return i.addEventListener("click",b),i.addEventListener("input",h),{getValues:()=>{const g={};return i.querySelectorAll(".param-wrapper").forEach(A=>{const O=A.dataset.paramName;if(A.querySelector(".param-value.custom")){const x=A.querySelector('[data-control="input"], .param-input-full');if(x){const N=Zu[O];g[O]=N.type==="range"||N.type==="number"?parseFloat(x.value):x.value}}}),g},destroy:()=>{i.removeEventListener("click",b),i.removeEventListener("input",h),i.innerHTML=""}}}function Kv(){document.addEventListener("keydown",i=>{const u=document.querySelector('.modal-overlay[style*="display: flex"]'),c=document.getElementById("settings-panel"),o=c?.classList.contains("visible");if(!(!u&&!o)){if(i.key==="Escape"){if(i.preventDefault(),u){const r=u.querySelector(".btn-secondary")||u.querySelector(".modal-actions .btn");r&&r.click()}else if(o){const r=c.querySelector(".close-settings-btn");r&&r.click()}}if(i.key==="Enter"&&!i.shiftKey){if(i.target.tagName==="TEXTAREA"||i.target.tagName==="BUTTON")return;if(u){i.preventDefault();const r=u.querySelector(".modal-actions .btn:not(.btn-secondary):not(.btn-danger)");if(r)r.click();else{const d=u.querySelector(".modal-actions .btn");d&&d.click()}}}}}),console.log("Global keyboard bindings initialized.")}function Bc(i){const u=document.getElementById("project-title");if(u){const c=y.isUserDirty(),o=i||y.getProject()?.name||"Untitled";u.textContent=c?`${o} *`:o}}function Pv(){const i=document.getElementById("save-project-modal"),u=document.getElementById("project-name-input"),c=y.getProject();u.value=c?`${c.name} - Copy`:"Untitled Project",i.style.display="flex",u.focus(),u.select()}function Eg(){const i=document.getElementById("save-project-modal");i.style.display="none"}function kv(i){i&&i.stopPropagation(),document.getElementById("custom-entity-selector-wrapper").classList.toggle("open")}function Jv(i){const u=i.indexOf("_"),c=i.substring(0,u),o=i.substring(u+1);y.bus.publish("entity:select",{type:c,name:o}),document.getElementById("custom-entity-selector-wrapper").classList.remove("open")}function Vu(){const i=y.getProject();if(!i||!i.globalSettings)return;const u=document.getElementById("entitySelector"),c=document.getElementById("custom-entity-selector-options"),o=document.getElementById("custom-entity-selector-icon"),r=document.getElementById("custom-entity-selector-text");u.innerHTML="",c.innerHTML="";const d=(h,g,A,O)=>{const x=`${h}_${g}`,N=document.createElement("div");N.className="custom-select-option",N.innerHTML=`<span class="item-icon">${A}</span> <span>${g}</span>`,N.addEventListener("click",()=>Jv(x)),O.appendChild(new Option(`${A} ${g}`,x)),c.appendChild(N)},p=i.agentPresets||{};if(Object.keys(p).length>0){const h=document.createElement("optgroup");h.label="Agent Presets",u.appendChild(h);const g=document.createElement("div");g.className="custom-select-group",g.textContent="Agent Presets",c.appendChild(g),Object.keys(p).forEach(A=>{d("agent",A,p[A].icon||"🤖",h)})}const b=i.agentGroups||{};if(Object.keys(b).length>0){const h=document.createElement("optgroup");h.label="Agent Groups",u.appendChild(h);const g=document.createElement("div");g.className="custom-select-group",g.textContent="Agent Groups",c.appendChild(g),Object.keys(b).forEach(A=>{d("group",A,"🤝",h)})}if(i.activeEntity){const{type:h,name:g}=i.activeEntity;u.value=`${h}_${g}`,h==="agent"&&p[g]?(o.textContent=p[g].icon||"🤖",r.textContent=g):h==="group"?(o.textContent="🤝",r.textContent=g):(o.textContent="❔",r.textContent="Select...")}}function Iv(){y.bus.subscribe("project:loaded",c=>{Bc(c.projectData.name),Vu()}),y.bus.subscribe("project:nameChanged",c=>Bc(c)),y.bus.subscribe("userDirty:changed",()=>Bc()),y.bus.subscribe("entity:selected",Vu),y.bus.subscribe("agent:listChanged",Vu),y.bus.subscribe("group:listChanged",Vu),y.bus.subscribe("ui:showSaveAsModal",Pv);const i=document.querySelector(".sidebar-bottom-row .dropdown");if(i){const c=i.querySelector("button");c&&c.addEventListener("click",_i),i.addEventListener("click",o=>{const r=o.target.closest("a");if(!r)return;const d=r.dataset.action;if(d){o.preventDefault();const p={newProject:{name:"project:new"},openProject:{name:"project:open"},saveProject:{name:"project:save",data:!1},saveProjectAs:{name:"project:save",data:!0},exportChat:{name:"project:exportChat"}};p[d]&&y.bus.publish(p[d].name,p[d].data),i.classList.remove("open")}})}const u=document.getElementById("save-project-modal");u&&u.addEventListener("click",c=>{if(c.target.matches(".btn:not(.btn-secondary)")){const o=document.getElementById("project-name-input").value.trim();o?(y.bus.publish("project:saveConfirm",{projectName:o}),Eg()):V("Please enter a project name.")}else(c.target.matches(".btn-secondary")||c.target===u)&&Eg()}),document.getElementById("load-project-input")?.addEventListener("change",c=>y.bus.publish("project:fileSelectedForOpen",c)),document.getElementById("custom-entity-selector-trigger")?.addEventListener("click",kv),console.log("Project UI Initialized with definitive listeners.")}let Ag=!1;function Nc(i){const u=y.getProject();let c="💬";i.linkedEntity?.type==="agent"&&u.agentPresets[i.linkedEntity.name]?c=u.agentPresets[i.linkedEntity.name].icon||"🤖":i.linkedEntity?.type==="group"&&(c="🤝");const o=document.createElement("div");o.className="item session-item",o.dataset.sessionId=i.id,i.pinned&&o.classList.add("pinned");const r=i.name||"New Chat";return o.innerHTML=`
        <div class="item-header">
            <span class="item-name"><span class="item-icon">${c}</span> ${r}</span>
            <div class="item-actions">
                <div class="dropdown align-right">
                    <button class="btn-icon" data-action="toggle-menu" title="More options">&#8942;</button>
                    <div class="dropdown-content">
                        <a href="#" data-action="pin">${i.pinned?"Unpin":"Pin"} Session</a>
                        <a href="#" data-action="rename">Rename</a>
                        <a href="#" data-action="clone">Clone Session</a>
                        <a href="#" data-action="archive">${i.archived?"Unarchive":"Archive"} Session</a>                        <a href="#" data-action="download">Download Chat</a>
                        <div class="dropdown-divider"></div>
                        <a href="#" data-action="delete" class="is-destructive">
                            <span class="material-symbols-outlined">delete</span> Delete Session
                        </a>                    
                    </div>
                </div>
            </div>
        </div>
    `,o}function Pg(i){document.querySelectorAll(".session-item").forEach(c=>{c.classList.toggle("active",c.dataset.sessionId===i)})}function gl(){const i=y.getProject();if(!i)return;const u=document.getElementById("pinnedSessionList"),c=document.getElementById("sessionListContainer"),o=document.getElementById("archivedSessionList"),r=document.getElementById("archivedSessionsSection");if(!u||!c||!o||!r)return;u.innerHTML="",c.innerHTML="",o.innerHTML="";const d=i.chatSessions||[],p=d.filter(g=>g.isPinned&&!g.archived),b=d.filter(g=>!g.isPinned&&!g.archived),h=d.filter(g=>g.archived);p.sort((g,A)=>A.updatedAt-g.updatedAt).forEach(g=>{u.appendChild(Nc(g))}),b.sort((g,A)=>A.updatedAt-g.updatedAt).forEach(g=>{c.appendChild(Nc(g))}),h.sort((g,A)=>A.updatedAt-g.updatedAt).forEach(g=>{o.appendChild(Nc(g))}),r.classList.toggle("hidden",h.length===0),Pg(i.activeSessionId)}function $v(){if(Ag)return;Ag=!0,y.bus.subscribe("project:loaded",gl),y.bus.subscribe("session:listChanged",gl),y.bus.subscribe("session:loaded",()=>Pg(y.getProject()?.activeSessionId));const i=document.querySelector(".sessions-panel");i&&i.addEventListener("click",u=>{const c=u.target,o=c.closest(".dropdown-content a[data-action]");if(o){u.preventDefault(),u.stopPropagation();const p=c.closest(".session-item[data-session-id]");if(!p)return;const b=p.dataset.sessionId,h=o.dataset.action;y.bus.publish(`session:${h}`,{sessionId:b,event:u}),o.closest(".dropdown.open")?.classList.remove("open");return}if(c.closest('button[data-action="toggle-menu"]')){u.preventDefault(),u.stopPropagation(),_i(u);return}if(c.closest("#new-chat-btn")){y.bus.publish("session:new");return}const d=c.closest(".session-item[data-session-id]");if(d){const p=d.dataset.sessionId;y.getProject().activeSessionId!==p&&Sa(p)}}),console.log("✅ Session UI and its dedicated event listener initialized ONCE.")}const sr=()=>document.querySelector("#composer-editor .composer-content-area");function kg(i){const u=y.getProject(),c=u?.chatSessions.find(o=>o.id===u.activeSessionId);c&&c.composerContent!==i&&(c.composerContent=i,y.updateAndPersistState())}function kc(){const i=sr();if(!i)return;const u=y.getProject();if(!u?.activeSessionId){i.innerHTML="";return}const c=u.chatSessions.find(o=>o.id===u.activeSessionId);i.innerHTML=c?.composerContent||""}function Fv({content:i}){const u=sr(),c=document.getElementById("composer-panel");!u||!c||(c.classList.contains("collapsed")&&(c.classList.remove("collapsed"),document.getElementById("resizer-row")?.classList.remove("collapsed"),y.bus.publish("composer:visibilityChanged")),u.textContent.trim()!==""&&(u.innerHTML+="<br><hr><br>"),u.innerHTML+=i,u.scrollTop=u.scrollHeight,kg(u.innerHTML))}function Wv(i){const u=document.createElement("div");return u.innerHTML=i,u.querySelectorAll("*").forEach(c=>{if(c.removeAttribute("style"),c.classList.length>0){const o=[];for(let r=0;r<c.classList.length;r++)c.classList[r].startsWith("hljs-")||o.push(c.classList[r]);o.forEach(r=>c.classList.remove(r))}}),u.innerHTML}function eb(){const i=sr();if(!i)return;const u=i.innerHTML;if(!u.trim()){V("Composer is empty. Nothing to export.","Info");return}const o=`
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Composer Export</title>
            
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
            
            <style>
                /* 2. สไตล์พื้นฐานของหน้าเว็บที่ Export */
                body { 
                    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; 
                    line-height: 1.6; 
                    padding: 20px; 
                    max-width: 800px; 
                    margin: auto; 
                }
                pre {
                    background-color: #f6f8fa; /* สีพื้นหลัง Code Block สำหรับไฟล์ที่ Export */
                    padding: 16px;
                    border-radius: 6px;
                    overflow-x: auto;
                }
                code {
                    font-family: 'Fira Mono', 'Menlo', monospace;
                }
            </style>
        </head>
        <body>
            ${Wv(u)}
        </body>
        </html>
    `,r=new Blob([o],{type:"text/html;charset=utf-8"}),d=URL.createObjectURL(r),p=document.createElement("a");p.href=d,p.download=`composer-export-${Date.now()}.html`,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(d)}function tb(){const i=document.getElementById("color-palette");if(!i)return;const u=["#000000","#E03131","#C2255C","#9C36B5","#6741D9","#3B5BDB","#1971C2","#0C8599","#099268","#2F9E44","#66A80F","#F08C00","#E8590C","#868E96","#495057"];i.innerHTML="",u.forEach(c=>{const o=document.createElement("div");o.className="color-swatch",o.style.backgroundColor=c,o.dataset.color=c,i.appendChild(o)})}function ul(){const i=document.querySelector(".composer-tools-area");if(!i)return;let u=!1;const c=document.queryCommandValue("formatBlock").toLowerCase();for(const r of["H1","H2","H3","P"]){const d=i.querySelector(`button[data-value="${r}"]`);d&&(c===`<${r.toLowerCase()}>`?(d.classList.add("is-active"),r!=="P"&&(u=!0)):d.classList.remove("is-active"))}["bold","italic","underline","strikeThrough"].forEach(r=>{const d=i.querySelector(`button[data-command="${r}"]`);if(d){const p=r==="bold"&&u?!1:document.queryCommandState(r);d.classList.toggle("is-active",p)}})}function nb(i){const u=document.querySelector("#composer-editor .composer-content-area");u&&(u.innerHTML="")}function ab(){const i=document.getElementById("composer-panel"),u=document.querySelector("#composer-editor .composer-content-area"),c=document.getElementById("mobile-composer-toggle");document.getElementById("composer-editor");const o=document.querySelector(".composer-tools-area"),r=document.getElementById("composer-collapse-btn"),d=document.getElementById("composer-expand-btn"),p=document.getElementById("export-composer-btn");if(!i||!u){console.error("Composer UI cannot initialize: Core elements not found.");return}const b=()=>{i.classList.contains("collapsed"),i.classList.toggle("collapsed");const x=i.classList.contains("collapsed");c&&c.classList.toggle("is-open",!x),y.bus.publish("composer:visibilityChanged")};c&&c.addEventListener("click",b);const h=document.getElementById("resizer-row");h&&h.addEventListener("mousedown",x=>{if(window.innerWidth<=768){x.preventDefault();return}}),y.bus.subscribe("project:loaded",kc),y.bus.subscribe("session:loaded",kc),y.bus.subscribe("composer:append",Fv),y.bus.subscribe("ui:toggleComposer",b),u.addEventListener("focus",()=>{document.execCommand("formatBlock",!1,"p"),ul()}),["click","keyup","focus"].forEach(x=>{u.addEventListener(x,()=>{setTimeout(ul,1)})}),document.addEventListener("selectionchange",()=>{document.activeElement===u&&ul()});const A=Xy(()=>kg(u.innerHTML),500);u.addEventListener("input",A),["keyup","mouseup"].forEach(x=>u.addEventListener(x,ul)),document.addEventListener("selectionchange",()=>{document.activeElement===u&&ul()}),o&&(tb(),o.addEventListener("mousedown",x=>{x.preventDefault();const N=x.target.closest("button, .color-swatch");if(N){if(u.focus(),N.id==="color-picker-btn"){N.parentElement.classList.toggle("open");return}if(N.classList.contains("color-swatch"))document.execCommand("foreColor",!1,N.dataset.color),N.closest(".dropdown")?.classList.remove("open");else{const H=N.dataset.command;if(H){let Z=N.dataset.value||null;H==="formatBlock"&&Z&&(Z=`<${Z}>`),document.execCommand(H,!1,Z)}}ul()}})),p&&p.addEventListener("click",eb),r&&r.addEventListener("click",b),d&&d.addEventListener("click",()=>{const x=i.style.flexBasis&&parseInt(i.style.flexBasis,10)>window.innerHeight*.5;i.style.flexBasis=x?"35vh":"90vh"}),console.log("✅ Composer UI Initialized with definitive patches.")}const lb=(i="sid")=>`${i}_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,co=()=>y.getProject(y.activeProjectId);function Jg(){const i=y.getProject(),u=i?.activeEntity;if(!i||!u)return;const c={id:`sid_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,name:"New Chat",history:[],composerContent:"",createdAt:Date.now(),updatedAt:Date.now(),pinned:!1,archived:!1,linkedEntity:{...u},summaryState:{activeSummaryId:null,summarizedUntilIndex:-1},groupChatState:{isRunning:!1,awaitsUserInput:!1,turnQueue:[],currentJob:null,error:null}};i.chatSessions.unshift(c),i.activeSessionId=c.id,y.setProject(i),Sa(c.id)}function Sa(i){const u=y.getProject();if(!u)return;if(!i){u.activeSessionId=null,y.setProject(u),y.bus.publish("session:cleared");return}const c=u.chatSessions.find(o=>o.id===i);if(!c){console.warn(`Session with ID ${i} not found. Loading most recent as fallback.`);const o=[...u.chatSessions].filter(r=>!r.archived).sort((r,d)=>d.updatedAt-r.updatedAt)[0];Sa(o?o.id:null);return}u.activeSessionId=i,c.linkedEntity&&(u.activeEntity={...c.linkedEntity}),y.setProject(u),y.updateAndPersistState(),y.bus.publish("session:loaded",{session:c})}function ib({sessionId:i}){const u=y.getProject(),c=u?.chatSessions.find(r=>r.id===i);if(!c)return;const o=prompt("Enter new name:",c.name);o&&o.trim()&&o.trim()!==c.name&&(c.name=o.trim(),c.updatedAt=Date.now(),y.updateAndPersistState(),y.bus.publish("session:listChanged"),i===u.activeSessionId&&y.bus.publish("ui:updateChatTitle",{title:c.name}))}async function ub({sessionId:i}){if(!confirm("Are you sure you want to delete this chat session? This cannot be undone."))return;const u=y.getProject(),c=u.chatSessions.findIndex(o=>o.id===i);if(c!==-1){if(u.chatSessions.splice(c,1),await Mi(ml,"readwrite","delete",i),u.activeSessionId===i){const o=[...u.chatSessions].filter(r=>!r.archived).sort((r,d)=>d.updatedAt-r.updatedAt)[0];u.activeSessionId=o?o.id:null,Sa(u.activeSessionId)}else y.bus.publish("session:listChanged");y.updateAndPersistState()}}function ob(i,u){u?.stopPropagation();const c=co(),o=c?.chatSessions.find(r=>r.id===i);o&&(o.pinned=!o.pinned,o.updatedAt=Date.now(),y.updateAndPersistState(c),gl())}function sb(i,u){u?.stopPropagation();const c=co(),o=c?.chatSessions.find(d=>d.id===i);if(!o){V("Error: Could not find session to clone.","Error");return}const r=JSON.parse(JSON.stringify(o));r.id=lb(),r.name=`${o.name} (Copy)`,r.createdAt=Date.now(),r.updatedAt=Date.now(),r.pinned=!1,r.archived=!1,c.chatSessions.unshift(r),c.activeSessionId=r.id,y.updateAndPersistState(c),Sa(r.id)}function cb(i,u){u?.stopPropagation();const c=co(),o=c?.chatSessions.find(r=>r.id===i);if(o)if(o.archived=!o.archived,o.archived&&(o.pinned=!1),o.updatedAt=Date.now(),c.activeSessionId===i&&o.archived){const r=c.chatSessions.find(d=>!d.archived);c.activeSessionId=r?r.id:null,y.updateAndPersistState(c),Sa(c.activeSessionId)}else y.updateAndPersistState(c),gl()}async function Ig(i){const u=i||co()?.chatSessions;if(!u)return;const c=Zy();if(!c){console.error("[SaveAllSessions] Cannot save, DB not available.");return}const o=c.transaction(ml,"readwrite"),r=o.objectStore(ml);for(const d of u)r.put(d);return new Promise((d,p)=>{o.oncomplete=()=>d(),o.onerror=()=>p(o.error)})}function rb(i){try{const u=y.getProject();if(!u)throw new Error("Project not found.");const c=i?.sessionId||u.activeSessionId;if(!c)throw new Error("No session is active or selected for download.");console.log(`Attempting to download session with ID: ${c}`);const o=u.chatSessions.find(A=>A.id===c);if(!o)throw new Error(`Session with ID ${c} could not be found.`);let r=`Chat Session: ${o.name||"Untitled Session"}
`;r+=`Exported on: ${new Date().toLocaleString()}
`,o.linkedEntity&&(r+=`Associated Entity: ${o.linkedEntity.name} (${o.linkedEntity.type})
`),r+=`============================================

`;const d=o.history||[];d.length===0?r+="[This session has no messages.]":d.forEach(A=>{const O=A.timestamp?Qy(A.timestamp):"No Timestamp",x=(A.speaker||A.role||"unknown").toUpperCase(),N=Array.isArray(A.content)?A.content.find(H=>H.type==="text")?.text||"[multimodal content]":A.content;r+=`[${O}] ${x}:
${N}

--------------------------------

`}),console.log(`Final text content length: ${r.length}`);const p=new Blob([r],{type:"text/plain;charset=utf-8"}),b=URL.createObjectURL(p),h=document.createElement("a"),g=(o.name||"untitled").replace(/[^a-z0-9]/gi,"_").toLowerCase();h.download=`session-export-${g}.txt`,h.href=b,document.body.appendChild(h),h.click(),setTimeout(()=>{document.body.removeChild(h),URL.revokeObjectURL(b),console.log("Download initiated and cleanup complete.")},100)}catch(u){console.error("Download Chat Session failed:",u),V(`Failed to download chat: ${u.message}`,"Error")}}function fb({height:i}){const u=y.getProject(),c=u?.chatSessions.find(o=>o.id===u.activeSessionId);c&&i&&(c.composerHeight=i)}async function db(){const i=y.getProject(),u=i?.chatSessions.find(c=>c.id===i.activeSessionId);if(!u){console.warn("[AutoSave] Could not find active session to save.");return}try{await Mi(ml,"readwrite","put",u)}catch(c){console.error(`[AutoSave] Failed to save active session (${u.id}):`,c)}}function mb({sessionId:i,newName:u}){const c=y.getProject();if(!c)return;const o=c.chatSessions.find(r=>r.id===i);!o||o.name!=="New Chat"||(o.name=u,o.updatedAt=Date.now(),y.updateAndPersistState(),y.bus.publish("session:listChanged"),c.activeSessionId===i&&y.bus.publish("ui:updateChatTitle",{title:u}))}async function gb(){const i=y.getProject();if(!i||!i.id)return console.warn("[AutoSave] Aborted: Project not available for saving."),!1;console.log("[AutoSave] Persisting essential data to IndexedDB...");try{return await cr(),await db(),console.log("[AutoSave] Essential project state successfully persisted."),!0}catch(u){return console.error("[AutoSave] Failed to persist project state:",u),!1}}function pb(){let i;y.bus.subscribe("autosave:required",()=>{clearTimeout(i),i=setTimeout(async()=>{y.isAutoSaveDirty()&&await gb()&&y.setAutoSaveDirty(!1)},2e3)})}function hb(){y.isUserDirty()?(y.setState("pendingActionAfterSave",()=>{document.getElementById("load-project-input").click()}),Hg()):document.getElementById("load-project-input").click()}async function Jc(){console.log("Proceeding with creating a new project...");try{const i=localStorage.getItem("lastActiveProjectId");i&&(await Ky(i),localStorage.removeItem("lastActiveProjectId"));const u=await fetch("/PromptPrim/default-project.prim");if(!u.ok)throw new Error(`Could not fetch default project file. Status: ${u.status}`);const c=await u.json(),o=Py();o&&o.systemAgentDefaults&&(c.globalSettings.systemUtilityAgent=o.systemAgentDefaults.utilityAgent,c.globalSettings.summarizationPromptPresets=o.systemAgentDefaults.summarizationPresets),c.globalSettings.summarizationPromptPresets={...Sn},c.id=`proj_${Date.now()}`,await ir(c.id),await ro(c,!0)}catch(i){console.error("Failed to proceed with creating a new project:",i),V("Could not create a new project. Please check the browser console for more details.","Error")}}function Ic(){y.isUserDirty()?(y.setState("pendingActionAfterSave",Jc),Hg()):Jc()}function yb(i){const u=i.target.files[0];if(!u)return;console.log(`[OpenProject] File selected: ${u.name}. Reading file...`);const c=new FileReader;c.onload=async o=>{try{const r=o.target.result;console.log("[OpenProject] File read complete. Parsing JSON...");const d=JSON.parse(r);if(!d.id||!d.name)throw new Error("Invalid project file format.");console.log(`[OpenProject] JSON parsed successfully for project: ${d.name}. Loading data...`),await ro(d,!0)}catch(r){console.error("[OpenProject] Failed to load project:",r),V(`Error loading project: ${r.message}`,"Error")}},c.onerror=()=>{console.error("[OpenProject] FileReader error."),V("Failed to read the selected file.","Error")},c.readAsText(u),i.target.value=""}function vb(){try{const i=y.getState().pendingFileToOpen;if(!i)return;Eb(i),y.setState("pendingFileToOpen",null)}catch(i){console.error("Failed to proceed with opening project:",i),V("Could not open the project file.","Error")}}async function $g(i=!1){const u=y.getProject();i||u.name==="Untitled Project"?y.bus.publish("ui:showSaveAsModal"):await Fg(u.name)}async function Fg(i){const u=i?.trim();if(!u)return V("Please enter a project name."),!1;const c=y.getProject();c.name=u,y.bus.publish("project:nameChanged",u),y.setUserDirty(!1);const o=JSON.parse(JSON.stringify(y.getProject())),r=Wg(o);try{const d=JSON.stringify(r,null,2),p=new Blob([d],{type:"application/json"}),b=URL.createObjectURL(p),h=document.createElement("a");return h.download=`${u.replace(/[^a-z0-9\u0E00-\u0E7F]/gi,"_").toLowerCase()}.prim`,h.href=b,document.body.appendChild(h),h.click(),URL.revokeObjectURL(b),document.body.removeChild(h),y.bus.publish("ui:hideSaveAsModal"),y.setAutoSaveDirty(!1),await Mb(),y.getState().pendingActionAfterSave&&await Sb(),!0}catch(d){return console.error("Failed to save project:",d),V("Failed to save project file.","Error"),y.setUserDirty(!0),!1}}async function bb(i){Vy();const u=y.getState().pendingActionAfterSave;switch(y.setState("pendingActionAfterSave",null),i){case"save":await $g(!1);break;case"discard":typeof u=="function"&&await u();break}}async function Sb(){const i=y.getState().pendingActionAfterSave;y.setState("pendingActionAfterSave",null),i==="open"?await vb():i==="new"&&await Jc()}async function Eb(i){const u=new FileReader;u.onload=async c=>{try{const o=JSON.parse(c.target.result);if(o&&o.id&&o.name&&o.agentPresets)await ro(o,!0),V(`Project '${o.name}' loaded successfully!`,"Project Loaded");else throw new Error("Invalid project file format.")}catch(o){V(`Error loading project: ${o.message}`,"Error"),console.error(o)}},u.readAsText(i)}async function Ab(i){if(!i)throw new Error("Cannot load last project: Project ID is missing.");await ir(i);const u=await Mi(ur,"readonly","get",qg);if(u&&u.data&&u.data.id===i){const c=u.data,o=await Mi(ml,"readonly","getAll"),r={...c,chatSessions:o||[]};await ro(r,!1),console.log("Successfully loaded the last active project from IndexedDB.")}else throw new Error("Project data in DB is invalid or mismatched with last known ID.")}async function ro(i,u=!1){let c=Wg(i);await ir(c.id),u&&(c.isDirtyForUser=!1),c.globalSettings&&(c.globalSettings.summarizationPromptPresets={...Sn,...c.globalSettings.summarizationPromptPresets||{}}),y.setProject(c),await Db(),c.globalSettings.apiKey&&await Di({apiKey:c.globalSettings.apiKey}),c=y.getProject(),(c.chatSessions||[]).filter(p=>!p.archived).length===0&&Jg();const r=y.getProject();r.isDirtyForUser=!1,await Tb(r);const d=r.chatSessions.find(p=>p.id===r.activeSessionId)||[...r.chatSessions].filter(p=>!p.archived).sort((p,b)=>b.updatedAt-p.updatedAt)[0];d&&Sa(d.id),y.bus.publish("project:loaded",{projectData:r}),y.bus.publish("userDirty:changed",!1),y.setAutoSaveDirty(!1),localStorage.setItem("lastActiveProjectId",r.id)}async function Tb(i){await Jy([ml,ur]),await cr(i),await Ig(i.chatSessions),console.log("Database has been rewritten with new project data.")}async function cr(i){const u=i||y.getProject();if(!u||!u.id){console.warn("Cannot persist metadata: project or project ID is missing.");return}const c={...u};delete c.chatSessions,await Mi(ur,"readwrite","put",{id:qg,data:c})}async function Mb(){const i=y.getProject();if(!i||!i.id)return!1;console.log("[AutoSave] Persisting project to IndexedDB...");try{return await cr(),await Ig(),console.log("[AutoSave] Project state successfully persisted."),!0}catch(u){return console.error("[AutoSave] Failed to persist project state:",u),!1}}async function Db(){const i=y.getProject();!i||!i.globalSettings||(y.bus.publish("ui:applyFontSettings"),console.log("Global settings loaded into state."))}function _b(i){const u=y.getProject();u.globalSettings.fontFamilySelect=i,y.setProject(u),y.updateAndPersistState(),y.bus.publish("ui:applyFontSettings")}function Ob(){const i=y.getProject();if(!i.globalSettings)return;const u=i.globalSettings.systemUtilityAgent;u.model=document.getElementById("system-utility-model-select").value,u.systemPrompt=document.getElementById("system-utility-prompt").value;const c=y.getState().systemParameterEditor,o=c?c.getValues():{};Object.assign(u,o),y.setProject(i),y.updateAndPersistState(),V("System Agent settings saved!","Success")}function Wg(i){const u=ba();if(i.globalSettings.systemUtilityAgent=Object.assign({},ky,i.globalSettings.systemUtilityAgent),i.agentPresets)for(const c in i.agentPresets){const o=i.agentPresets[c],r=Object.assign({},so,o);(!r.createdBy||r.createdBy==="Unknown User")&&(r.createdBy=u.userName),r.createdAt||(r.createdAt=Date.now()),r.modifiedAt||(r.modifiedAt=r.createdAt),i.agentPresets[c]=r}if(i.isDirtyForUser===void 0&&(i.isDirtyForUser=!0),i.agentGroups)for(const c in i.agentGroups){const o=i.agentGroups[c];o&&!Array.isArray(o.agents)&&(o.agents=[])}return i}async function Cb(i,u){y.setStagedEntity(null,!1);const c=y.getProject();c.activeEntity={type:i,name:u};const o=c.chatSessions.find(r=>r.id===c.activeSessionId);o&&(o.groupChatState&&(o.groupChatState.isRunning=!1),o.linkedEntity={...c.activeEntity},o.updatedAt=Date.now()),y.setProject(c),y.updateAndPersistState(),y.bus.publish("entity:selected",{type:i,name:u}),y.bus.publish("session:listChanged")}function wb({type:i,name:u}){const c={type:i,name:u},o=y.getStagedEntity(),r=y.getProject().activeEntity;if(o&&o.name===u&&o.type===i){y.bus.publish("entity:select",c);return}if(r&&r.name===u&&r.type===i){y.setStagedEntity(null);return}y.setStagedEntity(c)}function jb(i,u){const o=y.getProject().activeEntity,r=y.getStagedEntity(),d=document.createElement("div");return d.className="item agent-item",d.dataset.agentName=i,o?.type==="agent"&&o.name===i?d.classList.add("active"):r?.type==="agent"&&r.name===i&&d.classList.add("staged"),d.innerHTML=`
    <div class="item-header">
        <span class="item-name"><span class="item-icon">${u.icon||"🤖"}</span> ${i}</span>
        <div class="item-actions">
            <button class="btn-icon" data-action="agent:edit" title="Edit Agent">
                <span class="material-symbols-outlined">edit</span>
            </button>             
            <button class="btn-icon danger" data-action="agent:delete" title="Delete Agent">
                <span class="material-symbols-outlined">delete</span>
            </button>
        </div>
    </div>`,d}function xb(i,u){if(!i)return;const c=i.querySelector(".agent-presets-section");c&&c.remove(),i.insertAdjacentHTML("beforeend",`
        <details class="collapsible-section agent-presets-section" open>
            <summary class="section-header">
                <h3>🤖 Agent Presets</h3>
                <button class="btn-icon" data-action="agent:create" title="Create New Agent">+</button>
            </summary>
            <div class="section-box">
                <div id="agentPresetList" class="item-list"></div>
            </div>
        </details>`);const r=i.querySelector("#agentPresetList");if(r){if(!u||u.length===0){r.innerHTML='<p class="no-items-message">No agents found.</p>';return}u.forEach(d=>{r.appendChild(jb(d.name,d))})}}function ep(i=[]){const u=document.getElementById("agent-tags-container"),c=document.getElementById("agent-tags-input");!u||!c||(u.querySelectorAll(".tag-pill").forEach(o=>o.remove()),(i||[]).forEach(o=>{const r=document.createElement("div");r.className="tag-pill",r.textContent=o,r.dataset.tag=o;const d=document.createElement("span");d.className="remove-tag",d.innerHTML="&times;",d.onclick=()=>r.remove(),r.appendChild(d),u.insertBefore(r,c)}))}function zb(i=[]){const c=y.getProject().memories||[],o=document.getElementById("agent-memory-list");if(o){if(o.innerHTML="",c.length===0){o.innerHTML='<p class="no-items-message">Create memories first.</p>';return}c.forEach(r=>{const d=(i||[]).includes(r.name),p=document.createElement("div");p.className="item",p.dataset.memoryName=r.name,p.innerHTML=`<span class="item-name">${r.name}</span><label class="switch"><input type="checkbox" ${d?"checked":""}><span class="slider round"></span></label>`,o.appendChild(p)})}}function Ub(i){const u=document.querySelector('#agent-editor-modal .tab-content[data-tab-content="system"]');u&&u.classList.toggle("is-locked",i)}function tp(){const i=document.getElementById("enhancer-model-name"),u=y.getProject();if(!i||!u)return;const c=u.globalSettings.systemUtilityAgent;if(c&&c.model){const o=[...y.getState().systemProviderModels||[],...y.getState().userProviderModels||[]];if(o.length===0){i.textContent=c.model;return}const r=o.find(d=>d.id===c.model);i.textContent=r?r.name:c.model}else i.textContent="N/A"}function Tg(){const i=y.getState().activeParameterEditor;i&&typeof i.destroy=="function"&&(i.destroy(),y.setState("activeParameterEditor",null)),document.getElementById("agent-editor-modal").style.display="none",y.setState("editingAgentName",null)}function Mg(i=!1,u=null){const c=document.getElementById("agent-editor-modal");if(!c)return;y.setState("editingAgentName",i?u:null);const o=y.getProject(),r=i&&o.agentPresets[u]?o.agentPresets[u]:so;c.querySelectorAll(".tab-btn, .tab-content").forEach(H=>H.classList.remove("active")),c.querySelector('.tab-btn[data-tab="config"]')?.classList.add("active"),c.querySelector('.tab-content[data-tab-content="config"]')?.classList.add("active");const d=c.querySelector('.tab-content[data-tab-content="system"]');d&&(d.dataset.rendered="false");const p=document.getElementById("agent-profile-picture-preview");p&&(p.src=r.profilePicture||"/PromptPrim/icon.png"),document.getElementById("agent-name-input").value=i?u:"New Agent",document.getElementById("agent-icon-button").textContent=r.icon||"🤖",document.getElementById("agent-id-display").value=r.id||`agent_${Date.now()}`,document.getElementById("agent-description").value=r.description||"",Gg("agent-model-search-wrapper",r.model,Iu()),document.getElementById("agent-system-prompt").value=r.systemPrompt,document.getElementById("agent-use-markdown").checked=r.useMarkdown,document.getElementById("agent-enable-web-search").checked=r.enableWebSearch;const b=document.getElementById("agent-params-container");if(b){const Z=Iu().find(pe=>pe.id===r.model),ce=Z?Z.provider:"openrouter",Be=Kg(b,r,ce);y.setState("activeParameterEditor",Be)}const h=document.getElementById("agent-created-by-input");h&&(h.value=i?r.createdBy||"Unknown":ba().userName);const g=document.getElementById("agent-created-date");g&&(g.textContent=r.createdAt?new Date(r.createdAt).toLocaleString():"Not saved yet");const A=document.getElementById("agent-modified-date");A&&(A.textContent=r.modifiedAt?new Date(r.modifiedAt).toLocaleString():"Not saved yet"),ep(r.tags),zb(r.activeMemories),Ub(r.type==="third-party"),tp();const O=document.getElementById("agent-model-warning"),x=document.getElementById("agent-model-warning-text"),N=document.getElementById("agent-model-search-wrapper");if(O&&x&&N){const Z=Iu().some(ce=>ce.id===r.model);i&&r.model&&!Z?(x.innerHTML=`<strong>Model Not Found:</strong> The original model (<code>${r.model}</code>) could not be found. Please select a new model.`,O.classList.remove("hidden"),N.classList.add("has-warning")):(O.classList.add("hidden"),N.classList.remove("has-warning"))}c.style.display="flex"}function Bb(){const i=document.getElementById("agent-editor-modal");if(!i)return;i.querySelector(".tab-buttons")?.addEventListener("click",h=>{const g=h.target.closest(".tab-btn");if(!g)return;const A=g.dataset.tab;i.querySelectorAll(".tab-btn, .tab-content").forEach(O=>O.classList.remove("active")),g.classList.add("active"),i.querySelector(`.tab-content[data-tab-content="${A}"]`)?.classList.add("active")}),i.addEventListener("click",h=>{const g=h.target;if(g.matches(".modal-actions .btn:not(.btn-secondary)"))y.bus.publish("agent:save");else if(g.closest("#generate-agent-profile-btn"))y.bus.publish("agent:generateProfile");else if(g.matches(".btn-secondary")||g.closest(".modal-close-btn"))Tg();else if(g.closest("#agent-id-copy-btn")){const A=document.getElementById("agent-id-display");navigator.clipboard.writeText(A.value)}});const c=document.getElementById("agent-tags-input");c?.addEventListener("keydown",h=>{if(h.key==="Enter"){h.preventDefault(),h.stopPropagation();const g=c.value.trim();if(g){const A=Array.from(document.querySelectorAll("#agent-tags-container .tag-pill")).map(O=>O.dataset.tag);A.includes(g)||ep([...A,g]),c.value=""}}});const o=document.getElementById("agent-icon-button"),r=document.getElementById("agent-emoji-picker");o&&r&&(o.addEventListener("click",h=>{h.stopPropagation(),document.body.classList.contains("dark-mode")?(r.classList.add("dark"),r.classList.remove("light")):(r.classList.add("light"),r.classList.remove("dark")),r.classList.toggle("hidden")}),r.addEventListener("emoji-click",h=>{h.detail.emoji&&(o.textContent=h.detail.emoji.unicode,r.classList.add("hidden"))}),document.addEventListener("click",h=>{!r.classList.contains("hidden")&&!r.contains(h.target)&&h.target!==o&&r.classList.add("hidden")}));const d=document.getElementById("agent-profile-picture-upload"),p=document.getElementById("agent-profile-picture-preview");d&&p&&d.addEventListener("change",h=>{const g=h.target.files?.[0];if(!g)return;if(!g.type.startsWith("image/")){V("Please select an image file (e.g., PNG, JPG, WEBP).","Unsupported File");return}const A=2*1024*1024;if(g.size>A){V("The selected image is too large. Please select a file smaller than 2MB.","File Too Large");return}const O=new FileReader;O.onload=x=>{p.src=x.target?.result||""},O.readAsDataURL(g)}),y.bus.subscribe("agent:editorShouldClose",Tg);const b=()=>{i&&i.style.display==="flex"&&tp()};y.bus.subscribe("models:loaded",b),y.bus.subscribe("user:modelsLoaded",b),y.bus.subscribe("agent:profileGenerated",h=>{if(!h)return;document.getElementById("agent-name-input").value=h.agent_name||"",document.getElementById("agent-icon-button").textContent=h.agent_icon||"🤖",document.getElementById("agent-system-prompt").value=h.system_prompt||"";const g=y.getState().editingAgentName,A=y.getProject(),O=g?A.agentPresets[g]:so,x={...O,temperature:h.temperature??O.temperature,topP:h.top_p??O.topP,topK:h.top_k??O.topK,max_tokens:h.max_tokens??O.max_tokens,frequency_penalty:h.frequency_penalty??O.frequency_penalty,presence_penalty:h.presence_penalty??O.presence_penalty,seed:h.seed??O.seed},N=document.getElementById("agent-params-container");if(N){const H=y.getState().activeParameterEditor;H&&H.destroy();const ce=Kg(N,x,"openrouter");y.setState("activeParameterEditor",ce)}}),y.bus.subscribe("agent:promptEnhanced",({newPrompt:h})=>{const g=document.getElementById("agent-system-prompt");g&&(g.value=h)}),console.log("✅ Agent UI Initialized with Full Profile Generation Logic.")}function Nb(i,u,c){const o=Vg.createRoot(c),r=()=>o.unmount();o.render(I.jsx(Zg.StrictMode,{children:I.jsx(i,{...u,unmount:r})}))}/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Dg(i,u){var c=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);u&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),c.push.apply(c,o)}return c}function tn(i){for(var u=1;u<arguments.length;u++){var c=arguments[u]!=null?arguments[u]:{};u%2?Dg(Object(c),!0).forEach(function(o){Lb(i,o,c[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(c)):Dg(Object(c)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(c,o))})}return i}function $u(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$u=function(u){return typeof u}:$u=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},$u(i)}function Lb(i,u,c){return u in i?Object.defineProperty(i,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[u]=c,i}function En(){return En=Object.assign||function(i){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var o in c)Object.prototype.hasOwnProperty.call(c,o)&&(i[o]=c[o])}return i},En.apply(this,arguments)}function Rb(i,u){if(i==null)return{};var c={},o=Object.keys(i),r,d;for(d=0;d<o.length;d++)r=o[d],!(u.indexOf(r)>=0)&&(c[r]=i[r]);return c}function Hb(i,u){if(i==null)return{};var c=Rb(i,u),o,r;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(i);for(r=0;r<d.length;r++)o=d[r],!(u.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(i,o)&&(c[o]=i[o])}return c}var qb="1.15.6";function bn(i){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(i)}var An=bn(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Oi=bn(/Edge/i),_g=bn(/firefox/i),bi=bn(/safari/i)&&!bn(/chrome/i)&&!bn(/android/i),rr=bn(/iP(ad|od|hone)/i),np=bn(/chrome/i)&&bn(/android/i),ap={capture:!1,passive:!1};function re(i,u,c){i.addEventListener(u,c,!An&&ap)}function se(i,u,c){i.removeEventListener(u,c,!An&&ap)}function no(i,u){if(u){if(u[0]===">"&&(u=u.substring(1)),i)try{if(i.matches)return i.matches(u);if(i.msMatchesSelector)return i.msMatchesSelector(u);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(u)}catch{return!1}return!1}}function lp(i){return i.host&&i!==document&&i.host.nodeType?i.host:i.parentNode}function Pt(i,u,c,o){if(i){c=c||document;do{if(u!=null&&(u[0]===">"?i.parentNode===c&&no(i,u):no(i,u))||o&&i===c)return i;if(i===c)break}while(i=lp(i))}return null}var Og=/\s+/g;function xt(i,u,c){if(i&&u)if(i.classList)i.classList[c?"add":"remove"](u);else{var o=(" "+i.className+" ").replace(Og," ").replace(" "+u+" "," ");i.className=(o+(c?" "+u:"")).replace(Og," ")}}function F(i,u,c){var o=i&&i.style;if(o){if(c===void 0)return document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(i,""):i.currentStyle&&(c=i.currentStyle),u===void 0?c:c[u];!(u in o)&&u.indexOf("webkit")===-1&&(u="-webkit-"+u),o[u]=c+(typeof c=="string"?"":"px")}}function dl(i,u){var c="";if(typeof i=="string")c=i;else do{var o=F(i,"transform");o&&o!=="none"&&(c=o+" "+c)}while(!u&&(i=i.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(c)}function ip(i,u,c){if(i){var o=i.getElementsByTagName(u),r=0,d=o.length;if(c)for(;r<d;r++)c(o[r],r);return o}return[]}function en(){var i=document.scrollingElement;return i||document.documentElement}function Je(i,u,c,o,r){if(!(!i.getBoundingClientRect&&i!==window)){var d,p,b,h,g,A,O;if(i!==window&&i.parentNode&&i!==en()?(d=i.getBoundingClientRect(),p=d.top,b=d.left,h=d.bottom,g=d.right,A=d.height,O=d.width):(p=0,b=0,h=window.innerHeight,g=window.innerWidth,A=window.innerHeight,O=window.innerWidth),(u||c)&&i!==window&&(r=r||i.parentNode,!An))do if(r&&r.getBoundingClientRect&&(F(r,"transform")!=="none"||c&&F(r,"position")!=="static")){var x=r.getBoundingClientRect();p-=x.top+parseInt(F(r,"border-top-width")),b-=x.left+parseInt(F(r,"border-left-width")),h=p+d.height,g=b+d.width;break}while(r=r.parentNode);if(o&&i!==window){var N=dl(r||i),H=N&&N.a,Z=N&&N.d;N&&(p/=Z,b/=H,O/=H,A/=Z,h=p+A,g=b+O)}return{top:p,left:b,bottom:h,right:g,width:O,height:A}}}function Cg(i,u,c){for(var o=In(i,!0),r=Je(i)[u];o;){var d=Je(o)[c],p=void 0;if(p=r>=d,!p)return o;if(o===en())break;o=In(o,!1)}return!1}function pl(i,u,c,o){for(var r=0,d=0,p=i.children;d<p.length;){if(p[d].style.display!=="none"&&p[d]!==W.ghost&&(o||p[d]!==W.dragged)&&Pt(p[d],c.draggable,i,!1)){if(r===u)return p[d];r++}d++}return null}function fr(i,u){for(var c=i.lastElementChild;c&&(c===W.ghost||F(c,"display")==="none"||u&&!no(c,u));)c=c.previousElementSibling;return c||null}function Xt(i,u){var c=0;if(!i||!i.parentNode)return-1;for(;i=i.previousElementSibling;)i.nodeName.toUpperCase()!=="TEMPLATE"&&i!==W.clone&&(!u||no(i,u))&&c++;return c}function wg(i){var u=0,c=0,o=en();if(i)do{var r=dl(i),d=r.a,p=r.d;u+=i.scrollLeft*d,c+=i.scrollTop*p}while(i!==o&&(i=i.parentNode));return[u,c]}function Gb(i,u){for(var c in i)if(i.hasOwnProperty(c)){for(var o in u)if(u.hasOwnProperty(o)&&u[o]===i[c][o])return Number(c)}return-1}function In(i,u){if(!i||!i.getBoundingClientRect)return en();var c=i,o=!1;do if(c.clientWidth<c.scrollWidth||c.clientHeight<c.scrollHeight){var r=F(c);if(c.clientWidth<c.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||c.clientHeight<c.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!c.getBoundingClientRect||c===document.body)return en();if(o||u)return c;o=!0}}while(c=c.parentNode);return en()}function Yb(i,u){if(i&&u)for(var c in u)u.hasOwnProperty(c)&&(i[c]=u[c]);return i}function Lc(i,u){return Math.round(i.top)===Math.round(u.top)&&Math.round(i.left)===Math.round(u.left)&&Math.round(i.height)===Math.round(u.height)&&Math.round(i.width)===Math.round(u.width)}var Si;function up(i,u){return function(){if(!Si){var c=arguments,o=this;c.length===1?i.call(o,c[0]):i.apply(o,c),Si=setTimeout(function(){Si=void 0},u)}}}function Xb(){clearTimeout(Si),Si=void 0}function op(i,u,c){i.scrollLeft+=u,i.scrollTop+=c}function sp(i){var u=window.Polymer,c=window.jQuery||window.Zepto;return u&&u.dom?u.dom(i).cloneNode(!0):c?c(i).clone(!0)[0]:i.cloneNode(!0)}function cp(i,u,c){var o={};return Array.from(i.children).forEach(function(r){var d,p,b,h;if(!(!Pt(r,u.draggable,i,!1)||r.animated||r===c)){var g=Je(r);o.left=Math.min((d=o.left)!==null&&d!==void 0?d:1/0,g.left),o.top=Math.min((p=o.top)!==null&&p!==void 0?p:1/0,g.top),o.right=Math.max((b=o.right)!==null&&b!==void 0?b:-1/0,g.right),o.bottom=Math.max((h=o.bottom)!==null&&h!==void 0?h:-1/0,g.bottom)}}),o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}var bt="Sortable"+new Date().getTime();function Qb(){var i=[],u;return{captureAnimationState:function(){if(i=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(r){if(!(F(r,"display")==="none"||r===W.ghost)){i.push({target:r,rect:Je(r)});var d=tn({},i[i.length-1].rect);if(r.thisAnimationDuration){var p=dl(r,!0);p&&(d.top-=p.f,d.left-=p.e)}r.fromRect=d}})}},addAnimationState:function(o){i.push(o)},removeAnimationState:function(o){i.splice(Gb(i,{target:o}),1)},animateAll:function(o){var r=this;if(!this.options.animation){clearTimeout(u),typeof o=="function"&&o();return}var d=!1,p=0;i.forEach(function(b){var h=0,g=b.target,A=g.fromRect,O=Je(g),x=g.prevFromRect,N=g.prevToRect,H=b.rect,Z=dl(g,!0);Z&&(O.top-=Z.f,O.left-=Z.e),g.toRect=O,g.thisAnimationDuration&&Lc(x,O)&&!Lc(A,O)&&(H.top-O.top)/(H.left-O.left)===(A.top-O.top)/(A.left-O.left)&&(h=Vb(H,x,N,r.options)),Lc(O,A)||(g.prevFromRect=A,g.prevToRect=O,h||(h=r.options.animation),r.animate(g,H,O,h)),h&&(d=!0,p=Math.max(p,h),clearTimeout(g.animationResetTimer),g.animationResetTimer=setTimeout(function(){g.animationTime=0,g.prevFromRect=null,g.fromRect=null,g.prevToRect=null,g.thisAnimationDuration=null},h),g.thisAnimationDuration=h)}),clearTimeout(u),d?u=setTimeout(function(){typeof o=="function"&&o()},p):typeof o=="function"&&o(),i=[]},animate:function(o,r,d,p){if(p){F(o,"transition",""),F(o,"transform","");var b=dl(this.el),h=b&&b.a,g=b&&b.d,A=(r.left-d.left)/(h||1),O=(r.top-d.top)/(g||1);o.animatingX=!!A,o.animatingY=!!O,F(o,"transform","translate3d("+A+"px,"+O+"px,0)"),this.forRepaintDummy=Zb(o),F(o,"transition","transform "+p+"ms"+(this.options.easing?" "+this.options.easing:"")),F(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){F(o,"transition",""),F(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},p)}}}}function Zb(i){return i.offsetWidth}function Vb(i,u,c,o){return Math.sqrt(Math.pow(u.top-i.top,2)+Math.pow(u.left-i.left,2))/Math.sqrt(Math.pow(u.top-c.top,2)+Math.pow(u.left-c.left,2))*o.animation}var ol=[],Rc={initializeByDefault:!0},Ci={mount:function(u){for(var c in Rc)Rc.hasOwnProperty(c)&&!(c in u)&&(u[c]=Rc[c]);ol.forEach(function(o){if(o.pluginName===u.pluginName)throw"Sortable: Cannot mount plugin ".concat(u.pluginName," more than once")}),ol.push(u)},pluginEvent:function(u,c,o){var r=this;this.eventCanceled=!1,o.cancel=function(){r.eventCanceled=!0};var d=u+"Global";ol.forEach(function(p){c[p.pluginName]&&(c[p.pluginName][d]&&c[p.pluginName][d](tn({sortable:c},o)),c.options[p.pluginName]&&c[p.pluginName][u]&&c[p.pluginName][u](tn({sortable:c},o)))})},initializePlugins:function(u,c,o,r){ol.forEach(function(b){var h=b.pluginName;if(!(!u.options[h]&&!b.initializeByDefault)){var g=new b(u,c,u.options);g.sortable=u,g.options=u.options,u[h]=g,En(o,g.defaults)}});for(var d in u.options)if(u.options.hasOwnProperty(d)){var p=this.modifyOption(u,d,u.options[d]);typeof p<"u"&&(u.options[d]=p)}},getEventProperties:function(u,c){var o={};return ol.forEach(function(r){typeof r.eventProperties=="function"&&En(o,r.eventProperties.call(c[r.pluginName],u))}),o},modifyOption:function(u,c,o){var r;return ol.forEach(function(d){u[d.pluginName]&&d.optionListeners&&typeof d.optionListeners[c]=="function"&&(r=d.optionListeners[c].call(u[d.pluginName],o))}),r}};function Kb(i){var u=i.sortable,c=i.rootEl,o=i.name,r=i.targetEl,d=i.cloneEl,p=i.toEl,b=i.fromEl,h=i.oldIndex,g=i.newIndex,A=i.oldDraggableIndex,O=i.newDraggableIndex,x=i.originalEvent,N=i.putSortable,H=i.extraEventProperties;if(u=u||c&&c[bt],!!u){var Z,ce=u.options,Be="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!An&&!Oi?Z=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(Z=document.createEvent("Event"),Z.initEvent(o,!0,!0)),Z.to=p||c,Z.from=b||c,Z.item=r||c,Z.clone=d,Z.oldIndex=h,Z.newIndex=g,Z.oldDraggableIndex=A,Z.newDraggableIndex=O,Z.originalEvent=x,Z.pullMode=N?N.lastPutMode:void 0;var pe=tn(tn({},H),Ci.getEventProperties(o,u));for(var he in pe)Z[he]=pe[he];c&&c.dispatchEvent(Z),ce[Be]&&ce[Be].call(u,Z)}}var Pb=["evt"],vt=function(u,c){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=o.evt,d=Hb(o,Pb);Ci.pluginEvent.bind(W)(u,c,tn({dragEl:L,parentEl:Qe,ghostEl:te,rootEl:Ue,nextEl:ya,lastDownEl:Fu,cloneEl:Re,cloneHidden:Jn,dragStarted:hi,putSortable:it,activeSortable:W.active,originalEvent:r,oldIndex:fl,oldDraggableIndex:Ei,newIndex:zt,newDraggableIndex:kn,hideGhostForTarget:mp,unhideGhostForTarget:gp,cloneNowHidden:function(){Jn=!0},cloneNowShown:function(){Jn=!1},dispatchSortableEvent:function(b){dt({sortable:c,name:b,originalEvent:r})}},d))};function dt(i){Kb(tn({putSortable:it,cloneEl:Re,targetEl:L,rootEl:Ue,oldIndex:fl,oldDraggableIndex:Ei,newIndex:zt,newDraggableIndex:kn},i))}var L,Qe,te,Ue,ya,Fu,Re,Jn,fl,zt,Ei,kn,Ku,it,rl=!1,ao=!1,lo=[],pa,Kt,Hc,qc,jg,xg,hi,sl,Ai,Ti=!1,Pu=!1,Wu,ct,Gc=[],$c=!1,io=[],fo=typeof document<"u",ku=rr,zg=Oi||An?"cssFloat":"float",kb=fo&&!np&&!rr&&"draggable"in document.createElement("div"),rp=function(){if(fo){if(An)return!1;var i=document.createElement("x");return i.style.cssText="pointer-events:auto",i.style.pointerEvents==="auto"}}(),fp=function(u,c){var o=F(u),r=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),d=pl(u,0,c),p=pl(u,1,c),b=d&&F(d),h=p&&F(p),g=b&&parseInt(b.marginLeft)+parseInt(b.marginRight)+Je(d).width,A=h&&parseInt(h.marginLeft)+parseInt(h.marginRight)+Je(p).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(d&&b.float&&b.float!=="none"){var O=b.float==="left"?"left":"right";return p&&(h.clear==="both"||h.clear===O)?"vertical":"horizontal"}return d&&(b.display==="block"||b.display==="flex"||b.display==="table"||b.display==="grid"||g>=r&&o[zg]==="none"||p&&o[zg]==="none"&&g+A>r)?"vertical":"horizontal"},Jb=function(u,c,o){var r=o?u.left:u.top,d=o?u.right:u.bottom,p=o?u.width:u.height,b=o?c.left:c.top,h=o?c.right:c.bottom,g=o?c.width:c.height;return r===b||d===h||r+p/2===b+g/2},Ib=function(u,c){var o;return lo.some(function(r){var d=r[bt].options.emptyInsertThreshold;if(!(!d||fr(r))){var p=Je(r),b=u>=p.left-d&&u<=p.right+d,h=c>=p.top-d&&c<=p.bottom+d;if(b&&h)return o=r}}),o},dp=function(u){function c(d,p){return function(b,h,g,A){var O=b.options.group.name&&h.options.group.name&&b.options.group.name===h.options.group.name;if(d==null&&(p||O))return!0;if(d==null||d===!1)return!1;if(p&&d==="clone")return d;if(typeof d=="function")return c(d(b,h,g,A),p)(b,h,g,A);var x=(p?b:h).options.group.name;return d===!0||typeof d=="string"&&d===x||d.join&&d.indexOf(x)>-1}}var o={},r=u.group;(!r||$u(r)!="object")&&(r={name:r}),o.name=r.name,o.checkPull=c(r.pull,!0),o.checkPut=c(r.put),o.revertClone=r.revertClone,u.group=o},mp=function(){!rp&&te&&F(te,"display","none")},gp=function(){!rp&&te&&F(te,"display","")};fo&&!np&&document.addEventListener("click",function(i){if(ao)return i.preventDefault(),i.stopPropagation&&i.stopPropagation(),i.stopImmediatePropagation&&i.stopImmediatePropagation(),ao=!1,!1},!0);var ha=function(u){if(L){u=u.touches?u.touches[0]:u;var c=Ib(u.clientX,u.clientY);if(c){var o={};for(var r in u)u.hasOwnProperty(r)&&(o[r]=u[r]);o.target=o.rootEl=c,o.preventDefault=void 0,o.stopPropagation=void 0,c[bt]._onDragOver(o)}}},$b=function(u){L&&L.parentNode[bt]._isOutsideThisEl(u.target)};function W(i,u){if(!(i&&i.nodeType&&i.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(i));this.el=i,this.options=u=En({},u),i[bt]=this;var c={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(i.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return fp(i,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(p,b){p.setData("Text",b.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:W.supportPointer!==!1&&"PointerEvent"in window&&(!bi||rr),emptyInsertThreshold:5};Ci.initializePlugins(this,i,c);for(var o in c)!(o in u)&&(u[o]=c[o]);dp(u);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=u.forceFallback?!1:kb,this.nativeDraggable&&(this.options.touchStartThreshold=1),u.supportPointer?re(i,"pointerdown",this._onTapStart):(re(i,"mousedown",this._onTapStart),re(i,"touchstart",this._onTapStart)),this.nativeDraggable&&(re(i,"dragover",this),re(i,"dragenter",this)),lo.push(this.el),u.store&&u.store.get&&this.sort(u.store.get(this)||[]),En(this,Qb())}W.prototype={constructor:W,_isOutsideThisEl:function(u){!this.el.contains(u)&&u!==this.el&&(sl=null)},_getDirection:function(u,c){return typeof this.options.direction=="function"?this.options.direction.call(this,u,c,L):this.options.direction},_onTapStart:function(u){if(u.cancelable){var c=this,o=this.el,r=this.options,d=r.preventOnFilter,p=u.type,b=u.touches&&u.touches[0]||u.pointerType&&u.pointerType==="touch"&&u,h=(b||u).target,g=u.target.shadowRoot&&(u.path&&u.path[0]||u.composedPath&&u.composedPath()[0])||h,A=r.filter;if(iS(o),!L&&!(/mousedown|pointerdown/.test(p)&&u.button!==0||r.disabled)&&!g.isContentEditable&&!(!this.nativeDraggable&&bi&&h&&h.tagName.toUpperCase()==="SELECT")&&(h=Pt(h,r.draggable,o,!1),!(h&&h.animated)&&Fu!==h)){if(fl=Xt(h),Ei=Xt(h,r.draggable),typeof A=="function"){if(A.call(this,u,h,this)){dt({sortable:c,rootEl:g,name:"filter",targetEl:h,toEl:o,fromEl:o}),vt("filter",c,{evt:u}),d&&u.preventDefault();return}}else if(A&&(A=A.split(",").some(function(O){if(O=Pt(g,O.trim(),o,!1),O)return dt({sortable:c,rootEl:O,name:"filter",targetEl:h,fromEl:o,toEl:o}),vt("filter",c,{evt:u}),!0}),A)){d&&u.preventDefault();return}r.handle&&!Pt(g,r.handle,o,!1)||this._prepareDragStart(u,b,h)}}},_prepareDragStart:function(u,c,o){var r=this,d=r.el,p=r.options,b=d.ownerDocument,h;if(o&&!L&&o.parentNode===d){var g=Je(o);if(Ue=d,L=o,Qe=L.parentNode,ya=L.nextSibling,Fu=o,Ku=p.group,W.dragged=L,pa={target:L,clientX:(c||u).clientX,clientY:(c||u).clientY},jg=pa.clientX-g.left,xg=pa.clientY-g.top,this._lastX=(c||u).clientX,this._lastY=(c||u).clientY,L.style["will-change"]="all",h=function(){if(vt("delayEnded",r,{evt:u}),W.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!_g&&r.nativeDraggable&&(L.draggable=!0),r._triggerDragStart(u,c),dt({sortable:r,name:"choose",originalEvent:u}),xt(L,p.chosenClass,!0)},p.ignore.split(",").forEach(function(A){ip(L,A.trim(),Yc)}),re(b,"dragover",ha),re(b,"mousemove",ha),re(b,"touchmove",ha),p.supportPointer?(re(b,"pointerup",r._onDrop),!this.nativeDraggable&&re(b,"pointercancel",r._onDrop)):(re(b,"mouseup",r._onDrop),re(b,"touchend",r._onDrop),re(b,"touchcancel",r._onDrop)),_g&&this.nativeDraggable&&(this.options.touchStartThreshold=4,L.draggable=!0),vt("delayStart",this,{evt:u}),p.delay&&(!p.delayOnTouchOnly||c)&&(!this.nativeDraggable||!(Oi||An))){if(W.eventCanceled){this._onDrop();return}p.supportPointer?(re(b,"pointerup",r._disableDelayedDrag),re(b,"pointercancel",r._disableDelayedDrag)):(re(b,"mouseup",r._disableDelayedDrag),re(b,"touchend",r._disableDelayedDrag),re(b,"touchcancel",r._disableDelayedDrag)),re(b,"mousemove",r._delayedDragTouchMoveHandler),re(b,"touchmove",r._delayedDragTouchMoveHandler),p.supportPointer&&re(b,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(h,p.delay)}else h()}},_delayedDragTouchMoveHandler:function(u){var c=u.touches?u.touches[0]:u;Math.max(Math.abs(c.clientX-this._lastX),Math.abs(c.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){L&&Yc(L),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var u=this.el.ownerDocument;se(u,"mouseup",this._disableDelayedDrag),se(u,"touchend",this._disableDelayedDrag),se(u,"touchcancel",this._disableDelayedDrag),se(u,"pointerup",this._disableDelayedDrag),se(u,"pointercancel",this._disableDelayedDrag),se(u,"mousemove",this._delayedDragTouchMoveHandler),se(u,"touchmove",this._delayedDragTouchMoveHandler),se(u,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(u,c){c=c||u.pointerType=="touch"&&u,!this.nativeDraggable||c?this.options.supportPointer?re(document,"pointermove",this._onTouchMove):c?re(document,"touchmove",this._onTouchMove):re(document,"mousemove",this._onTouchMove):(re(L,"dragend",this),re(Ue,"dragstart",this._onDragStart));try{document.selection?eo(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(u,c){if(rl=!1,Ue&&L){vt("dragStarted",this,{evt:c}),this.nativeDraggable&&re(document,"dragover",$b);var o=this.options;!u&&xt(L,o.dragClass,!1),xt(L,o.ghostClass,!0),W.active=this,u&&this._appendGhost(),dt({sortable:this,name:"start",originalEvent:c})}else this._nulling()},_emulateDragOver:function(){if(Kt){this._lastX=Kt.clientX,this._lastY=Kt.clientY,mp();for(var u=document.elementFromPoint(Kt.clientX,Kt.clientY),c=u;u&&u.shadowRoot&&(u=u.shadowRoot.elementFromPoint(Kt.clientX,Kt.clientY),u!==c);)c=u;if(L.parentNode[bt]._isOutsideThisEl(u),c)do{if(c[bt]){var o=void 0;if(o=c[bt]._onDragOver({clientX:Kt.clientX,clientY:Kt.clientY,target:u,rootEl:c}),o&&!this.options.dragoverBubble)break}u=c}while(c=lp(c));gp()}},_onTouchMove:function(u){if(pa){var c=this.options,o=c.fallbackTolerance,r=c.fallbackOffset,d=u.touches?u.touches[0]:u,p=te&&dl(te,!0),b=te&&p&&p.a,h=te&&p&&p.d,g=ku&&ct&&wg(ct),A=(d.clientX-pa.clientX+r.x)/(b||1)+(g?g[0]-Gc[0]:0)/(b||1),O=(d.clientY-pa.clientY+r.y)/(h||1)+(g?g[1]-Gc[1]:0)/(h||1);if(!W.active&&!rl){if(o&&Math.max(Math.abs(d.clientX-this._lastX),Math.abs(d.clientY-this._lastY))<o)return;this._onDragStart(u,!0)}if(te){p?(p.e+=A-(Hc||0),p.f+=O-(qc||0)):p={a:1,b:0,c:0,d:1,e:A,f:O};var x="matrix(".concat(p.a,",").concat(p.b,",").concat(p.c,",").concat(p.d,",").concat(p.e,",").concat(p.f,")");F(te,"webkitTransform",x),F(te,"mozTransform",x),F(te,"msTransform",x),F(te,"transform",x),Hc=A,qc=O,Kt=d}u.cancelable&&u.preventDefault()}},_appendGhost:function(){if(!te){var u=this.options.fallbackOnBody?document.body:Ue,c=Je(L,!0,ku,!0,u),o=this.options;if(ku){for(ct=u;F(ct,"position")==="static"&&F(ct,"transform")==="none"&&ct!==document;)ct=ct.parentNode;ct!==document.body&&ct!==document.documentElement?(ct===document&&(ct=en()),c.top+=ct.scrollTop,c.left+=ct.scrollLeft):ct=en(),Gc=wg(ct)}te=L.cloneNode(!0),xt(te,o.ghostClass,!1),xt(te,o.fallbackClass,!0),xt(te,o.dragClass,!0),F(te,"transition",""),F(te,"transform",""),F(te,"box-sizing","border-box"),F(te,"margin",0),F(te,"top",c.top),F(te,"left",c.left),F(te,"width",c.width),F(te,"height",c.height),F(te,"opacity","0.8"),F(te,"position",ku?"absolute":"fixed"),F(te,"zIndex","100000"),F(te,"pointerEvents","none"),W.ghost=te,u.appendChild(te),F(te,"transform-origin",jg/parseInt(te.style.width)*100+"% "+xg/parseInt(te.style.height)*100+"%")}},_onDragStart:function(u,c){var o=this,r=u.dataTransfer,d=o.options;if(vt("dragStart",this,{evt:u}),W.eventCanceled){this._onDrop();return}vt("setupClone",this),W.eventCanceled||(Re=sp(L),Re.removeAttribute("id"),Re.draggable=!1,Re.style["will-change"]="",this._hideClone(),xt(Re,this.options.chosenClass,!1),W.clone=Re),o.cloneId=eo(function(){vt("clone",o),!W.eventCanceled&&(o.options.removeCloneOnHide||Ue.insertBefore(Re,L),o._hideClone(),dt({sortable:o,name:"clone"}))}),!c&&xt(L,d.dragClass,!0),c?(ao=!0,o._loopId=setInterval(o._emulateDragOver,50)):(se(document,"mouseup",o._onDrop),se(document,"touchend",o._onDrop),se(document,"touchcancel",o._onDrop),r&&(r.effectAllowed="move",d.setData&&d.setData.call(o,r,L)),re(document,"drop",o),F(L,"transform","translateZ(0)")),rl=!0,o._dragStartId=eo(o._dragStarted.bind(o,c,u)),re(document,"selectstart",o),hi=!0,window.getSelection().removeAllRanges(),bi&&F(document.body,"user-select","none")},_onDragOver:function(u){var c=this.el,o=u.target,r,d,p,b=this.options,h=b.group,g=W.active,A=Ku===h,O=b.sort,x=it||g,N,H=this,Z=!1;if($c)return;function ce(K,ve){vt(K,H,tn({evt:u,isOwner:A,axis:N?"vertical":"horizontal",revert:p,dragRect:r,targetRect:d,canSort:O,fromSortable:x,target:o,completed:pe,onMove:function(B,G){return Ju(Ue,c,L,r,B,Je(B),u,G)},changed:he},ve))}function Be(){ce("dragOverAnimationCapture"),H.captureAnimationState(),H!==x&&x.captureAnimationState()}function pe(K){return ce("dragOverCompleted",{insertion:K}),K&&(A?g._hideClone():g._showClone(H),H!==x&&(xt(L,it?it.options.ghostClass:g.options.ghostClass,!1),xt(L,b.ghostClass,!0)),it!==H&&H!==W.active?it=H:H===W.active&&it&&(it=null),x===H&&(H._ignoreWhileAnimating=o),H.animateAll(function(){ce("dragOverAnimationComplete"),H._ignoreWhileAnimating=null}),H!==x&&(x.animateAll(),x._ignoreWhileAnimating=null)),(o===L&&!L.animated||o===c&&!o.animated)&&(sl=null),!b.dragoverBubble&&!u.rootEl&&o!==document&&(L.parentNode[bt]._isOutsideThisEl(u.target),!K&&ha(u)),!b.dragoverBubble&&u.stopPropagation&&u.stopPropagation(),Z=!0}function he(){zt=Xt(L),kn=Xt(L,b.draggable),dt({sortable:H,name:"change",toEl:c,newIndex:zt,newDraggableIndex:kn,originalEvent:u})}if(u.preventDefault!==void 0&&u.cancelable&&u.preventDefault(),o=Pt(o,b.draggable,c,!0),ce("dragOver"),W.eventCanceled)return Z;if(L.contains(u.target)||o.animated&&o.animatingX&&o.animatingY||H._ignoreWhileAnimating===o)return pe(!1);if(ao=!1,g&&!b.disabled&&(A?O||(p=Qe!==Ue):it===this||(this.lastPutMode=Ku.checkPull(this,g,L,u))&&h.checkPut(this,g,L,u))){if(N=this._getDirection(u,o)==="vertical",r=Je(L),ce("dragOverValid"),W.eventCanceled)return Z;if(p)return Qe=Ue,Be(),this._hideClone(),ce("revert"),W.eventCanceled||(ya?Ue.insertBefore(L,ya):Ue.appendChild(L)),pe(!0);var Me=fr(c,b.draggable);if(!Me||tS(u,N,this)&&!Me.animated){if(Me===L)return pe(!1);if(Me&&c===u.target&&(o=Me),o&&(d=Je(o)),Ju(Ue,c,L,r,o,d,u,!!o)!==!1)return Be(),Me&&Me.nextSibling?c.insertBefore(L,Me.nextSibling):c.appendChild(L),Qe=c,he(),pe(!0)}else if(Me&&eS(u,N,this)){var ne=pl(c,0,b,!0);if(ne===L)return pe(!1);if(o=ne,d=Je(o),Ju(Ue,c,L,r,o,d,u,!1)!==!1)return Be(),c.insertBefore(L,ne),Qe=c,he(),pe(!0)}else if(o.parentNode===c){d=Je(o);var De=0,Ne,X=L.parentNode!==c,de=!Jb(L.animated&&L.toRect||r,o.animated&&o.toRect||d,N),He=N?"top":"left",we=Cg(o,"top","top")||Cg(L,"top","top"),je=we?we.scrollTop:void 0;sl!==o&&(Ne=d[He],Ti=!1,Pu=!de&&b.invertSwap||X),De=nS(u,o,d,N,de?1:b.swapThreshold,b.invertedSwapThreshold==null?b.swapThreshold:b.invertedSwapThreshold,Pu,sl===o);var qe;if(De!==0){var rt=Xt(L);do rt-=De,qe=Qe.children[rt];while(qe&&(F(qe,"display")==="none"||qe===te))}if(De===0||qe===o)return pe(!1);sl=o,Ai=De;var Ge=o.nextElementSibling,w=!1;w=De===1;var R=Ju(Ue,c,L,r,o,d,u,w);if(R!==!1)return(R===1||R===-1)&&(w=R===1),$c=!0,setTimeout(Wb,30),Be(),w&&!Ge?c.appendChild(L):o.parentNode.insertBefore(L,w?Ge:o),we&&op(we,0,je-we.scrollTop),Qe=L.parentNode,Ne!==void 0&&!Pu&&(Wu=Math.abs(Ne-Je(o)[He])),he(),pe(!0)}if(c.contains(L))return pe(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){se(document,"mousemove",this._onTouchMove),se(document,"touchmove",this._onTouchMove),se(document,"pointermove",this._onTouchMove),se(document,"dragover",ha),se(document,"mousemove",ha),se(document,"touchmove",ha)},_offUpEvents:function(){var u=this.el.ownerDocument;se(u,"mouseup",this._onDrop),se(u,"touchend",this._onDrop),se(u,"pointerup",this._onDrop),se(u,"pointercancel",this._onDrop),se(u,"touchcancel",this._onDrop),se(document,"selectstart",this)},_onDrop:function(u){var c=this.el,o=this.options;if(zt=Xt(L),kn=Xt(L,o.draggable),vt("drop",this,{evt:u}),Qe=L&&L.parentNode,zt=Xt(L),kn=Xt(L,o.draggable),W.eventCanceled){this._nulling();return}rl=!1,Pu=!1,Ti=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Fc(this.cloneId),Fc(this._dragStartId),this.nativeDraggable&&(se(document,"drop",this),se(c,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),bi&&F(document.body,"user-select",""),F(L,"transform",""),u&&(hi&&(u.cancelable&&u.preventDefault(),!o.dropBubble&&u.stopPropagation()),te&&te.parentNode&&te.parentNode.removeChild(te),(Ue===Qe||it&&it.lastPutMode!=="clone")&&Re&&Re.parentNode&&Re.parentNode.removeChild(Re),L&&(this.nativeDraggable&&se(L,"dragend",this),Yc(L),L.style["will-change"]="",hi&&!rl&&xt(L,it?it.options.ghostClass:this.options.ghostClass,!1),xt(L,this.options.chosenClass,!1),dt({sortable:this,name:"unchoose",toEl:Qe,newIndex:null,newDraggableIndex:null,originalEvent:u}),Ue!==Qe?(zt>=0&&(dt({rootEl:Qe,name:"add",toEl:Qe,fromEl:Ue,originalEvent:u}),dt({sortable:this,name:"remove",toEl:Qe,originalEvent:u}),dt({rootEl:Qe,name:"sort",toEl:Qe,fromEl:Ue,originalEvent:u}),dt({sortable:this,name:"sort",toEl:Qe,originalEvent:u})),it&&it.save()):zt!==fl&&zt>=0&&(dt({sortable:this,name:"update",toEl:Qe,originalEvent:u}),dt({sortable:this,name:"sort",toEl:Qe,originalEvent:u})),W.active&&((zt==null||zt===-1)&&(zt=fl,kn=Ei),dt({sortable:this,name:"end",toEl:Qe,originalEvent:u}),this.save()))),this._nulling()},_nulling:function(){vt("nulling",this),Ue=L=Qe=te=ya=Re=Fu=Jn=pa=Kt=hi=zt=kn=fl=Ei=sl=Ai=it=Ku=W.dragged=W.ghost=W.clone=W.active=null,io.forEach(function(u){u.checked=!0}),io.length=Hc=qc=0},handleEvent:function(u){switch(u.type){case"drop":case"dragend":this._onDrop(u);break;case"dragenter":case"dragover":L&&(this._onDragOver(u),Fb(u));break;case"selectstart":u.preventDefault();break}},toArray:function(){for(var u=[],c,o=this.el.children,r=0,d=o.length,p=this.options;r<d;r++)c=o[r],Pt(c,p.draggable,this.el,!1)&&u.push(c.getAttribute(p.dataIdAttr)||lS(c));return u},sort:function(u,c){var o={},r=this.el;this.toArray().forEach(function(d,p){var b=r.children[p];Pt(b,this.options.draggable,r,!1)&&(o[d]=b)},this),c&&this.captureAnimationState(),u.forEach(function(d){o[d]&&(r.removeChild(o[d]),r.appendChild(o[d]))}),c&&this.animateAll()},save:function(){var u=this.options.store;u&&u.set&&u.set(this)},closest:function(u,c){return Pt(u,c||this.options.draggable,this.el,!1)},option:function(u,c){var o=this.options;if(c===void 0)return o[u];var r=Ci.modifyOption(this,u,c);typeof r<"u"?o[u]=r:o[u]=c,u==="group"&&dp(o)},destroy:function(){vt("destroy",this);var u=this.el;u[bt]=null,se(u,"mousedown",this._onTapStart),se(u,"touchstart",this._onTapStart),se(u,"pointerdown",this._onTapStart),this.nativeDraggable&&(se(u,"dragover",this),se(u,"dragenter",this)),Array.prototype.forEach.call(u.querySelectorAll("[draggable]"),function(c){c.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),lo.splice(lo.indexOf(this.el),1),this.el=u=null},_hideClone:function(){if(!Jn){if(vt("hideClone",this),W.eventCanceled)return;F(Re,"display","none"),this.options.removeCloneOnHide&&Re.parentNode&&Re.parentNode.removeChild(Re),Jn=!0}},_showClone:function(u){if(u.lastPutMode!=="clone"){this._hideClone();return}if(Jn){if(vt("showClone",this),W.eventCanceled)return;L.parentNode==Ue&&!this.options.group.revertClone?Ue.insertBefore(Re,L):ya?Ue.insertBefore(Re,ya):Ue.appendChild(Re),this.options.group.revertClone&&this.animate(L,Re),F(Re,"display",""),Jn=!1}}};function Fb(i){i.dataTransfer&&(i.dataTransfer.dropEffect="move"),i.cancelable&&i.preventDefault()}function Ju(i,u,c,o,r,d,p,b){var h,g=i[bt],A=g.options.onMove,O;return window.CustomEvent&&!An&&!Oi?h=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(h=document.createEvent("Event"),h.initEvent("move",!0,!0)),h.to=u,h.from=i,h.dragged=c,h.draggedRect=o,h.related=r||u,h.relatedRect=d||Je(u),h.willInsertAfter=b,h.originalEvent=p,i.dispatchEvent(h),A&&(O=A.call(g,h,p)),O}function Yc(i){i.draggable=!1}function Wb(){$c=!1}function eS(i,u,c){var o=Je(pl(c.el,0,c.options,!0)),r=cp(c.el,c.options,te),d=10;return u?i.clientX<r.left-d||i.clientY<o.top&&i.clientX<o.right:i.clientY<r.top-d||i.clientY<o.bottom&&i.clientX<o.left}function tS(i,u,c){var o=Je(fr(c.el,c.options.draggable)),r=cp(c.el,c.options,te),d=10;return u?i.clientX>r.right+d||i.clientY>o.bottom&&i.clientX>o.left:i.clientY>r.bottom+d||i.clientX>o.right&&i.clientY>o.top}function nS(i,u,c,o,r,d,p,b){var h=o?i.clientY:i.clientX,g=o?c.height:c.width,A=o?c.top:c.left,O=o?c.bottom:c.right,x=!1;if(!p){if(b&&Wu<g*r){if(!Ti&&(Ai===1?h>A+g*d/2:h<O-g*d/2)&&(Ti=!0),Ti)x=!0;else if(Ai===1?h<A+Wu:h>O-Wu)return-Ai}else if(h>A+g*(1-r)/2&&h<O-g*(1-r)/2)return aS(u)}return x=x||p,x&&(h<A+g*d/2||h>O-g*d/2)?h>A+g/2?1:-1:0}function aS(i){return Xt(L)<Xt(i)?1:-1}function lS(i){for(var u=i.tagName+i.className+i.src+i.href+i.textContent,c=u.length,o=0;c--;)o+=u.charCodeAt(c);return o.toString(36)}function iS(i){io.length=0;for(var u=i.getElementsByTagName("input"),c=u.length;c--;){var o=u[c];o.checked&&io.push(o)}}function eo(i){return setTimeout(i,0)}function Fc(i){return clearTimeout(i)}fo&&re(document,"touchmove",function(i){(W.active||rl)&&i.cancelable&&i.preventDefault()});W.utils={on:re,off:se,css:F,find:ip,is:function(u,c){return!!Pt(u,c,u,!1)},extend:Yb,throttle:up,closest:Pt,toggleClass:xt,clone:sp,index:Xt,nextTick:eo,cancelNextTick:Fc,detectDirection:fp,getChild:pl,expando:bt};W.get=function(i){return i[bt]};W.mount=function(){for(var i=arguments.length,u=new Array(i),c=0;c<i;c++)u[c]=arguments[c];u[0].constructor===Array&&(u=u[0]),u.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(W.utils=tn(tn({},W.utils),o.utils)),Ci.mount(o)})};W.create=function(i,u){return new W(i,u)};W.version=qb;var ke=[],yi,Wc,er=!1,Xc,Qc,uo,vi;function uS(){function i(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var u in this)u.charAt(0)==="_"&&typeof this[u]=="function"&&(this[u]=this[u].bind(this))}return i.prototype={dragStarted:function(c){var o=c.originalEvent;this.sortable.nativeDraggable?re(document,"dragover",this._handleAutoScroll):this.options.supportPointer?re(document,"pointermove",this._handleFallbackAutoScroll):o.touches?re(document,"touchmove",this._handleFallbackAutoScroll):re(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(c){var o=c.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?se(document,"dragover",this._handleAutoScroll):(se(document,"pointermove",this._handleFallbackAutoScroll),se(document,"touchmove",this._handleFallbackAutoScroll),se(document,"mousemove",this._handleFallbackAutoScroll)),Ug(),to(),Xb()},nulling:function(){uo=Wc=yi=er=vi=Xc=Qc=null,ke.length=0},_handleFallbackAutoScroll:function(c){this._handleAutoScroll(c,!0)},_handleAutoScroll:function(c,o){var r=this,d=(c.touches?c.touches[0]:c).clientX,p=(c.touches?c.touches[0]:c).clientY,b=document.elementFromPoint(d,p);if(uo=c,o||this.options.forceAutoScrollFallback||Oi||An||bi){Zc(c,this.options,b,o);var h=In(b,!0);er&&(!vi||d!==Xc||p!==Qc)&&(vi&&Ug(),vi=setInterval(function(){var g=In(document.elementFromPoint(d,p),!0);g!==h&&(h=g,to()),Zc(c,r.options,g,o)},10),Xc=d,Qc=p)}else{if(!this.options.bubbleScroll||In(b,!0)===en()){to();return}Zc(c,this.options,In(b,!1),!1)}}},En(i,{pluginName:"scroll",initializeByDefault:!0})}function to(){ke.forEach(function(i){clearInterval(i.pid)}),ke=[]}function Ug(){clearInterval(vi)}var Zc=up(function(i,u,c,o){if(u.scroll){var r=(i.touches?i.touches[0]:i).clientX,d=(i.touches?i.touches[0]:i).clientY,p=u.scrollSensitivity,b=u.scrollSpeed,h=en(),g=!1,A;Wc!==c&&(Wc=c,to(),yi=u.scroll,A=u.scrollFn,yi===!0&&(yi=In(c,!0)));var O=0,x=yi;do{var N=x,H=Je(N),Z=H.top,ce=H.bottom,Be=H.left,pe=H.right,he=H.width,Me=H.height,ne=void 0,De=void 0,Ne=N.scrollWidth,X=N.scrollHeight,de=F(N),He=N.scrollLeft,we=N.scrollTop;N===h?(ne=he<Ne&&(de.overflowX==="auto"||de.overflowX==="scroll"||de.overflowX==="visible"),De=Me<X&&(de.overflowY==="auto"||de.overflowY==="scroll"||de.overflowY==="visible")):(ne=he<Ne&&(de.overflowX==="auto"||de.overflowX==="scroll"),De=Me<X&&(de.overflowY==="auto"||de.overflowY==="scroll"));var je=ne&&(Math.abs(pe-r)<=p&&He+he<Ne)-(Math.abs(Be-r)<=p&&!!He),qe=De&&(Math.abs(ce-d)<=p&&we+Me<X)-(Math.abs(Z-d)<=p&&!!we);if(!ke[O])for(var rt=0;rt<=O;rt++)ke[rt]||(ke[rt]={});(ke[O].vx!=je||ke[O].vy!=qe||ke[O].el!==N)&&(ke[O].el=N,ke[O].vx=je,ke[O].vy=qe,clearInterval(ke[O].pid),(je!=0||qe!=0)&&(g=!0,ke[O].pid=setInterval((function(){o&&this.layer===0&&W.active._onTouchMove(uo);var Ge=ke[this.layer].vy?ke[this.layer].vy*b:0,w=ke[this.layer].vx?ke[this.layer].vx*b:0;typeof A=="function"&&A.call(W.dragged.parentNode[bt],w,Ge,i,uo,ke[this.layer].el)!=="continue"||op(ke[this.layer].el,w,Ge)}).bind({layer:O}),24))),O++}while(u.bubbleScroll&&x!==h&&(x=In(x,!1)));er=g}},30),pp=function(u){var c=u.originalEvent,o=u.putSortable,r=u.dragEl,d=u.activeSortable,p=u.dispatchSortableEvent,b=u.hideGhostForTarget,h=u.unhideGhostForTarget;if(c){var g=o||d;b();var A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:c,O=document.elementFromPoint(A.clientX,A.clientY);h(),g&&!g.el.contains(O)&&(p("spill"),this.onSpill({dragEl:r,putSortable:o}))}};function dr(){}dr.prototype={startIndex:null,dragStart:function(u){var c=u.oldDraggableIndex;this.startIndex=c},onSpill:function(u){var c=u.dragEl,o=u.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var r=pl(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(c,r):this.sortable.el.appendChild(c),this.sortable.animateAll(),o&&o.animateAll()},drop:pp};En(dr,{pluginName:"revertOnSpill"});function mr(){}mr.prototype={onSpill:function(u){var c=u.dragEl,o=u.putSortable,r=o||this.sortable;r.captureAnimationState(),c.parentNode&&c.parentNode.removeChild(c),r.animateAll()},drop:pp};En(mr,{pluginName:"removeOnSpill"});W.mount(new uS);W.mount(mr,dr);function oS({unmount:i,groupData:u,allAgents:c,onSave:o}){const[r,d]=jt.useState(""),[p,b]=jt.useState([]),[h,g]=jt.useState("manual"),[A,O]=jt.useState(""),[x,N]=jt.useState(""),[H,Z]=jt.useState(1),[ce,Be]=jt.useState(0),pe=jt.useRef(null);jt.useEffect(()=>{if(u){d(u.name||"");const X=(u.agents||[]).filter(de=>c&&c.hasOwnProperty(de));b(X),g(u.flowType||"manual"),O(u.moderatorAgent||""),Z(u.maxTurns||1),Be(u.timerInSeconds||0)}else d("New Group"),b([]),g("manual"),O(""),Z(1),Be(0)},[u,c]),jt.useEffect(()=>{A&&!p.includes(A)&&O("")},[p,A]),jt.useEffect(()=>{if(pe.current){const X=W.create(pe.current,{animation:150,handle:".agent-sortable-item",onEnd:de=>{const He=[...p],[we]=He.splice(de.oldIndex,1);He.splice(de.newIndex,0,we),b(He)}});return()=>X.destroy()}},[p]);const he=X=>{const de=p.includes(X);b(de?He=>He.filter(we=>we!==X):He=>[...He,X])},Me=()=>{o({name:r,members:p,flowType:h,moderator:A,maxTurns:H,timerInSeconds:ce})},{selectedList:ne,availableList:De}=jt.useMemo(()=>{const X=x.toLowerCase(),de=Object.keys(c),He=new Set(p),we=p.filter(qe=>qe.toLowerCase().includes(X)),je=de.filter(qe=>!He.has(qe)&&qe.toLowerCase().includes(X)).sort();return{selectedList:we,availableList:je}},[x,c,p]),Ne=p.map(X=>I.jsx("option",{value:X,children:X},X));return I.jsx("div",{id:"agent-group-editor-modal",className:"modal-overlay",style:{display:"flex"},children:I.jsxs("div",{className:"modal-box is-resizable",children:[I.jsxs("div",{className:"modal-header",children:[I.jsx("h3",{id:"agent-group-modal-title",children:u?`Edit Group: ${r}`:"Create New Agent Group"}),I.jsx("button",{type:"button",className:"modal-close-btn",title:"Close",onClick:i,children:"×"})]}),I.jsxs("div",{className:"modal-body",style:{display:"flex",flexDirection:"column"},children:[I.jsxs("div",{className:"form-group",children:[I.jsx("label",{htmlFor:"group-name-input",children:"Group Name"}),I.jsx("input",{type:"text",id:"group-name-input",value:r,onChange:X=>d(X.target.value)})]}),I.jsxs("div",{className:"form-group",children:[I.jsx("label",{htmlFor:"group-flow-select",children:"Conversation Flow"}),I.jsxs("select",{id:"group-flow-select",value:h,onChange:X=>g(X.target.value),children:[I.jsx("option",{value:"manual",children:"Manual Selection"}),I.jsx("option",{value:"round-robin",children:"Round Robin"}),I.jsx("option",{value:"auto-moderator",children:"Automated Moderator"})]})]}),h==="round-robin"&&I.jsxs("div",{className:"form-group",children:[I.jsx("label",{htmlFor:"group-max-turns-input",children:"Rounds (1-8)"}),I.jsx("input",{type:"number",id:"group-max-turns-input",value:H,onChange:X=>Z(Math.max(1,Math.min(8,parseInt(X.target.value,10)))),min:"1",max:"8"})]}),h==="auto-moderator"&&I.jsxs("div",{className:"form-group",children:[I.jsx("label",{htmlFor:"group-timer-input",children:"Timer (0-180 seconds)"}),I.jsx("input",{type:"number",id:"group-timer-input",value:ce,onChange:X=>Be(parseInt(X.target.value,10)),min:"0",max:"180",step:"10"}),I.jsx("p",{className:"modal-warning",children:"ใส่ 0 เพื่อให้ Moderator ทำงานรอบเดียวแล้วหยุด (โหมดปกติ)"})]}),I.jsxs("div",{className:"form-group",children:[I.jsx("label",{htmlFor:"group-moderator-select",children:"Moderator Agent"}),I.jsxs("select",{id:"group-moderator-select",value:A,onChange:X=>O(X.target.value),disabled:p.length===0,children:[I.jsx("option",{value:"",children:"-- Select from members --"}),Ne]})]}),I.jsxs("div",{className:"form-group",style:{display:"flex",flexDirection:"column"},children:[I.jsxs("label",{children:["Group Members (",p.length," selected)"]}),I.jsx("input",{type:"text",placeholder:"Search agents...",value:x,onChange:X=>N(X.target.value),style:{marginBottom:"10px"}}),I.jsxs("div",{id:"group-member-list",children:[I.jsx("div",{ref:pe,children:ne.map(X=>I.jsxs("div",{className:"agent-sortable-item","data-id":X,children:[I.jsx("input",{type:"checkbox",id:`agent-cb-${X}`,checked:!0,onChange:()=>he(X)}),I.jsxs("label",{htmlFor:`agent-cb-${X}`,children:[c[X]?.icon||"🤖"," ",X]})]},X))}),ne.length>0&&De.length>0&&I.jsx("hr",{style:{margin:"10px 0"}}),I.jsx("div",{children:De.map(X=>I.jsxs("div",{className:"agent-sortable-item",children:[I.jsx("input",{type:"checkbox",id:`agent-cb-${X}`,checked:!1,onChange:()=>he(X)}),I.jsxs("label",{htmlFor:`agent-cb-${X}`,children:[c[X]?.icon||"🤖"," ",X]})]},X))})]})]})]}),I.jsxs("div",{className:"modal-actions",children:[I.jsx("button",{className:"btn btn-secondary",onClick:i,children:"ยกเลิก"}),I.jsx("button",{className:"btn",onClick:Me,children:"บันทึก Group"})]})]})})}function sS(){console.warn("saveAgentGroup is deprecated and should not be called from the new UI.");const i=y.getProject(),u=y.getState().editingGroupName,c=document.getElementById("group-name-input").value.trim();if(!c){V("Group name cannot be empty.","Error");return}if(c!==u&&i.agentGroups[c]){V(`A group named "${c}" already exists.`,"Error");return}const o=document.getElementById("group-moderator-select").value;if(!o){V("Please select a Moderator for the group.","Error");return}const r=window.groupSortable?window.groupSortable.toArray():[],d=document.querySelectorAll("#group-member-list .agent-sortable-item"),p=Array.from(d).filter(g=>g.querySelector('input[type="checkbox"]').checked).map(g=>g.dataset.agentName),b=r.filter(g=>p.includes(g));if(b.length===0){V("A group must have at least one member.","Error");return}const h={agents:b,moderatorAgent:o,flowType:document.getElementById("group-flow-select").value,maxTurns:parseInt(document.getElementById("group-max-turns-input").value,10),timerInSeconds:parseInt(document.getElementById("group-timer-input").value,10)};u&&u!==c&&(delete i.agentGroups[u],i.chatSessions.forEach(g=>{g.linkedEntity?.type==="group"&&g.linkedEntity.name===u&&(g.linkedEntity.name=c)})),i.agentGroups[c]=h,y.setProject(i),y.updateAndPersistState(),y.bus.publish("group:editorShouldClose"),V(`Group "${c}" saved successfully.`,"Success"),y.bus.publish("studio:contentShouldRender")}function cS({groupName:i}){if(!confirm(`Are you sure you want to delete the group "${i}"? This cannot be undone.`))return;const u=y.getProject();delete u.agentGroups[i],y.setProject(u),y.updateAndPersistState(),y.bus.publish("studio:contentShouldRender"),V(`Group "${i}" has been deleted.`,"Success")}function rS(i,u){const c=y.getProject(),o=i.name.trim();if(!o){V("Group name cannot be empty.","Error");return}if(o!==u&&c.agentGroups[o]){V(`A group named "${o}" already exists.`,"Error");return}u&&u!==o&&delete c.agentGroups[u],c.agentGroups[o]={agents:i.members,moderatorAgent:i.moderator,flowType:i.flowType,maxTurns:i.maxTurns,timerInSeconds:i.timerInSeconds},y.setProject(c),y.updateAndPersistState(),V(`Group "${o}" saved successfully.`,"Success"),y.bus.publish("studio:contentShouldRender")}function fS(i){const c=y.getProject().activeEntity,o=y.getStagedEntity(),r=document.createElement("div");return r.className="item group-item",r.dataset.groupName=i,c?.type==="group"&&c.name===i?r.classList.add("active"):o?.type==="group"&&o.name===i&&r.classList.add("staged"),r.innerHTML=`
     <div class="item-header">
        <span class="item-name"><span class="item-icon">🤝</span> ${i}</span>
        <div class="item-actions">
            <button class="btn-icon" data-action="group:edit" title="Edit Group">
                <span class="material-symbols-outlined">edit</span>
            </button>
            <button class="btn-icon danger" data-action="group:delete" title="Delete Group">
                <span class="material-symbols-outlined">delete</span>
            </button>
        </div>
    </div>`,r}function dS(i){if(!i)return;const u=y.getProject();if(!u||!u.agentGroups)return;i.insertAdjacentHTML("beforeend",`
        <details class="collapsible-section" open>
            <summary class="section-header">
                <h3>🤝 Agent Groups</h3>
                <button class="btn-icon" data-action="group:create" title="Create New Group">+</button>
            </summary>
            <div class="section-box">
                <div id="agentGroupList" class="item-list"></div>
            </div>
        </details>
    `);const o=i.querySelector("#agentGroupList:last-of-type");if(!o)return;const r=u.agentGroups;for(const d in r)o.appendChild(fS(d))}function mS(){const i=document.getElementById("group-flow-select").value,u=document.getElementById("group-rounds-control"),c=document.getElementById("group-timer-control");!u||!c||(i==="round-robin"?(u.classList.remove("hidden"),c.classList.add("hidden")):(u.classList.add("hidden"),c.classList.remove("hidden")))}function Bg(i=!1,u=null){const c=y.getProject(),o=i?{name:u,...c.agentGroups[u]}:null,r=c.agentPresets||{},d=document.getElementById("react-modal-root");d&&Nb(oS,{groupData:o,allAgents:r,onSave:b=>{rS(b,u),tr()}},d)}function tr(){const i=document.getElementById("react-modal-root");i&&(i.innerHTML=""),y.setState("editingGroupName",null)}function gS(){y.bus.subscribe("group:editorShouldClose",tr);const i=document.getElementById("agent-group-editor-modal");i&&(i.addEventListener("click",u=>{u.target.matches(".modal-actions .btn:not(.btn-secondary)")?y.bus.publish("group:save"):(u.target.matches(".btn-secondary")||u.target.closest(".modal-close-btn"))&&tr()}),i.addEventListener("click",u=>{if(u.target.matches(".stepper-btn")){const c=u.target.parentElement.querySelector('input[type="number"]');if(!c)return;let o=parseInt(c.value,10)+parseInt(u.target.dataset.step,10);o=Math.max(c.min,Math.min(c.max,o)),c.value=o}})),document.getElementById("group-flow-select")?.addEventListener("change",mS),console.log("✅ Group UI Initialized (Studio listener removed).")}let Vc=null;function pS(i,u,c){const o=document.createElement("div");o.className=`item memory-item ${u?"":"inactive"}`,o.dataset.name=i.name,o.dataset.memoryIndex=c;const d=Yg([{label:"Edit...",action:"memory:edit",data:{index:c}},{label:"Delete",action:"memory:delete",data:{index:c},isDestructive:!0}]),p=document.createElement("div");p.className=`memory-toggle ${u?"active":""}`,p.title=`Click to ${u?"deactivate":"activate"}`,p.onclick=g=>{g.stopPropagation(),y.bus.publish("memory:toggle",{name:i.name})};const b=document.createElement("span");b.className="item-name",b.textContent=i.name;const h=document.createElement("div");return h.className="item-header",h.appendChild(p),h.appendChild(b),h.appendChild(d),o.appendChild(h),o}function hS(i){if(!i)return;const u=y.getProject();if(!u)return;const c=document.createElement("details");c.className="collapsible-section memory-section",c.open=!0;const o=document.createElement("summary");o.className="section-header",o.innerHTML="<h3>🧠 Command Memories</h3>";const r=[{label:"New Memory...",action:"memory:create"},{label:"Export Package...",action:"memory:exportPackage"},{label:"Import Package...",action:"memory:importPackage"}];o.appendChild(Yg(r)),c.appendChild(o);const d=document.createElement("div");d.className="section-box",c.appendChild(d);const p=u.agentPresets?.[u.activeEntity?.name];if(!p)d.innerHTML='<p class="no-items-message">Select an Agent to see memories.</p>';else{d.innerHTML=`
            <details id="active-memories-details" open><summary>Active Memories</summary><div id="activeMemoriesList" class="item-list"></div></details>
            <details id="inactiveMemoriesSection" open><summary>Inactive Memories</summary><div id="inactiveMemoriesList" class="item-list"></div></details>
        `;const b=d.querySelector("#activeMemoriesList"),h=d.querySelector("#inactiveMemoriesList"),g=p.activeMemories||[];(u.memories||[]).forEach((O,x)=>{const N=g.includes(O.name);(N?b:h).appendChild(pS(O,N,x))}),Vc&&Vc.destroy(),Vc=new Sortable(b,{animation:150,onEnd:O=>{const x=y.getProject().agentPresets[y.getProject().activeEntity.name];if(!x)return;const N=O.item.dataset.name;x.activeMemories.splice(O.oldDraggableIndex,1),x.activeMemories.splice(O.newDraggableIndex,0,N),y.bus.publish("studio:contentShouldRender")}})}i.appendChild(c)}function Ng(i=null){const u=y.getProject(),c=document.getElementById("memory-editor-modal");if(!c)return;const o=u.memories||[];if(i!==null&&o[i]){const r=o[i];console.log("Editing memory at",i,r),c.querySelector("#memory-modal-title").textContent="Edit Memory",c.querySelector("#memory-name-input").value=r.name,c.querySelector("#memory-content-input").value=r.content,c.querySelector("#memory-edit-index").value=i}else console.log("Create new memory",i,o),c.querySelector("#memory-modal-title").textContent="Create New Memory",c.querySelector("#memory-name-input").value="",c.querySelector("#memory-content-input").value="",c.querySelector("#memory-edit-index").value="";c.style.display="flex"}function Lg(){document.getElementById("memory-editor-modal").style.display="none"}function yS(){y.bus.subscribe("memory:editorShouldClose",Lg);const i=document.getElementById("memory-editor-modal");i&&i.addEventListener("click",u=>{const c=u.target;c.matches(".modal-actions .btn:not(.btn-secondary)")&&y.bus.publish("memory:save"),(c.matches(".btn-secondary")||c.closest(".modal-close-btn")||c===i)&&Lg()})}function vS(){const i=y.getProject();if(!i||!i.agentPresets)return[];const u=document.getElementById("asset-search-input")?.value.toLowerCase()||"",c=document.getElementById("asset-sort-select")?.value||"modified-desc";let o=Object.entries(i.agentPresets).map(([r,d])=>({name:r,...d}));return u&&(o=o.filter(r=>[r.name,r.id,r.description,r.model,...r.tags||[]].join(" ").toLowerCase().includes(u))),o.sort((r,d)=>{switch(c){case"modified-desc":return d.modifiedAt-r.modifiedAt;case"modified-asc":return r.modifiedAt-d.modifiedAt;case"created-desc":return d.createdAt-r.createdAt;case"created-asc":return r.createdAt-d.createdAt;case"name-asc":return r.name.localeCompare(d.name);case"name-desc":return d.name.localeCompare(r.name);default:return 0}}),o}function bS(i){const u=i.target.files[0];if(!u)return;const c=new FileReader;c.onload=o=>{try{const r=JSON.parse(o.target.result);if(typeof r!="object"||r===null||Array.isArray(r))throw new Error("Invalid file format. Expected a JSON object of agents.");const d=y.getProject();let p=0,b=0;for(const h in r)d.agentPresets[h]?confirm(`Agent "${h}" already exists. Overwrite?`)&&(d.agentPresets[h]=r[h],b++):(d.agentPresets[h]=r[h],p++);y.setProject(d),y.updateAndPersistState(),y.bus.publish("studio:contentShouldRender"),V(`Import complete! Added: ${p}, Overwritten: ${b}.`,"Success")}catch(r){console.error("Failed to import agents:",r),V(`Error importing agents: ${r.message}`,"Error")}},c.readAsText(u),i.target.value=""}function cl(){const i=document.querySelector("#studio-panel .studio-assets-container");if(!i)return;i.innerHTML="";const u=vS();xb(i,u),dS(i),hS(i)}function SS(){const i=document.getElementById("studio-panel");if(!i||i.dataset.listenerAttached==="true")return;i.dataset.listenerAttached="true",i.addEventListener("click",r=>{const d=r.target,p=d.closest(".memory-toggle");if(p){r.stopPropagation();const g=p.closest(".item[data-name]");g&&y.bus.publish("memory:toggle",{name:g.dataset.name});return}const b=d.closest("[data-action]");if(b){r.preventDefault(),r.stopPropagation();const g=b.dataset.action;let O={...d.closest(".item")?.dataset};if(b.dataset.data)try{const x=JSON.parse(b.dataset.data);Object.assign(O,x)}catch(x){console.error("Failed to parse data attribute JSON",x)}g==="toggle-menu"?_i(r):(y.bus.publish(g,O),b.closest(".dropdown.open")?.classList.remove("open"));return}const h=d.closest(".item");if(h){r.preventDefault();const{agentName:g,groupName:A}=h.dataset;g?y.bus.publish("studio:itemClicked",{type:"agent",name:g}):A&&y.bus.publish("studio:itemClicked",{type:"group",name:A});return}});const u=document.getElementById("asset-search-input"),c=document.getElementById("asset-sort-select");u?.addEventListener("input",cl),c?.addEventListener("change",cl),document.getElementById("import-agents-input")?.addEventListener("change",bS),y.bus.subscribe("project:loaded",cl),y.bus.subscribe("studio:contentShouldRender",cl),y.bus.subscribe("entity:selected",cl),y.bus.subscribe("entity:staged",cl),console.log("✅ Studio UI Initialized with definitive, robust event listeners.")}async function ES(){const i=document.getElementById("enhancer-prompt-input").value.trim();if(!i){V("Please describe the agent you want to create or enhance.","Error");return}const u=y.getProject().globalSettings.systemUtilityAgent;if(!u||!u.model){V("System Utility Model not configured in Settings.","Error");return}const c=document.getElementById("generate-agent-profile-btn");c&&c.classList.add("is-loading"),y.bus.publish("agent:enhancerStatus",{text:"Processing request...",color:"var(--text-dark)"});try{const o=!!y.getState().editingAgentName;let r="";o?r=`You are an expert in refining LLM system prompts. Your task is to modify an existing system prompt based on a user's new request. Do not replace the original prompt, but integrate the new instruction into it cohesively. Respond ONLY with the new, complete, and modified system prompt as a single block of text.

            EXISTING PROMPT:
            ---
            ${document.getElementById("agent-system-prompt").value}
            ---

            USER'S MODIFICATION REQUEST:
            ---
            ${i}
            ---

            NEW, MODIFIED SYSTEM PROMPT:`:r=`You are an expert in designing LLM agent profiles. Based on the user's request, create a complete agent profile.
            Your response MUST be ONLY a single, valid JSON object with these exact keys:
            - "agent_name": string
            - "agent_icon": string (a single emoji)
            - "system_prompt": string
            - "temperature": number (between 0 and 2)
            - "top_p": number (between 0 and 1)
            - "top_k": integer (0 or higher)
            - "max_tokens": integer (e.g., 4096)
            - "frequency_penalty": number (between -2 and 2)
            - "presence_penalty": number (between -2 and 2)
            - "seed": integer (-1 for random)

            User's Request: "${i}"`;const d=await Iy(u,[{role:"user",content:r}]);if(!d||typeof d.content!="string")throw new Error("Received an invalid or empty response from the AI.");if(o)y.bus.publish("agent:promptEnhanced",{newPrompt:d.content}),y.bus.publish("agent:enhancerStatus",{text:"Prompt enhanced successfully!",color:"var(--success-color)"});else{const p=d.content.match(/{.*}/s);if(!p)throw new Error("LLM did not return a valid JSON object.");const b=JSON.parse(p[0]);y.bus.publish("agent:profileGenerated",b),y.bus.publish("agent:enhancerStatus",{text:"Profile generated successfully!",color:"var(--success-color)"})}}catch(o){console.error("Agent Profile Generation/Enhancement Error:",o);const r=`Error: ${o.message}`;y.bus.publish("agent:enhancerStatus",{text:r,color:"var(--error-color)"}),V(r,"Profile Generation Failed")}finally{c&&c.classList.remove("is-loading"),setTimeout(()=>y.bus.publish("agent:enhancerStatus",{text:""}),5e3)}}function AS(){const i=y.getProject(),u=y.getState().editingAgentName,c=document.getElementById("agent-name-input").value.trim();if(!c){V("Please enter a name for the agent.","Error");return}if(u!==c&&i.agentPresets[c]){V(`An agent named '${c}' already exists.`,"Error");return}if(!document.getElementById("agent-model-select").value){V("You must select a model for the agent before saving.","Model Required");const g=document.getElementById("agent-model-search-wrapper");g&&(g.classList.add("has-warning"),setTimeout(()=>g.classList.remove("has-warning"),2e3));return}const r={icon:document.getElementById("agent-icon-button").textContent,description:document.getElementById("agent-description").value,model:document.getElementById("agent-model-select").value,systemPrompt:document.getElementById("agent-system-prompt").value,useMarkdown:document.getElementById("agent-use-markdown").checked,enableWebSearch:document.getElementById("agent-enable-web-search").checked,profilePicture:document.getElementById("agent-profile-picture-preview").src,tags:Array.from(document.querySelectorAll("#agent-tags-container .tag-pill")).map(g=>g.dataset.tag),activeMemories:Array.from(document.querySelectorAll("#agent-memory-list .item input:checked")).map(g=>g.closest(".item").dataset.memoryName)},d=y.getState().activeParameterEditor,p=d?d.getValues():{},b={...r,...p},h=u&&i.agentPresets[u]?{...i.agentPresets[u]}:{...so,id:`agent_${Date.now()}`,createdBy:UserService.getCurrentUserProfile().userName,createdAt:Date.now()};h.modifiedAt=Date.now(),h.createdBy=document.getElementById("agent-created-by-input").value,Object.assign(h,b),u&&u!==c&&delete i.agentPresets[u],i.agentPresets[c]=h,(!u||i.activeEntity&&i.activeEntity.name===u)&&(i.activeEntity={type:"agent",name:c}),y.setProject(i),y.updateAndPersistState(),y.bus.publish("studio:contentShouldRender"),y.bus.publish("agent:editorShouldClose")}function TS(i){const u=y.getProject();if(!i||Object.keys(u.agentPresets).length<=1){V("Cannot delete the last agent.","Error");return}confirm(`Are you sure you want to delete the agent '${i}'? This action cannot be undone.`)&&(delete u.agentPresets[i],Object.values(u.agentGroups).forEach(c=>{c.agents=c.agents.filter(o=>o!==i),c.moderatorAgent===i&&(c.moderatorAgent=c.agents[0]||"")}),u.chatSessions.forEach(c=>{c.linkedEntity?.type==="agent"&&c.linkedEntity.name===i&&(c.linkedEntity={type:"agent",name:Object.keys(u.agentPresets)[0]})}),u.activeEntity.type==="agent"&&u.activeEntity.name===i&&(u.activeEntity={type:"agent",name:Object.keys(u.agentPresets)[0]}),y.setProject(u),y.updateAndPersistState(),y.bus.publish("agent:listChanged"),y.bus.publish("entity:selected",u.activeEntity))}function MS({name:i}){const u=y.getProject(),c=u.activeEntity?.name;if(!c)return;const o=u.agentPresets[c];if(!o)return;o.activeMemories||(o.activeMemories=[]),o.activeMemories.includes(i)?o.activeMemories=o.activeMemories.filter(d=>d!==i):o.activeMemories.push(i),y.updateAndPersistState(),y.bus.publish("studio:contentShouldRender")}function DS(){const i=y.getProject(),u=document.getElementById("memory-name-input").value.trim(),c=document.getElementById("memory-content-input").value,o=document.getElementById("memory-edit-index").value;if(!u){V("Memory name cannot be empty.","Error");return}if(o!==""){const r=i.memories[o].name;i.memories[o]={name:u,content:c},Object.values(i.agentPresets).forEach(d=>{if(d.activeMemories){const p=d.activeMemories.indexOf(r);p>-1&&(d.activeMemories[p]=u)}})}else{if(i.memories.some(r=>r.name===u)){V(`A memory named "${u}" already exists.`,"Error");return}i.memories.push({name:u,content:c})}y.setProject(i),y.updateAndPersistState(),y.bus.publish("memory:editorShouldClose"),y.bus.publish("studio:contentShouldRender"),V(`Memory "${u}" saved successfully.`,"Success")}function _S({index:i}){if(!confirm("Are you sure you want to permanently delete this memory? This cannot be undone."))return;const u=y.getProject();if(!u.memories[i])return;const c=u.memories[i].name;u.memories.splice(i,1),Object.values(u.agentPresets).forEach(o=>{o.activeMemories&&(o.activeMemories=o.activeMemories.filter(r=>r!==c))}),y.setProject(u),y.updateAndPersistState(),y.bus.publish("studio:contentShouldRender")}function OS(){const u={memories:y.getProject().memories},c=JSON.stringify(u,null,2),o=new Blob([c],{type:"application/json"}),r=URL.createObjectURL(o),d=document.createElement("a");d.href=r,d.download=`promptprim_memories_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(r)}function CS(i){const u=i.target.files[0];if(!u)return;const c=new FileReader;c.onload=o=>{try{const r=JSON.parse(o.target.result);if(r&&Array.isArray(r.memories)){const d=y.getProject(),p=new Set(d.memories.map(h=>h.name)),b=r.memories.filter(h=>!p.has(h.name));d.memories.push(...b),y.setProject(d),y.updateAndPersistState(),y.bus.publish("studio:contentShouldRender"),V("Memory package imported successfully!","Success")}else throw new Error("Invalid memory package file.")}catch(r){V(`Error loading memory package: ${r.message}`,"Error")}},c.readAsText(u),i.target.value=""}async function wS(){const i=y.getProject(),u=i.chatSessions.find(d=>d.id===i.activeSessionId);if(!u)return;const c=document.getElementById("summary-model-value").value;if(!c){V("Please select a model for summarization in the Settings tab.","Error");return}const o={...i.globalSettings.systemUtilityAgent,model:c},r=u.history.filter(d=>d.role==="user"||d.role==="assistant");if(r.length===0){V("Not enough messages to summarize.","Info");return}Rg(!0);try{const d=r.map(g=>`${g.speaker||g.role}: ${Array.isArray(g.content)?g.content.find(A=>A.type==="text")?.text||"[multimodal content]":g.content}`).join(`
`),b=document.getElementById("summary-modal-prompt-textarea").value.replace(/\$\{previousSummary\}/g,"This is a full-history summary from the beginning.").replace(/\$\{newMessages\}/g,d),h=await $y(o,[{role:"user",content:b}]);if(!h||typeof h.content!="string")throw new Error("Received an invalid or empty response from the AI summarizer.");document.getElementById("summary-editor-title").value=`Summary of "${u.name}" at ${new Date().toLocaleTimeString()}`,document.getElementById("summary-editor-content").value=h.content,yp("new")}catch(d){V(`Summarization Failed: ${d.message}`,"Error")}finally{Rg(!1)}}function jS(){const i=y.getProject(),u=i.chatSessions.find(p=>p.id===i.activeSessionId),c=document.getElementById("summary-editor-title").value.trim(),o=document.getElementById("summary-editor-content").value.trim();if(!c||!o){V("Title and content cannot be empty.","Error");return}const r={id:`sum_${Date.now()}`,summary:c,content:o,timestamp:Date.now(),sourceSessionId:u.id};i.summaryLogs||(i.summaryLogs=[]),i.summaryLogs.push(r);const d={role:"system",content:`[Conversation summarized: "${c}"]`,isSummaryMarker:!0,summaryLogId:r.id};u.history.push(d),y.updateAndPersistState(),V("New summary log saved!","Success"),hl(r.id),y.bus.publish("ui:renderMessages")}function xS({logId:i,title:u,content:c}){if(!i||!u||!c)return;const r=y.getProject().summaryLogs.find(d=>d.id===i);r&&(r.summary=u,r.content=c,y.updateAndPersistState(),V("Changes saved!","Success"),pr())}function zS({logId:i}){if(!confirm("Are you sure you want to delete this summary log?"))return;const u=y.getProject();u.summaryLogs=u.summaryLogs.filter(c=>c.id!==i),u.chatSessions.forEach(c=>{c.summaryState?.activeSummaryId===i&&(c.summaryState.activeSummaryId=null)}),y.updateAndPersistState(),V("Log deleted.","Success"),hl(null)}function US({logId:i}){const u=y.getProject(),c=u.chatSessions.find(d=>d.id===u.activeSessionId),o=u.summaryLogs.find(d=>d.id===i);if(!c||!o)return;c.summaryState={activeSummaryId:o.id};const r={role:"system",content:`[System: Context loaded from summary: "${o.summary}"]`,isSummary:!0};c.history.push(r),y.updateAndPersistState(),y.bus.publish("ui:renderMessages"),lr(),V("Summary loaded into context!","Success")}function gr(){const u=document.getElementById("summary-modal-preset-select").value;if(u==="custom")return;const c=y.getProject(),o={...Sn,...c.globalSettings.summarizationPromptPresets};o[u]&&(document.getElementById("summary-modal-prompt-textarea").value=o[u],y.bus.publish("ui:renderSummarizationSelector"),y.bus.publish("ui:updateSummaryActionButtons"))}async function BS({saveAs:i}){const u=document.getElementById("summary-modal-preset-select"),c=document.getElementById("summary-modal-prompt-textarea").value.trim();if(!c)return;let o=u.value;const r=Sn.hasOwnProperty(o);if((i||r||o==="custom")&&(o=prompt("Enter a name for this preset:",r?`${o} (Copy)`:"My Custom Prompt"),!o||!o.trim()))return;const d=y.getProject(),p=o.trim();d.globalSettings.summarizationPromptPresets[p]&&p!==u.value&&!confirm(`A preset named '${p}' already exists. Overwrite?`)||(d.globalSettings.summarizationPromptPresets[p]=c,y.setProject(d),await y.updateAndPersistState(),y.bus.publish("ui:renderSummarizationSelector"),setTimeout(()=>{const b=document.getElementById("summary-modal-preset-select");b&&(b.value=p),y.bus.publish("ui:updateSummaryActionButtons")},50),V(`Preset '${p}' saved!`,"Success"))}async function NS(){const u=document.getElementById("summary-modal-preset-select").value;if(!Sn.hasOwnProperty(u)&&confirm(`Delete user preset "${u}"?`)){const c=y.getProject();delete c.globalSettings.summarizationPromptPresets[u],document.getElementById("summary-modal-prompt-textarea").value=Sn.Standard,y.setProject(c),await y.updateAndPersistState(),y.bus.publish("ui:renderSummarizationSelector"),V(`Preset '${u}' deleted.`,"Success")}}async function LS(){const u=document.getElementById("summary-modal-preset-select").value;if(Sn.hasOwnProperty(u)||u==="custom")return;const c=prompt(`Enter new name for "${u}":`,u);if(!c||!c.trim()||c.trim()===u)return;const o=y.getProject(),r=c.trim();if(o.globalSettings.summarizationPromptPresets[r]){V(`A preset named '${r}' already exists.`,"Error");return}o.globalSettings.summarizationPromptPresets[r]=o.globalSettings.summarizationPromptPresets[u],delete o.globalSettings.summarizationPromptPresets[u],y.setProject(o),await y.updateAndPersistState(),y.bus.publish("ui:renderSummarizationSelector"),setTimeout(()=>{document.getElementById("summary-modal-preset-select").value=r,y.bus.publish("ui:updateSummaryActionButtons")},50),V(`Preset renamed to '${r}'!`,"Success")}function RS({logId:i,messageIndex:u}){if(!confirm("Are you sure you want to delete this summary log? This will also remove the marker from the chat."))return;const c=y.getProject();c.summaryLogs=c.summaryLogs.filter(r=>r.id!==i);const o=c.chatSessions.find(r=>r.id===c.activeSessionId);o&&(o.history=o.history.filter(r=>r.summaryLogId!==i)),c.chatSessions.forEach(r=>{r.summaryState?.activeSummaryId===i&&(r.summaryState.activeSummaryId=null)}),y.updateAndPersistState(),V("Log deleted.","Success"),y.bus.publish("ui:renderMessages"),hl(null)}let vn=null;function hp(){const i=document.getElementById("summarization-modal");if(!i)return;const u=i.querySelector("#summary-modal-preset-select"),c=i.querySelector("#summary-modal-preset-actions .dropdown-content");if(!u||!c)return;c.innerHTML="";const o=u.options[u.selectedIndex];if(!o)return;const r=Sn.hasOwnProperty(o.value),d=o.value==="custom",p=(b,h,g={})=>{const A=document.createElement("a");return A.href="#",A.textContent=b,A.dataset.action=h,g.saveAs&&(A.dataset.saveAs="true"),A};if(d||r)c.appendChild(p(r?"Save as a Copy...":"Save as New Preset...","settings:saveSummaryPreset",{saveAs:!0}));else{c.appendChild(p("Save Changes","settings:saveSummaryPreset")),c.appendChild(p("Rename...","settings:renameSummaryPreset")),c.appendChild(p("Save as New Preset...","settings:saveSummaryPreset",{saveAs:!0})),c.appendChild(document.createElement("div")).className="dropdown-divider";const b=p("Delete Preset","settings:deleteSummaryPreset");b.classList.add("is-destructive"),c.appendChild(b)}}function nr(){const i=y.getProject();if(!i||!i.globalSettings)return;const u=document.querySelector("#summarization-modal #summary-modal-preset-select");if(!u)return;const c=i.globalSettings.summarizationPromptPresets||{},o=u.value;u.innerHTML="";const r=document.createElement("optgroup");r.label="Factory Presets",u.appendChild(r);const d=document.createElement("optgroup");d.label="User Presets",u.appendChild(d);let p=!1;for(const b in c){const h=new Option(b,b);Sn.hasOwnProperty(b)?r.appendChild(h):(d.appendChild(h),p=!0)}p||d.remove(),c[o]?u.value=o:(u.value="Standard",gr()),hp()}function HS(i){const u=document.createElement("div");return u.className="item summary-log-item",u.dataset.logId=i.id,i.id===vn&&u.classList.add("active"),u.innerHTML=`<span class="item-name"><span class="item-icon">💡</span> ${i.summary}</span>`,u.title=`Created: ${new Date(i.timestamp).toLocaleString()}`,u}function yp(i){const u=document.getElementById("summary-editor-actions"),c=document.getElementById("summarize-conversation-btn");!u||!c||(u.classList.remove("hidden"),c.classList.add("hidden"),u.querySelector("#summary-editor-delete-btn").style.display=i==="existing"?"inline-flex":"none",u.querySelector("#summary-editor-load-btn").style.display=i==="existing"?"inline-flex":"none",u.querySelector("#summary-editor-save-btn").textContent=i==="existing"?"Save Changes":"Save New Log")}function vp(){const i=document.getElementById("summarization-modal");if(!i)return;const u=i.querySelector("#summary-editor-actions"),c=i.querySelector("#summarize-conversation-btn");i.querySelector(".tab-btn.active")?.dataset.tab==="settings"?(u.classList.add("hidden"),c.classList.add("hidden")):vn?(u.classList.remove("hidden"),c.classList.add("hidden")):(u.classList.add("hidden"),c.classList.remove("hidden"))}function hl(i){vn=i;const c=y.getProject().summaryLogs.find(o=>o.id===i);document.getElementById("summary-editor-title").value=c?c.summary:"",document.getElementById("summary-editor-content").value=c?c.content:"",c?yp("existing"):(document.getElementById("summary-editor-actions").classList.add("hidden"),document.getElementById("summarize-conversation-btn").classList.remove("hidden")),pr()}function pr(){const i=document.getElementById("summary-log-list-modal");if(!i)return;const u=y.getProject();i.innerHTML="";const c=u.summaryLogs||[];if(c.length===0){i.innerHTML='<p class="no-items-message">No summaries yet.</p>';return}const o=c.reduce((r,d)=>{const p=d.sourceSessionId,b=u.chatSessions.find(h=>h.id===p);return r[p]||(r[p]={name:b?b.name:"Unknown Session",logs:[]}),r[p].logs.push(d),r},{});Object.values(o).forEach(r=>{const d=r.logs.sort((b,h)=>h.timestamp-b.timestamp),p=document.createElement("details");p.open=!0,p.innerHTML=`<summary>For: ${r.name}</summary>`,d.forEach(b=>p.appendChild(HS(b))),i.appendChild(p)})}function ar(){const i=document.getElementById("summarization-modal");if(!i)return;i.querySelectorAll(".tab-btn, .tab-content").forEach(r=>r.classList.remove("active")),i.querySelector('.tab-btn[data-tab="logs"]')?.classList.add("active"),i.querySelector('.tab-content[data-tab-content="logs"]')?.classList.add("active"),hl(null),pr(),nr(),gr(),vp();const u=Iu(),o=y.getProject().globalSettings.systemUtilityAgent?.model;Gg("summary-model-wrapper",o,u),i.style.display="flex"}function lr(){const i=document.getElementById("summarization-modal");i&&(i.style.display="none")}function Rg(i){const u=document.getElementById("summarize-conversation-btn");u&&u.classList.toggle("is-loading",i)}function qS(){const i=document.getElementById("summarization-modal");if(!i)return;i.querySelector("#summary-modal-close-btn")?.addEventListener("click",lr),i.querySelector(".modal-close-btn")?.addEventListener("click",lr),i.querySelector("#summarize-conversation-btn")?.addEventListener("click",wS),i.querySelector("#summary-editor-save-btn")?.addEventListener("click",()=>{vn?xS({logId:vn,title:document.getElementById("summary-editor-title").value,content:document.getElementById("summary-editor-content").value}):jS()}),i.querySelector("#summary-editor-delete-btn")?.addEventListener("click",()=>{vn&&zS({logId:vn})}),i.querySelector("#summary-editor-load-btn")?.addEventListener("click",()=>{vn&&US({logId:vn})}),i.querySelector(".tab-buttons")?.addEventListener("click",o=>{if(o.target.matches(".tab-btn")){const r=o.target.dataset.tab;i.querySelectorAll(".tab-btn, .tab-content").forEach(d=>d.classList.remove("active")),o.target.classList.add("active"),i.querySelector(`.tab-content[data-tab-content="${r}"]`)?.classList.add("active"),vp()}}),i.querySelector("#summary-log-list-modal")?.addEventListener("click",o=>{const r=o.target.closest(".summary-log-item[data-log-id]");r&&hl(r.dataset.logId)}),i.querySelector("#summary-modal-preset-select")?.addEventListener("change",()=>{gr()}),i.querySelector("#summary-modal-prompt-textarea")?.addEventListener("input",()=>{nr()});const u=i.querySelector("#summary-modal-preset-actions");u&&u.addEventListener("click",o=>{const r=o.target.closest("a[data-action], button[data-action]");if(!r)return;o.preventDefault(),o.stopPropagation();const d=r.dataset.action;if(d==="toggle-menu")_i(o);else{const p=r.dataset.saveAs==="true";d==="settings:saveSummaryPreset"?BS({saveAs:p}):d==="settings:renameSummaryPreset"?LS():d==="settings:deleteSummaryPreset"&&NS(),r.closest(".dropdown.open")?.classList.remove("open")}});const c=document.getElementById("summary-model-value");c&&c.addEventListener("change",o=>{const r=o.target.value;if(r){const d=y.getProject();d&&d.globalSettings.systemUtilityAgent&&(d.globalSettings.systemUtilityAgent.model=r,y.updateAndPersistState(),console.log(`Summary/System model updated to: ${r}`))}}),y.bus.subscribe("ui:renderSummarizationSelector",nr),y.bus.subscribe("ui:updateSummaryActionButtons",hp),y.bus.subscribe("app:settingsChanged",()=>{i&&i.style.display==="flex"&&ar()}),console.log("✅ Summarization Center UI Initialized.")}function GS(i){(void 0)({openrouterKey:i}),y.bus.publish("api:loadModels")}function YS(i){(void 0)({ollamaBaseUrl:i})}function XS(i){const u=i.target.files[0];if(!u)return;const c=new FileReader;c.onload=o=>{try{const r=JSON.parse(o.target.result);if(r&&r.userProfile&&r.appSettings&&r.modelPresets)confirm("This will overwrite your current settings and reload the application. Are you sure?")&&(localStorage.setItem("promptPrimUserSettings_v1",JSON.stringify(r)),V("Settings imported! The app will now reload.","Success"),setTimeout(()=>window.location.reload(),1500));else throw new Error("Invalid settings file format.")}catch(r){V(`Error importing settings: ${r.message}`,"Error")}},c.readAsText(u),i.target.value=""}function Kc(){const i=ba();if(!i)return;const u=document.querySelector("#user-profile-menu .user-name"),c=document.querySelector("#user-profile-menu .user-plan"),o=document.getElementById("user-userCredits"),r=o?.querySelector("span:last-child"),d=document.querySelector("#user-profile-btn span");if(d&&i.userName&&(d.textContent=i.userName.charAt(0).toUpperCase()),u&&(u.textContent=i.userName||"User"),c){let p="Unknown",b="status-blocked";i.plan==="master"?(p=i.planStatus==="active"?"Master Plan":"Subscription Expired",b=i.planStatus==="active"?"status-master":"status-blocked"):i.plan==="pro"?i.planStatus==="active"&&i.credits.current>0?(p="Pro Plan",b="status-active"):i.planStatus==="grace_period"?(p="Pro (Grace Period)",b="status-grace"):(p="Account Blocked",b="status-blocked"):i.plan==="free"&&(p=i.credits.current>0?"Free Plan":"Credits Depleted",b=i.credits.current>0?"status-free":"status-blocked"),c.textContent=p,c.className=`user-plan ${b}`}if(o&&r)if(i.plan==="master")o.style.display="none";else{o.style.display="flex";const p=Xg(i.credits?.current??0);r.textContent=`$${p.toFixed(2)}`}}function QS(){const i=document.querySelector(".user-profile-container"),u=document.getElementById("user-switcher-modal");!i||!u||(i.addEventListener("click",c=>{const o=c.target.closest("[data-action]");if(!o)return;const r=o.dataset.action;switch(r!=="toggle-menu"&&c.preventDefault(),r){case"toggle-menu":_i(c);break;case"user:account":y.bus.publish("ui:showAccountModal"),i.classList.remove("open");break;case"user:settings":Fy(),i.classList.remove("open");break;case"user:logout":u.style.display="flex",i.classList.remove("open");break}}),u.addEventListener("click",c=>{const o=c.target,r=o.closest("button[data-user-id]");if(r){const d=r.dataset.userId;Wy(d),V(`Switched to ${d}. The app will now reload.`,"Success"),u.style.display="none",setTimeout(()=>window.location.reload(),1500)}(o.matches(".modal-close-btn")||o===u)&&(u.style.display="none")}),ev("theme-switcher-dropdown"),y.bus.subscribe("user:settingsLoaded",Kc),y.bus.subscribe("user:settingsUpdated",Kc),Kc())}function ZS(i){const u=ba();u&&confirm(`Are you sure you want to switch to the ${i} plan?`)&&(console.log(`HANDLER: Changing plan for ${u.userId} to ${i}`),tv(u.userId,i),V(`Successfully switched to ${i} plan!`,"Success"))}function VS(i){const u=ba();u&&(console.log(`HANDLER: Refilling $${i} for ${u.userId}`),nv(u.userId,i),V(`Successfully added credits worth $${i}!`,"Success"))}const va=document.getElementById("account-modal"),Pc=document.getElementById("account-modal-body");function KS(){va&&(bp(),va.style.display="flex")}function PS(){va&&(va.style.display="none")}function bp(){const i=ba();if(!Pc||!i){Pc.innerHTML="<p>Could not load user data.</p>";return}let u="";i.plan==="free"?u='<button class="btn" data-action="switch-plan" data-plan="pro">Upgrade to Pro</button>':i.plan==="pro"?u=`
            <button class="btn btn-secondary" data-action="switch-plan" data-plan="free">Downgrade to Free</button>
            <button class="btn" data-action="switch-plan" data-plan="master">Upgrade to Master</button>
        `:i.plan==="master"&&(u=`
            <button class="btn btn-secondary" data-action="switch-plan" data-plan="pro">Downgrade to Pro</button>
        `);const o=[10,30,50,100].map(d=>`<button class="btn btn-small btn-secondary" data-action="refill" data-amount="${d}">$${d}</button>`).join(""),r=Xg(i.credits.current);Pc.innerHTML=`
        <div class="user-detail-grid">
            <div>
                <div class="form-group">
                    <label>Username</label>
                    <input type="text" value="${i.userName}" readonly>
                </div>
                 <div class="form-group">
                    <label>Current Plan</label>
                    <input type="text" value="${i.plan.charAt(0).toUpperCase()+i.plan.slice(1)}" readonly>
                </div>
                <div class="form-group">
                    <label>Credits</label>
                    <input type="text" value="${Math.floor(i.credits.current).toLocaleString()}" readonly>
                </div>
                <div class="form-group">
                    <label>Balance</label> 
                    <input type="text" value="$${r.toFixed(2)}" readonly>
                </div>
            </div>
            <div>
                <div class="form-group">
                    <label>Change Plan</label>
                    <div>${u||"<p>No plan changes available.</p>"}</div>
                </div>
                <div class="form-group">
                    <label>Refill Credits (USD)</label>
                    <div class="refill-presets">${i.plan==="master"?"<p>Not applicable.</p>":o}</div>
                </div>
            </div>
        </div>
    `}function kS(){y.bus.subscribe("ui:showAccountModal",KS),va?.addEventListener("click",i=>{if(i.target.matches(".modal-close-btn")){PS();return}const c=i.target.closest("[data-action]");if(!c)return;const o=c.dataset.action;o==="switch-plan"?ZS(c.dataset.plan):o==="refill"&&VS(parseInt(c.dataset.amount,10))}),y.bus.subscribe("user:settingsUpdated",()=>{va&&va.style.display==="flex"&&bp()})}const oo=new marked.Renderer,JS=oo.link;oo.link=(i,u,c)=>JS.call(oo,i,u,c).replace(/^<a /,'<a target="_blank" rel="noopener noreferrer" ');marked.setOptions({renderer:oo,gfm:!0,breaks:!1});function IS(){window.addEventListener("storage",i=>{i.key==="promptPrimUserDatabase_v1"&&mv()})}function $S(){const i=y.bus;i.subscribe("project:new",Ic),i.subscribe("project:open",hb),i.subscribe("project:fileSelectedForOpen",yb),i.subscribe("project:save",u=>$g(u)),i.subscribe("project:saveConfirm",({projectName:u})=>Fg(u)),i.subscribe("project:unsavedChangesChoice",bb),i.subscribe("session:new",Jg),i.subscribe("session:loaded",({session:u})=>{gv(u.name),pv(),kc(),gl(),y.bus.publish("entity:selected",u.linkedEntity)}),i.subscribe("session:cleared",()=>{hv(),nb(),gl()}),i.subscribe("session:autoRename",mb),i.subscribe("session:rename",u=>ib(u)),i.subscribe("session:clone",({sessionId:u,event:c})=>sb(u,c)),i.subscribe("session:archive",({sessionId:u,event:c})=>cb(u,c)),i.subscribe("session:pin",({sessionId:u,event:c})=>ob(u,c)),i.subscribe("session:delete",u=>ub(u)),i.subscribe("session:download",({sessionId:u})=>rb({sessionId:u})),i.subscribe("agent:create",()=>Mg(!1)),i.subscribe("agent:save",AS),i.subscribe("agent:edit",({agentName:u})=>Mg(!0,u)),i.subscribe("agent:delete",({agentName:u})=>TS(u)),i.subscribe("agent:generateProfile",ES),i.subscribe("group:create",()=>Bg(!1)),i.subscribe("group:save",sS),i.subscribe("group:edit",({groupName:u})=>Bg(!0,u)),i.subscribe("group:delete",({groupName:u})=>cS({groupName:u})),i.subscribe("memory:create",()=>Ng(null)),i.subscribe("memory:save",DS),i.subscribe("memory:edit",({index:u})=>Ng(u)),i.subscribe("memory:delete",({index:u})=>_S({index:u})),i.subscribe("memory:toggle",u=>{MS(u)}),i.subscribe("memory:exportPackage",OS),i.subscribe("memory:importPackage",()=>{document.getElementById("load-memory-package-input").click()}),i.subscribe("studio:itemClicked",wb),i.subscribe("summary:view",({logId:u})=>(void 0)(u)),i.subscribe("summary:load",({logId:u})=>yv(u)),i.subscribe("summary:delete",({logId:u})=>vv(u)),i.subscribe("summary:editFromChat",({logId:u})=>{ar(),setTimeout(()=>hl(u),50)}),i.subscribe("summary:deleteFromChat",RS),i.subscribe("chat:clearSummaryContext",bv),i.subscribe("entity:select",({type:u,name:c})=>Cb(u,c)),i.subscribe("open-composer",()=>{y.bus.publish("ui:toggleComposer")}),i.subscribe("composer:heightChanged",fb),i.subscribe("chat:deleteMessage",u=>Sv(u)),i.subscribe("chat:sendMessage",Ev),i.subscribe("chat:stopGeneration",Av),i.subscribe("chat:editMessage",({index:u})=>Tv({index:u})),i.subscribe("chat:copyMessage",({index:u,event:c})=>Mv({index:u,event:c})),i.subscribe("chat:regenerateMessage",({index:u})=>Dv({index:u})),i.subscribe("chat:fileUpload",u=>cg(u)),i.subscribe("chat:filesSelected",u=>cg(u)),i.subscribe("chat:removeFile",({index:u})=>_v({index:u})),i.subscribe("chat:summarize",ar),i.subscribe("chat:clearSummary",Ov),i.subscribe("upload-file",()=>{document.getElementById("file-input")?.click()}),i.subscribe("api:loadModels",Di),i.subscribe("api:loadUserModels",({apiKey:u,ollamaBaseUrl:c,isUserKey:o})=>{Di({apiKey:u,ollamaBaseUrl:c,isUserKey:o})}),i.subscribe("settings:apiKeyChanged",GS),i.subscribe("settings:ollamaUrlChanged",YS),i.subscribe("settings:fontChanged",_b),i.subscribe("settings:systemAgentChanged",Ob),i.subscribe("group:manualSelectAgent",({agentName:u})=>{const c=y.getProject(),o=c.chatSessions.find(p=>p.id===c.activeSessionId),r=c.agentGroups[c.activeEntity.name];if(!o||!r)return;const d={type:"agent_turn",agentName:u};o.groupChatState.turnQueue.push(d),o.groupChatState.awaitsUserInput=!1,y.bus.publish("ui:renderAgentSelector"),Cv(c,o,r)}),console.log("✅ Central Event Bus ready.")}function FS(){uv(),Kv(),Qv(),ov(),sv(),Iv(),$v(),cv(),rv(),ab(),SS(),Bb(),gS(),yS(),fv(),qS(),dv(),QS(),kS(),document.getElementById("import-settings-input")?.addEventListener("change",XS),console.log("✅ All UI modules initialized.")}document.addEventListener("DOMContentLoaded",async()=>{const i=document.getElementById("loading-overlay");try{await av();const u=ba(),c=lv();await Di({apiKey:c.openrouterKey,ollamaBaseUrl:c.ollamaBaseUrl,isUserKey:!1}),u&&u.plan==="master"&&await Di({apiKey:u.apiSettings?.openrouterKey,ollamaBaseUrl:u.apiSettings?.ollamaBaseUrl,isUserKey:!0}),console.log("🚀 Application starting..."),FS(),IS(),$S(),pb(),document.getElementById("load-memory-package-input").addEventListener("change",CS);const o=localStorage.getItem("lastActiveProjectId");if(o){console.log(`Attempting to load last project with ID: ${o}`);try{await Ab(o)}catch(r){console.error(`[RECOVERY] Failed to load last project (ID: ${o}). This is likely due to corrupted data.`,r),alert("Could not load your last project due to an error. A new project will be created."),localStorage.removeItem("lastActiveProjectId"),console.log("[RECOVERY] Creating a new project as a fallback."),await Ic()}}else await Ic();i?.classList.remove("active"),console.log("🎉 Application initialized successfully.")}catch(u){console.error("[FATAL STARTUP ERROR]",u),i.querySelector("p").textContent=`A critical error occurred: ${u.message}`}});window.UserService=iv;
