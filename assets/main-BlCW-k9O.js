import{t as Di,s as y,g as Ju,d as kt,a as k,c as Ky,b as ky,e as Ti,f as Jy,S as ml,h as $y,o as ar,i as Bg,j as Iy,l as Mi,k as Fy,m as Wy,n as ba,p as ev,q as oo,r as tv,M as Rg,u as lr,v as nv,w as Hg,x as av,y as lv,z as iv,A as uv,B as qg,C as ov,D as sv,E as cv,F as rv,U as fv,G as dv,H as mv,I as gv,J as pv,K as hv,L as yv,N as vv,O as bv,P as Sv,Q as Ev,R as Av,T as Tv,V as Mv,W as Dv,X as _v,Y as jv,Z as Cv,_ as Ov,$ as og,a0 as xv,a1 as wv,a2 as zv}from"./core.theme-D6SgDKjV.js";function Gg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var jc={exports:{}},mi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function Nv(){if(sg)return mi;sg=1;var i=Symbol.for("react.transitional.element"),u=Symbol.for("react.fragment");function s(o,r,d){var p=null;if(d!==void 0&&(p=""+d),r.key!==void 0&&(p=""+r.key),"key"in r){d={};for(var b in r)b!=="key"&&(d[b]=r[b])}else d=r;return r=d.ref,{$$typeof:i,type:o,key:p,ref:r!==void 0?r:null,props:d}}return mi.Fragment=u,mi.jsx=s,mi.jsxs=s,mi}var cg;function Uv(){return cg||(cg=1,jc.exports=Nv()),jc.exports}var N=Uv(),Cc={exports:{}},ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg;function Lv(){if(rg)return ae;rg=1;var i=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),p=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),M=Symbol.iterator;function O(S){return S===null||typeof S!="object"?null:(S=M&&S[M]||S["@@iterator"],typeof S=="function"?S:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,V={};function le(S,L,X){this.props=S,this.context=L,this.refs=V,this.updater=X||B}le.prototype.isReactComponent={},le.prototype.setState=function(S,L){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,L,"setState")},le.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function xe(){}xe.prototype=le.prototype;function ce(S,L,X){this.props=S,this.context=L,this.refs=V,this.updater=X||B}var de=ce.prototype=new xe;de.constructor=ce,Y(de,le.prototype),de.isPureReactComponent=!0;var be=Array.isArray,ee={H:null,A:null,T:null,S:null,V:null},Se=Object.prototype.hasOwnProperty;function Me(S,L,X,G,K,he){return X=he.ref,{$$typeof:i,type:S,key:L,ref:X!==void 0?X:null,props:he}}function Q(S,L){return Me(S.type,L,void 0,void 0,void 0,S.props)}function re(S){return typeof S=="object"&&S!==null&&S.$$typeof===i}function Ue(S){var L={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(X){return L[X]})}var we=/\/+/g;function Ce(S,L){return typeof S=="object"&&S!==null&&S.key!=null?Ue(""+S.key):L.toString(36)}function Le(){}function at(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(Le,Le):(S.status="pending",S.then(function(L){S.status==="pending"&&(S.status="fulfilled",S.value=L)},function(L){S.status==="pending"&&(S.status="rejected",S.reason=L)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function Be(S,L,X,G,K){var he=typeof S;(he==="undefined"||he==="boolean")&&(S=null);var te=!1;if(S===null)te=!0;else switch(he){case"bigint":case"string":case"number":te=!0;break;case"object":switch(S.$$typeof){case i:case u:te=!0;break;case A:return te=S._init,Be(te(S._payload),L,X,G,K)}}if(te)return K=K(S),te=G===""?"."+Ce(S,0):G,be(K)?(X="",te!=null&&(X=te.replace(we,"$&/")+"/"),Be(K,L,X,"",function(Tn){return Tn})):K!=null&&(re(K)&&(K=Q(K,X+(K.key==null||S&&S.key===K.key?"":(""+K.key).replace(we,"$&/")+"/")+te)),L.push(K)),1;te=0;var Et=G===""?".":G+":";if(be(S))for(var Re=0;Re<S.length;Re++)G=S[Re],he=Et+Ce(G,Re),te+=Be(G,L,X,he,K);else if(Re=O(S),typeof Re=="function")for(S=Re.call(S),Re=0;!(G=S.next()).done;)G=G.value,he=Et+Ce(G,Re++),te+=Be(G,L,X,he,K);else if(he==="object"){if(typeof S.then=="function")return Be(at(S),L,X,G,K);throw L=String(S),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return te}function x(S,L,X){if(S==null)return S;var G=[],K=0;return Be(S,G,"","",function(he){return L.call(X,he,K++)}),G}function q(S){if(S._status===-1){var L=S._result;L=L(),L.then(function(X){(S._status===0||S._status===-1)&&(S._status=1,S._result=X)},function(X){(S._status===0||S._status===-1)&&(S._status=2,S._result=X)}),S._status===-1&&(S._status=0,S._result=L)}if(S._status===1)return S._result.default;throw S._result}var H=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function pe(){}return ae.Children={map:x,forEach:function(S,L,X){x(S,function(){L.apply(this,arguments)},X)},count:function(S){var L=0;return x(S,function(){L++}),L},toArray:function(S){return x(S,function(L){return L})||[]},only:function(S){if(!re(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},ae.Component=le,ae.Fragment=s,ae.Profiler=r,ae.PureComponent=ce,ae.StrictMode=o,ae.Suspense=h,ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,ae.__COMPILER_RUNTIME={__proto__:null,c:function(S){return ee.H.useMemoCache(S)}},ae.cache=function(S){return function(){return S.apply(null,arguments)}},ae.cloneElement=function(S,L,X){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var G=Y({},S.props),K=S.key,he=void 0;if(L!=null)for(te in L.ref!==void 0&&(he=void 0),L.key!==void 0&&(K=""+L.key),L)!Se.call(L,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&L.ref===void 0||(G[te]=L[te]);var te=arguments.length-2;if(te===1)G.children=X;else if(1<te){for(var Et=Array(te),Re=0;Re<te;Re++)Et[Re]=arguments[Re+2];G.children=Et}return Me(S.type,K,void 0,void 0,he,G)},ae.createContext=function(S){return S={$$typeof:p,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:d,_context:S},S},ae.createElement=function(S,L,X){var G,K={},he=null;if(L!=null)for(G in L.key!==void 0&&(he=""+L.key),L)Se.call(L,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(K[G]=L[G]);var te=arguments.length-2;if(te===1)K.children=X;else if(1<te){for(var Et=Array(te),Re=0;Re<te;Re++)Et[Re]=arguments[Re+2];K.children=Et}if(S&&S.defaultProps)for(G in te=S.defaultProps,te)K[G]===void 0&&(K[G]=te[G]);return Me(S,he,void 0,void 0,null,K)},ae.createRef=function(){return{current:null}},ae.forwardRef=function(S){return{$$typeof:b,render:S}},ae.isValidElement=re,ae.lazy=function(S){return{$$typeof:A,_payload:{_status:-1,_result:S},_init:q}},ae.memo=function(S,L){return{$$typeof:g,type:S,compare:L===void 0?null:L}},ae.startTransition=function(S){var L=ee.T,X={};ee.T=X;try{var G=S(),K=ee.S;K!==null&&K(X,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(pe,H)}catch(he){H(he)}finally{ee.T=L}},ae.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},ae.use=function(S){return ee.H.use(S)},ae.useActionState=function(S,L,X){return ee.H.useActionState(S,L,X)},ae.useCallback=function(S,L){return ee.H.useCallback(S,L)},ae.useContext=function(S){return ee.H.useContext(S)},ae.useDebugValue=function(){},ae.useDeferredValue=function(S,L){return ee.H.useDeferredValue(S,L)},ae.useEffect=function(S,L,X){var G=ee.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(S,L)},ae.useId=function(){return ee.H.useId()},ae.useImperativeHandle=function(S,L,X){return ee.H.useImperativeHandle(S,L,X)},ae.useInsertionEffect=function(S,L){return ee.H.useInsertionEffect(S,L)},ae.useLayoutEffect=function(S,L){return ee.H.useLayoutEffect(S,L)},ae.useMemo=function(S,L){return ee.H.useMemo(S,L)},ae.useOptimistic=function(S,L){return ee.H.useOptimistic(S,L)},ae.useReducer=function(S,L,X){return ee.H.useReducer(S,L,X)},ae.useRef=function(S){return ee.H.useRef(S)},ae.useState=function(S){return ee.H.useState(S)},ae.useSyncExternalStore=function(S,L,X){return ee.H.useSyncExternalStore(S,L,X)},ae.useTransition=function(){return ee.H.useTransition()},ae.version="19.1.1",ae}var fg;function ir(){return fg||(fg=1,Cc.exports=Lv()),Cc.exports}var Te=ir();const Yg=Gg(Te);var Oc={exports:{}},gi={},xc={exports:{}},wc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dg;function Bv(){return dg||(dg=1,function(i){function u(x,q){var H=x.length;x.push(q);e:for(;0<H;){var pe=H-1>>>1,S=x[pe];if(0<r(S,q))x[pe]=q,x[H]=S,H=pe;else break e}}function s(x){return x.length===0?null:x[0]}function o(x){if(x.length===0)return null;var q=x[0],H=x.pop();if(H!==q){x[0]=H;e:for(var pe=0,S=x.length,L=S>>>1;pe<L;){var X=2*(pe+1)-1,G=x[X],K=X+1,he=x[K];if(0>r(G,H))K<S&&0>r(he,G)?(x[pe]=he,x[K]=H,pe=K):(x[pe]=G,x[X]=H,pe=X);else if(K<S&&0>r(he,H))x[pe]=he,x[K]=H,pe=K;else break e}}return q}function r(x,q){var H=x.sortIndex-q.sortIndex;return H!==0?H:x.id-q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var p=Date,b=p.now();i.unstable_now=function(){return p.now()-b}}var h=[],g=[],A=1,M=null,O=3,B=!1,Y=!1,V=!1,le=!1,xe=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,de=typeof setImmediate<"u"?setImmediate:null;function be(x){for(var q=s(g);q!==null;){if(q.callback===null)o(g);else if(q.startTime<=x)o(g),q.sortIndex=q.expirationTime,u(h,q);else break;q=s(g)}}function ee(x){if(V=!1,be(x),!Y)if(s(h)!==null)Y=!0,Se||(Se=!0,Ce());else{var q=s(g);q!==null&&Be(ee,q.startTime-x)}}var Se=!1,Me=-1,Q=5,re=-1;function Ue(){return le?!0:!(i.unstable_now()-re<Q)}function we(){if(le=!1,Se){var x=i.unstable_now();re=x;var q=!0;try{e:{Y=!1,V&&(V=!1,ce(Me),Me=-1),B=!0;var H=O;try{t:{for(be(x),M=s(h);M!==null&&!(M.expirationTime>x&&Ue());){var pe=M.callback;if(typeof pe=="function"){M.callback=null,O=M.priorityLevel;var S=pe(M.expirationTime<=x);if(x=i.unstable_now(),typeof S=="function"){M.callback=S,be(x),q=!0;break t}M===s(h)&&o(h),be(x)}else o(h);M=s(h)}if(M!==null)q=!0;else{var L=s(g);L!==null&&Be(ee,L.startTime-x),q=!1}}break e}finally{M=null,O=H,B=!1}q=void 0}}finally{q?Ce():Se=!1}}}var Ce;if(typeof de=="function")Ce=function(){de(we)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,at=Le.port2;Le.port1.onmessage=we,Ce=function(){at.postMessage(null)}}else Ce=function(){xe(we,0)};function Be(x,q){Me=xe(function(){x(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(x){x.callback=null},i.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<x?Math.floor(1e3/x):5},i.unstable_getCurrentPriorityLevel=function(){return O},i.unstable_next=function(x){switch(O){case 1:case 2:case 3:var q=3;break;default:q=O}var H=O;O=q;try{return x()}finally{O=H}},i.unstable_requestPaint=function(){le=!0},i.unstable_runWithPriority=function(x,q){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var H=O;O=x;try{return q()}finally{O=H}},i.unstable_scheduleCallback=function(x,q,H){var pe=i.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?pe+H:pe):H=pe,x){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=H+S,x={id:A++,callback:q,priorityLevel:x,startTime:H,expirationTime:S,sortIndex:-1},H>pe?(x.sortIndex=H,u(g,x),s(h)===null&&x===s(g)&&(V?(ce(Me),Me=-1):V=!0,Be(ee,H-pe))):(x.sortIndex=S,u(h,x),Y||B||(Y=!0,Se||(Se=!0,Ce()))),x},i.unstable_shouldYield=Ue,i.unstable_wrapCallback=function(x){var q=O;return function(){var H=O;O=q;try{return x.apply(this,arguments)}finally{O=H}}}}(wc)),wc}var mg;function Rv(){return mg||(mg=1,xc.exports=Bv()),xc.exports}var zc={exports:{}},rt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg;function Hv(){if(gg)return rt;gg=1;var i=ir();function u(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)g+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(u(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},r=Symbol.for("react.portal");function d(h,g,A){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:M==null?null:""+M,children:h,containerInfo:g,implementation:A}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(h,g){if(h==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,rt.createPortal=function(h,g){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(u(299));return d(h,g,null,A)},rt.flushSync=function(h){var g=p.T,A=o.p;try{if(p.T=null,o.p=2,h)return h()}finally{p.T=g,o.p=A,o.d.f()}},rt.preconnect=function(h,g){typeof h=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,o.d.C(h,g))},rt.prefetchDNS=function(h){typeof h=="string"&&o.d.D(h)},rt.preinit=function(h,g){if(typeof h=="string"&&g&&typeof g.as=="string"){var A=g.as,M=b(A,g.crossOrigin),O=typeof g.integrity=="string"?g.integrity:void 0,B=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;A==="style"?o.d.S(h,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:M,integrity:O,fetchPriority:B}):A==="script"&&o.d.X(h,{crossOrigin:M,integrity:O,fetchPriority:B,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},rt.preinitModule=function(h,g){if(typeof h=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var A=b(g.as,g.crossOrigin);o.d.M(h,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&o.d.M(h)},rt.preload=function(h,g){if(typeof h=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var A=g.as,M=b(A,g.crossOrigin);o.d.L(h,A,{crossOrigin:M,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},rt.preloadModule=function(h,g){if(typeof h=="string")if(g){var A=b(g.as,g.crossOrigin);o.d.m(h,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else o.d.m(h)},rt.requestFormReset=function(h){o.d.r(h)},rt.unstable_batchedUpdates=function(h,g){return h(g)},rt.useFormState=function(h,g,A){return p.H.useFormState(h,g,A)},rt.useFormStatus=function(){return p.H.useHostTransitionStatus()},rt.version="19.1.1",rt}var pg;function qv(){if(pg)return zc.exports;pg=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(u){console.error(u)}}return i(),zc.exports=Hv(),zc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg;function Gv(){if(hg)return gi;hg=1;var i=Rv(),u=ir(),s=qv();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(d(e)!==e)throw Error(o(188))}function h(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,a=t;;){var l=n.return;if(l===null)break;var c=l.alternate;if(c===null){if(a=l.return,a!==null){n=a;continue}break}if(l.child===c.child){for(c=l.child;c;){if(c===n)return b(l),e;if(c===a)return b(l),t;c=c.sibling}throw Error(o(188))}if(n.return!==a.return)n=l,a=c;else{for(var f=!1,m=l.child;m;){if(m===n){f=!0,n=l,a=c;break}if(m===a){f=!0,a=l,n=c;break}m=m.sibling}if(!f){for(m=c.child;m;){if(m===n){f=!0,n=c,a=l;break}if(m===a){f=!0,a=c,n=l;break}m=m.sibling}if(!f)throw Error(o(189))}}if(n.alternate!==a)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),xe=Symbol.for("react.provider"),ce=Symbol.for("react.consumer"),de=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),Me=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),Ue=Symbol.for("react.memo_cache_sentinel"),we=Symbol.iterator;function Ce(e){return e===null||typeof e!="object"?null:(e=we&&e[we]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Symbol.for("react.client.reference");function at(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Le?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Y:return"Fragment";case le:return"Profiler";case V:return"StrictMode";case ee:return"Suspense";case Se:return"SuspenseList";case re:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case B:return"Portal";case de:return(e.displayName||"Context")+".Provider";case ce:return(e._context.displayName||"Context")+".Consumer";case be:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Me:return t=e.displayName||null,t!==null?t:at(e.type)||"Memo";case Q:t=e._payload,e=e._init;try{return at(e(t))}catch{}}return null}var Be=Array.isArray,x=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},pe=[],S=-1;function L(e){return{current:e}}function X(e){0>S||(e.current=pe[S],pe[S]=null,S--)}function G(e,t){S++,pe[S]=e.current,e.current=t}var K=L(null),he=L(null),te=L(null),Et=L(null);function Re(e,t){switch(G(te,t),G(he,e),G(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Lm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Lm(t),e=Bm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(K),G(K,e)}function Tn(){X(K),X(he),X(te)}function fo(e){e.memoizedState!==null&&G(Et,e);var t=K.current,n=Bm(t,e.type);t!==n&&(G(he,e),G(K,n))}function Ci(e){he.current===e&&(X(K),X(he)),Et.current===e&&(X(Et),si._currentValue=H)}var mo=Object.prototype.hasOwnProperty,go=i.unstable_scheduleCallback,po=i.unstable_cancelCallback,Dp=i.unstable_shouldYield,_p=i.unstable_requestPaint,Jt=i.unstable_now,jp=i.unstable_getCurrentPriorityLevel,gr=i.unstable_ImmediatePriority,pr=i.unstable_UserBlockingPriority,Oi=i.unstable_NormalPriority,Cp=i.unstable_LowPriority,hr=i.unstable_IdlePriority,Op=i.log,xp=i.unstable_setDisableYieldValue,hl=null,At=null;function Mn(e){if(typeof Op=="function"&&xp(e),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(hl,e)}catch{}}var Tt=Math.clz32?Math.clz32:Np,wp=Math.log,zp=Math.LN2;function Np(e){return e>>>=0,e===0?32:31-(wp(e)/zp|0)|0}var xi=256,wi=4194304;function In(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function zi(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var l=0,c=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var m=a&134217727;return m!==0?(a=m&~c,a!==0?l=In(a):(f&=m,f!==0?l=In(f):n||(n=m&~e,n!==0&&(l=In(n))))):(m=a&~c,m!==0?l=In(m):f!==0?l=In(f):n||(n=a&~e,n!==0&&(l=In(n)))),l===0?0:t!==0&&t!==l&&(t&c)===0&&(c=l&-l,n=t&-t,c>=n||c===32&&(n&4194048)!==0)?t:l}function yl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Up(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yr(){var e=xi;return xi<<=1,(xi&4194048)===0&&(xi=256),e}function vr(){var e=wi;return wi<<=1,(wi&62914560)===0&&(wi=4194304),e}function ho(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Lp(e,t,n,a,l,c){var f=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var m=e.entanglements,v=e.expirationTimes,_=e.hiddenUpdates;for(n=f&~n;0<n;){var w=31-Tt(n),U=1<<w;m[w]=0,v[w]=-1;var j=_[w];if(j!==null)for(_[w]=null,w=0;w<j.length;w++){var C=j[w];C!==null&&(C.lane&=-536870913)}n&=~U}a!==0&&br(e,a,0),c!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=c&~(f&~t))}function br(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Tt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&4194090}function Sr(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Tt(n),l=1<<a;l&t|e[a]&t&&(e[a]|=t),n&=~l}}function yo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function vo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Er(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:tg(e.type))}function Bp(e,t){var n=q.p;try{return q.p=e,t()}finally{q.p=n}}var Dn=Math.random().toString(36).slice(2),st="__reactFiber$"+Dn,gt="__reactProps$"+Dn,Ea="__reactContainer$"+Dn,bo="__reactEvents$"+Dn,Rp="__reactListeners$"+Dn,Hp="__reactHandles$"+Dn,Ar="__reactResources$"+Dn,bl="__reactMarker$"+Dn;function So(e){delete e[st],delete e[gt],delete e[bo],delete e[Rp],delete e[Hp]}function Aa(e){var t=e[st];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ea]||n[st]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Gm(e);e!==null;){if(n=e[st])return n;e=Gm(e)}return t}e=n,n=e.parentNode}return null}function Ta(e){if(e=e[st]||e[Ea]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Sl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Ma(e){var t=e[Ar];return t||(t=e[Ar]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[bl]=!0}var Tr=new Set,Mr={};function Fn(e,t){Da(e,t),Da(e+"Capture",t)}function Da(e,t){for(Mr[e]=t,e=0;e<t.length;e++)Tr.add(t[e])}var qp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dr={},_r={};function Gp(e){return mo.call(_r,e)?!0:mo.call(Dr,e)?!1:qp.test(e)?_r[e]=!0:(Dr[e]=!0,!1)}function Ni(e,t,n){if(Gp(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ui(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function an(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}var Eo,jr;function _a(e){if(Eo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Eo=t&&t[1]||"",jr=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Eo+e+jr}var Ao=!1;function To(e,t){if(!e||Ao)return"";Ao=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var U=function(){throw Error()};if(Object.defineProperty(U.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(U,[])}catch(C){var j=C}Reflect.construct(e,[],U)}else{try{U.call()}catch(C){j=C}e.call(U.prototype)}}else{try{throw Error()}catch(C){j=C}(U=e())&&typeof U.catch=="function"&&U.catch(function(){})}}catch(C){if(C&&j&&typeof C.stack=="string")return[C.stack,j.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=a.DetermineComponentFrameRoot(),f=c[0],m=c[1];if(f&&m){var v=f.split(`
`),_=m.split(`
`);for(l=a=0;a<v.length&&!v[a].includes("DetermineComponentFrameRoot");)a++;for(;l<_.length&&!_[l].includes("DetermineComponentFrameRoot");)l++;if(a===v.length||l===_.length)for(a=v.length-1,l=_.length-1;1<=a&&0<=l&&v[a]!==_[l];)l--;for(;1<=a&&0<=l;a--,l--)if(v[a]!==_[l]){if(a!==1||l!==1)do if(a--,l--,0>l||v[a]!==_[l]){var w=`
`+v[a].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=a&&0<=l);break}}}finally{Ao=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?_a(n):""}function Yp(e){switch(e.tag){case 26:case 27:case 5:return _a(e.type);case 16:return _a("Lazy");case 13:return _a("Suspense");case 19:return _a("SuspenseList");case 0:case 15:return To(e.type,!1);case 11:return To(e.type.render,!1);case 1:return To(e.type,!0);case 31:return _a("Activity");default:return""}}function Cr(e){try{var t="";do t+=Yp(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Nt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Or(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Xp(e){var t=Or(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(f){a=""+f,c.call(this,f)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(f){a=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Li(e){e._valueTracker||(e._valueTracker=Xp(e))}function xr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Or(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Bi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Qp=/[\n"\\]/g;function Ut(e){return e.replace(Qp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Mo(e,t,n,a,l,c,f,m){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Nt(t)):e.value!==""+Nt(t)&&(e.value=""+Nt(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?Do(e,f,Nt(t)):n!=null?Do(e,f,Nt(n)):a!=null&&e.removeAttribute("value"),l==null&&c!=null&&(e.defaultChecked=!!c),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.name=""+Nt(m):e.removeAttribute("name")}function wr(e,t,n,a,l,c,f,m){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||n!=null){if(!(c!=="submit"&&c!=="reset"||t!=null))return;n=n!=null?""+Nt(n):"",t=t!=null?""+Nt(t):n,m||t===e.value||(e.value=t),e.defaultValue=t}a=a??l,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=m?e.checked:!!a,e.defaultChecked=!!a,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f)}function Do(e,t,n){t==="number"&&Bi(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ja(e,t,n,a){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Nt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,a&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function zr(e,t,n){if(t!=null&&(t=""+Nt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Nt(n):""}function Nr(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(o(92));if(Be(a)){if(1<a.length)throw Error(o(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Nt(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a)}function Ca(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Zp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ur(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Zp.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Lr(e,t,n){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var l in t)a=t[l],t.hasOwnProperty(l)&&n[l]!==a&&Ur(e,l,a)}else for(var c in t)t.hasOwnProperty(c)&&Ur(e,c,t[c])}function _o(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ri(e){return Pp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var jo=null;function Co(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Oa=null,xa=null;function Br(e){var t=Ta(e);if(t&&(e=t.stateNode)){var n=e[gt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Mo(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ut(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var l=a[gt]||null;if(!l)throw Error(o(90));Mo(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&xr(a)}break e;case"textarea":zr(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ja(e,!!n.multiple,t,!1)}}}var Oo=!1;function Rr(e,t,n){if(Oo)return e(t,n);Oo=!0;try{var a=e(t);return a}finally{if(Oo=!1,(Oa!==null||xa!==null)&&(Au(),Oa&&(t=Oa,e=xa,xa=Oa=null,Br(t),e)))for(t=0;t<e.length;t++)Br(e[t])}}function El(e,t){var n=e.stateNode;if(n===null)return null;var a=n[gt]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xo=!1;if(ln)try{var Al={};Object.defineProperty(Al,"passive",{get:function(){xo=!0}}),window.addEventListener("test",Al,Al),window.removeEventListener("test",Al,Al)}catch{xo=!1}var _n=null,wo=null,Hi=null;function Hr(){if(Hi)return Hi;var e,t=wo,n=t.length,a,l="value"in _n?_n.value:_n.textContent,c=l.length;for(e=0;e<n&&t[e]===l[e];e++);var f=n-e;for(a=1;a<=f&&t[n-a]===l[c-a];a++);return Hi=l.slice(e,1<a?1-a:void 0)}function qi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gi(){return!0}function qr(){return!1}function pt(e){function t(n,a,l,c,f){this._reactName=n,this._targetInst=l,this.type=a,this.nativeEvent=c,this.target=f,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(n=e[m],this[m]=n?n(c):c[m]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Gi:qr,this.isPropagationStopped=qr,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),t}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yi=pt(Wn),Tl=A({},Wn,{view:0,detail:0}),Kp=pt(Tl),zo,No,Ml,Xi=A({},Tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ml&&(Ml&&e.type==="mousemove"?(zo=e.screenX-Ml.screenX,No=e.screenY-Ml.screenY):No=zo=0,Ml=e),zo)},movementY:function(e){return"movementY"in e?e.movementY:No}}),Gr=pt(Xi),kp=A({},Xi,{dataTransfer:0}),Jp=pt(kp),$p=A({},Tl,{relatedTarget:0}),Uo=pt($p),Ip=A({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Fp=pt(Ip),Wp=A({},Wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eh=pt(Wp),th=A({},Wn,{data:0}),Yr=pt(th),nh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ah={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ih(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lh[e])?!!t[e]:!1}function Lo(){return ih}var uh=A({},Tl,{key:function(e){if(e.key){var t=nh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ah[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lo,charCode:function(e){return e.type==="keypress"?qi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oh=pt(uh),sh=A({},Xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xr=pt(sh),ch=A({},Tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lo}),rh=pt(ch),fh=A({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),dh=pt(fh),mh=A({},Xi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gh=pt(mh),ph=A({},Wn,{newState:0,oldState:0}),hh=pt(ph),yh=[9,13,27,32],Bo=ln&&"CompositionEvent"in window,Dl=null;ln&&"documentMode"in document&&(Dl=document.documentMode);var vh=ln&&"TextEvent"in window&&!Dl,Qr=ln&&(!Bo||Dl&&8<Dl&&11>=Dl),Zr=" ",Vr=!1;function Pr(e,t){switch(e){case"keyup":return yh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wa=!1;function bh(e,t){switch(e){case"compositionend":return Kr(t);case"keypress":return t.which!==32?null:(Vr=!0,Zr);case"textInput":return e=t.data,e===Zr&&Vr?null:e;default:return null}}function Sh(e,t){if(wa)return e==="compositionend"||!Bo&&Pr(e,t)?(e=Hr(),Hi=wo=_n=null,wa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qr&&t.locale!=="ko"?null:t.data;default:return null}}var Eh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Eh[e.type]:t==="textarea"}function Jr(e,t,n,a){Oa?xa?xa.push(a):xa=[a]:Oa=a,t=Cu(t,"onChange"),0<t.length&&(n=new Yi("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var _l=null,jl=null;function Ah(e){xm(e,0)}function Qi(e){var t=Sl(e);if(xr(t))return e}function $r(e,t){if(e==="change")return t}var Ir=!1;if(ln){var Ro;if(ln){var Ho="oninput"in document;if(!Ho){var Fr=document.createElement("div");Fr.setAttribute("oninput","return;"),Ho=typeof Fr.oninput=="function"}Ro=Ho}else Ro=!1;Ir=Ro&&(!document.documentMode||9<document.documentMode)}function Wr(){_l&&(_l.detachEvent("onpropertychange",ef),jl=_l=null)}function ef(e){if(e.propertyName==="value"&&Qi(jl)){var t=[];Jr(t,jl,e,Co(e)),Rr(Ah,t)}}function Th(e,t,n){e==="focusin"?(Wr(),_l=t,jl=n,_l.attachEvent("onpropertychange",ef)):e==="focusout"&&Wr()}function Mh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qi(jl)}function Dh(e,t){if(e==="click")return Qi(t)}function _h(e,t){if(e==="input"||e==="change")return Qi(t)}function jh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mt=typeof Object.is=="function"?Object.is:jh;function Cl(e,t){if(Mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var l=n[a];if(!mo.call(t,l)||!Mt(e[l],t[l]))return!1}return!0}function tf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nf(e,t){var n=tf(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tf(n)}}function af(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?af(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Bi(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Bi(e.document)}return t}function qo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ch=ln&&"documentMode"in document&&11>=document.documentMode,za=null,Go=null,Ol=null,Yo=!1;function uf(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yo||za==null||za!==Bi(a)||(a=za,"selectionStart"in a&&qo(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ol&&Cl(Ol,a)||(Ol=a,a=Cu(Go,"onSelect"),0<a.length&&(t=new Yi("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=za)))}function ea(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Na={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},Xo={},of={};ln&&(of=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function ta(e){if(Xo[e])return Xo[e];if(!Na[e])return e;var t=Na[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in of)return Xo[e]=t[n];return e}var sf=ta("animationend"),cf=ta("animationiteration"),rf=ta("animationstart"),Oh=ta("transitionrun"),xh=ta("transitionstart"),wh=ta("transitioncancel"),ff=ta("transitionend"),df=new Map,Qo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qo.push("scrollEnd");function Qt(e,t){df.set(e,t),Fn(t,[e])}var mf=new WeakMap;function Lt(e,t){if(typeof e=="object"&&e!==null){var n=mf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Cr(t)},mf.set(e,t),t)}return{value:e,source:t,stack:Cr(t)}}var Bt=[],Ua=0,Zo=0;function Zi(){for(var e=Ua,t=Zo=Ua=0;t<e;){var n=Bt[t];Bt[t++]=null;var a=Bt[t];Bt[t++]=null;var l=Bt[t];Bt[t++]=null;var c=Bt[t];if(Bt[t++]=null,a!==null&&l!==null){var f=a.pending;f===null?l.next=l:(l.next=f.next,f.next=l),a.pending=l}c!==0&&gf(n,l,c)}}function Vi(e,t,n,a){Bt[Ua++]=e,Bt[Ua++]=t,Bt[Ua++]=n,Bt[Ua++]=a,Zo|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Vo(e,t,n,a){return Vi(e,t,n,a),Pi(e)}function La(e,t){return Vi(e,null,null,t),Pi(e)}function gf(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var l=!1,c=e.return;c!==null;)c.childLanes|=n,a=c.alternate,a!==null&&(a.childLanes|=n),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(l=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,l&&t!==null&&(l=31-Tt(n),e=c.hiddenUpdates,a=e[l],a===null?e[l]=[t]:a.push(t),t.lane=n|536870912),c):null}function Pi(e){if(50<ei)throw ei=0,Is=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ba={};function zh(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,n,a){return new zh(e,t,n,a)}function Po(e){return e=e.prototype,!(!e||!e.isReactComponent)}function un(e,t){var n=e.alternate;return n===null?(n=Dt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function pf(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ki(e,t,n,a,l,c){var f=0;if(a=e,typeof e=="function")Po(e)&&(f=1);else if(typeof e=="string")f=Uy(e,n,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case re:return e=Dt(31,n,t,l),e.elementType=re,e.lanes=c,e;case Y:return na(n.children,l,c,t);case V:f=8,l|=24;break;case le:return e=Dt(12,n,t,l|2),e.elementType=le,e.lanes=c,e;case ee:return e=Dt(13,n,t,l),e.elementType=ee,e.lanes=c,e;case Se:return e=Dt(19,n,t,l),e.elementType=Se,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xe:case de:f=10;break e;case ce:f=9;break e;case be:f=11;break e;case Me:f=14;break e;case Q:f=16,a=null;break e}f=29,n=Error(o(130,e===null?"null":typeof e,"")),a=null}return t=Dt(f,n,t,l),t.elementType=e,t.type=a,t.lanes=c,t}function na(e,t,n,a){return e=Dt(7,e,a,t),e.lanes=n,e}function Ko(e,t,n){return e=Dt(6,e,null,t),e.lanes=n,e}function ko(e,t,n){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ra=[],Ha=0,ki=null,Ji=0,Rt=[],Ht=0,aa=null,on=1,sn="";function la(e,t){Ra[Ha++]=Ji,Ra[Ha++]=ki,ki=e,Ji=t}function hf(e,t,n){Rt[Ht++]=on,Rt[Ht++]=sn,Rt[Ht++]=aa,aa=e;var a=on;e=sn;var l=32-Tt(a)-1;a&=~(1<<l),n+=1;var c=32-Tt(t)+l;if(30<c){var f=l-l%5;c=(a&(1<<f)-1).toString(32),a>>=f,l-=f,on=1<<32-Tt(t)+l|n<<l|a,sn=c+e}else on=1<<c|n<<l|a,sn=e}function Jo(e){e.return!==null&&(la(e,1),hf(e,1,0))}function $o(e){for(;e===ki;)ki=Ra[--Ha],Ra[Ha]=null,Ji=Ra[--Ha],Ra[Ha]=null;for(;e===aa;)aa=Rt[--Ht],Rt[Ht]=null,sn=Rt[--Ht],Rt[Ht]=null,on=Rt[--Ht],Rt[Ht]=null}var dt=null,Xe=null,ve=!1,ia=null,$t=!1,Io=Error(o(519));function ua(e){var t=Error(o(418,""));throw zl(Lt(t,e)),Io}function yf(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[st]=e,t[gt]=a,n){case"dialog":se("cancel",t),se("close",t);break;case"iframe":case"object":case"embed":se("load",t);break;case"video":case"audio":for(n=0;n<ni.length;n++)se(ni[n],t);break;case"source":se("error",t);break;case"img":case"image":case"link":se("error",t),se("load",t);break;case"details":se("toggle",t);break;case"input":se("invalid",t),wr(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),Li(t);break;case"select":se("invalid",t);break;case"textarea":se("invalid",t),Nr(t,a.value,a.defaultValue,a.children),Li(t)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Um(t.textContent,n)?(a.popover!=null&&(se("beforetoggle",t),se("toggle",t)),a.onScroll!=null&&se("scroll",t),a.onScrollEnd!=null&&se("scrollend",t),a.onClick!=null&&(t.onclick=Ou),t=!0):t=!1,t||ua(e)}function vf(e){for(dt=e.return;dt;)switch(dt.tag){case 5:case 13:$t=!1;return;case 27:case 3:$t=!0;return;default:dt=dt.return}}function xl(e){if(e!==dt)return!1;if(!ve)return vf(e),ve=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||mc(e.type,e.memoizedProps)),n=!n),n&&Xe&&ua(e),vf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Xe=Vt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Xe=null}}else t===27?(t=Xe,Xn(e.type)?(e=yc,yc=null,Xe=e):Xe=t):Xe=dt?Vt(e.stateNode.nextSibling):null;return!0}function wl(){Xe=dt=null,ve=!1}function bf(){var e=ia;return e!==null&&(vt===null?vt=e:vt.push.apply(vt,e),ia=null),e}function zl(e){ia===null?ia=[e]:ia.push(e)}var Fo=L(null),oa=null,cn=null;function jn(e,t,n){G(Fo,t._currentValue),t._currentValue=n}function rn(e){e._currentValue=Fo.current,X(Fo)}function Wo(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function es(e,t,n,a){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var c=l.dependencies;if(c!==null){var f=l.child;c=c.firstContext;e:for(;c!==null;){var m=c;c=l;for(var v=0;v<t.length;v++)if(m.context===t[v]){c.lanes|=n,m=c.alternate,m!==null&&(m.lanes|=n),Wo(c.return,n,e),a||(f=null);break e}c=m.next}}else if(l.tag===18){if(f=l.return,f===null)throw Error(o(341));f.lanes|=n,c=f.alternate,c!==null&&(c.lanes|=n),Wo(f,n,e),f=null}else f=l.child;if(f!==null)f.return=l;else for(f=l;f!==null;){if(f===e){f=null;break}if(l=f.sibling,l!==null){l.return=f.return,f=l;break}f=f.return}l=f}}function Nl(e,t,n,a){e=null;for(var l=t,c=!1;l!==null;){if(!c){if((l.flags&524288)!==0)c=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var f=l.alternate;if(f===null)throw Error(o(387));if(f=f.memoizedProps,f!==null){var m=l.type;Mt(l.pendingProps.value,f.value)||(e!==null?e.push(m):e=[m])}}else if(l===Et.current){if(f=l.alternate,f===null)throw Error(o(387));f.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(si):e=[si])}l=l.return}e!==null&&es(t,e,n,a),t.flags|=262144}function $i(e){for(e=e.firstContext;e!==null;){if(!Mt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function sa(e){oa=e,cn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ct(e){return Sf(oa,e)}function Ii(e,t){return oa===null&&sa(e),Sf(e,t)}function Sf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},cn===null){if(e===null)throw Error(o(308));cn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else cn=cn.next=t;return n}var Nh=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Uh=i.unstable_scheduleCallback,Lh=i.unstable_NormalPriority,Ie={$$typeof:de,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ts(){return{controller:new Nh,data:new Map,refCount:0}}function Ul(e){e.refCount--,e.refCount===0&&Uh(Lh,function(){e.controller.abort()})}var Ll=null,ns=0,qa=0,Ga=null;function Bh(e,t){if(Ll===null){var n=Ll=[];ns=0,qa=lc(),Ga={status:"pending",value:void 0,then:function(a){n.push(a)}}}return ns++,t.then(Ef,Ef),t}function Ef(){if(--ns===0&&Ll!==null){Ga!==null&&(Ga.status="fulfilled");var e=Ll;Ll=null,qa=0,Ga=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Rh(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var l=0;l<n.length;l++)(0,n[l])(t)},function(l){for(a.status="rejected",a.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),a}var Af=x.S;x.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Bh(e,t),Af!==null&&Af(e,t)};var ca=L(null);function as(){var e=ca.current;return e!==null?e:ze.pooledCache}function Fi(e,t){t===null?G(ca,ca.current):G(ca,t.pool)}function Tf(){var e=as();return e===null?null:{parent:Ie._currentValue,pool:e}}var Bl=Error(o(460)),Mf=Error(o(474)),Wi=Error(o(542)),ls={then:function(){}};function Df(e){return e=e.status,e==="fulfilled"||e==="rejected"}function eu(){}function _f(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(eu,eu),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cf(e),e;default:if(typeof t.status=="string")t.then(eu,eu);else{if(e=ze,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=a}},function(a){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cf(e),e}throw Rl=t,Bl}}var Rl=null;function jf(){if(Rl===null)throw Error(o(459));var e=Rl;return Rl=null,e}function Cf(e){if(e===Bl||e===Wi)throw Error(o(483))}var Cn=!1;function is(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function us(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function On(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xn(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Ee&2)!==0){var l=a.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),a.pending=t,t=Pi(e),gf(e,null,n),t}return Vi(e,a,t,n),Pi(e)}function Hl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Sr(e,n)}}function os(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var l=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var f={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};c===null?l=c=f:c=c.next=f,n=n.next}while(n!==null);c===null?l=c=t:c=c.next=t}else l=c=t;n={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:c,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ss=!1;function ql(){if(ss){var e=Ga;if(e!==null)throw e}}function Gl(e,t,n,a){ss=!1;var l=e.updateQueue;Cn=!1;var c=l.firstBaseUpdate,f=l.lastBaseUpdate,m=l.shared.pending;if(m!==null){l.shared.pending=null;var v=m,_=v.next;v.next=null,f===null?c=_:f.next=_,f=v;var w=e.alternate;w!==null&&(w=w.updateQueue,m=w.lastBaseUpdate,m!==f&&(m===null?w.firstBaseUpdate=_:m.next=_,w.lastBaseUpdate=v))}if(c!==null){var U=l.baseState;f=0,w=_=v=null,m=c;do{var j=m.lane&-536870913,C=j!==m.lane;if(C?(ge&j)===j:(a&j)===j){j!==0&&j===qa&&(ss=!0),w!==null&&(w=w.next={lane:0,tag:m.tag,payload:m.payload,callback:null,next:null});e:{var I=e,J=m;j=t;var je=n;switch(J.tag){case 1:if(I=J.payload,typeof I=="function"){U=I.call(je,U,j);break e}U=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=J.payload,j=typeof I=="function"?I.call(je,U,j):I,j==null)break e;U=A({},U,j);break e;case 2:Cn=!0}}j=m.callback,j!==null&&(e.flags|=64,C&&(e.flags|=8192),C=l.callbacks,C===null?l.callbacks=[j]:C.push(j))}else C={lane:j,tag:m.tag,payload:m.payload,callback:m.callback,next:null},w===null?(_=w=C,v=U):w=w.next=C,f|=j;if(m=m.next,m===null){if(m=l.shared.pending,m===null)break;C=m,m=C.next,C.next=null,l.lastBaseUpdate=C,l.shared.pending=null}}while(!0);w===null&&(v=U),l.baseState=v,l.firstBaseUpdate=_,l.lastBaseUpdate=w,c===null&&(l.shared.lanes=0),Hn|=f,e.lanes=f,e.memoizedState=U}}function Of(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function xf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Of(n[e],t)}var Ya=L(null),tu=L(0);function wf(e,t){e=yn,G(tu,e),G(Ya,t),yn=e|t.baseLanes}function cs(){G(tu,yn),G(Ya,Ya.current)}function rs(){yn=tu.current,X(Ya),X(tu)}var wn=0,ie=null,De=null,Ke=null,nu=!1,Xa=!1,ra=!1,au=0,Yl=0,Qa=null,Hh=0;function Ve(){throw Error(o(321))}function fs(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mt(e[n],t[n]))return!1;return!0}function ds(e,t,n,a,l,c){return wn=c,ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,x.H=e===null||e.memoizedState===null?gd:pd,ra=!1,c=n(a,l),ra=!1,Xa&&(c=Nf(t,n,a,l)),zf(e),c}function zf(e){x.H=cu;var t=De!==null&&De.next!==null;if(wn=0,Ke=De=ie=null,nu=!1,Yl=0,Qa=null,t)throw Error(o(300));e===null||et||(e=e.dependencies,e!==null&&$i(e)&&(et=!0))}function Nf(e,t,n,a){ie=e;var l=0;do{if(Xa&&(Qa=null),Yl=0,Xa=!1,25<=l)throw Error(o(301));if(l+=1,Ke=De=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}x.H=Vh,c=t(n,a)}while(Xa);return c}function qh(){var e=x.H,t=e.useState()[0];return t=typeof t.then=="function"?Xl(t):t,e=e.useState()[0],(De!==null?De.memoizedState:null)!==e&&(ie.flags|=1024),t}function ms(){var e=au!==0;return au=0,e}function gs(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ps(e){if(nu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}nu=!1}wn=0,Ke=De=ie=null,Xa=!1,Yl=au=0,Qa=null}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?ie.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function ke(){if(De===null){var e=ie.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Ke===null?ie.memoizedState:Ke.next;if(t!==null)Ke=t,De=e;else{if(e===null)throw ie.alternate===null?Error(o(467)):Error(o(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Ke===null?ie.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function hs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xl(e){var t=Yl;return Yl+=1,Qa===null&&(Qa=[]),e=_f(Qa,e,t),t=ie,(Ke===null?t.memoizedState:Ke.next)===null&&(t=t.alternate,x.H=t===null||t.memoizedState===null?gd:pd),e}function lu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xl(e);if(e.$$typeof===de)return ct(e)}throw Error(o(438,String(e)))}function ys(e){var t=null,n=ie.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=ie.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=hs(),ie.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=Ue;return t.index++,n}function fn(e,t){return typeof t=="function"?t(e):t}function iu(e){var t=ke();return vs(t,De,e)}function vs(e,t,n){var a=e.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=n;var l=e.baseQueue,c=a.pending;if(c!==null){if(l!==null){var f=l.next;l.next=c.next,c.next=f}t.baseQueue=l=c,a.pending=null}if(c=e.baseState,l===null)e.memoizedState=c;else{t=l.next;var m=f=null,v=null,_=t,w=!1;do{var U=_.lane&-536870913;if(U!==_.lane?(ge&U)===U:(wn&U)===U){var j=_.revertLane;if(j===0)v!==null&&(v=v.next={lane:0,revertLane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),U===qa&&(w=!0);else if((wn&j)===j){_=_.next,j===qa&&(w=!0);continue}else U={lane:0,revertLane:_.revertLane,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},v===null?(m=v=U,f=c):v=v.next=U,ie.lanes|=j,Hn|=j;U=_.action,ra&&n(c,U),c=_.hasEagerState?_.eagerState:n(c,U)}else j={lane:U,revertLane:_.revertLane,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},v===null?(m=v=j,f=c):v=v.next=j,ie.lanes|=U,Hn|=U;_=_.next}while(_!==null&&_!==t);if(v===null?f=c:v.next=m,!Mt(c,e.memoizedState)&&(et=!0,w&&(n=Ga,n!==null)))throw n;e.memoizedState=c,e.baseState=f,e.baseQueue=v,a.lastRenderedState=c}return l===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function bs(e){var t=ke(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var a=n.dispatch,l=n.pending,c=t.memoizedState;if(l!==null){n.pending=null;var f=l=l.next;do c=e(c,f.action),f=f.next;while(f!==l);Mt(c,t.memoizedState)||(et=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,a]}function Uf(e,t,n){var a=ie,l=ke(),c=ve;if(c){if(n===void 0)throw Error(o(407));n=n()}else n=t();var f=!Mt((De||l).memoizedState,n);f&&(l.memoizedState=n,et=!0),l=l.queue;var m=Rf.bind(null,a,l,e);if(Ql(2048,8,m,[e]),l.getSnapshot!==t||f||Ke!==null&&Ke.memoizedState.tag&1){if(a.flags|=2048,Za(9,uu(),Bf.bind(null,a,l,n,t),null),ze===null)throw Error(o(349));c||(wn&124)!==0||Lf(a,t,n)}return n}function Lf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ie.updateQueue,t===null?(t=hs(),ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Bf(e,t,n,a){t.value=n,t.getSnapshot=a,Hf(t)&&qf(e)}function Rf(e,t,n){return n(function(){Hf(t)&&qf(e)})}function Hf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mt(e,n)}catch{return!0}}function qf(e){var t=La(e,2);t!==null&&xt(t,e,2)}function Ss(e){var t=ht();if(typeof e=="function"){var n=e;if(e=n(),ra){Mn(!0);try{n()}finally{Mn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:e},t}function Gf(e,t,n,a){return e.baseState=n,vs(e,De,typeof a=="function"?a:fn)}function Gh(e,t,n,a,l){if(su(e))throw Error(o(485));if(e=t.action,e!==null){var c={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){c.listeners.push(f)}};x.T!==null?n(!0):c.isTransition=!1,a(c),n=t.pending,n===null?(c.next=t.pending=c,Yf(t,c)):(c.next=n.next,t.pending=n.next=c)}}function Yf(e,t){var n=t.action,a=t.payload,l=e.state;if(t.isTransition){var c=x.T,f={};x.T=f;try{var m=n(l,a),v=x.S;v!==null&&v(f,m),Xf(e,t,m)}catch(_){Es(e,t,_)}finally{x.T=c}}else try{c=n(l,a),Xf(e,t,c)}catch(_){Es(e,t,_)}}function Xf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Qf(e,t,a)},function(a){return Es(e,t,a)}):Qf(e,t,n)}function Qf(e,t,n){t.status="fulfilled",t.value=n,Zf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Yf(e,n)))}function Es(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Zf(t),t=t.next;while(t!==a)}e.action=null}function Zf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Vf(e,t){return t}function Pf(e,t){if(ve){var n=ze.formState;if(n!==null){e:{var a=ie;if(ve){if(Xe){t:{for(var l=Xe,c=$t;l.nodeType!==8;){if(!c){l=null;break t}if(l=Vt(l.nextSibling),l===null){l=null;break t}}c=l.data,l=c==="F!"||c==="F"?l:null}if(l){Xe=Vt(l.nextSibling),a=l.data==="F!";break e}}ua(a)}a=!1}a&&(t=n[0])}}return n=ht(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vf,lastRenderedState:t},n.queue=a,n=fd.bind(null,ie,a),a.dispatch=n,a=Ss(!1),c=_s.bind(null,ie,!1,a.queue),a=ht(),l={state:t,dispatch:null,action:e,pending:null},a.queue=l,n=Gh.bind(null,ie,l,c,n),l.dispatch=n,a.memoizedState=e,[t,n,!1]}function Kf(e){var t=ke();return kf(t,De,e)}function kf(e,t,n){if(t=vs(e,t,Vf)[0],e=iu(fn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Xl(t)}catch(f){throw f===Bl?Wi:f}else a=t;t=ke();var l=t.queue,c=l.dispatch;return n!==t.memoizedState&&(ie.flags|=2048,Za(9,uu(),Yh.bind(null,l,n),null)),[a,c,e]}function Yh(e,t){e.action=t}function Jf(e){var t=ke(),n=De;if(n!==null)return kf(t,n,e);ke(),t=t.memoizedState,n=ke();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Za(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=ie.updateQueue,t===null&&(t=hs(),ie.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function uu(){return{destroy:void 0,resource:void 0}}function $f(){return ke().memoizedState}function ou(e,t,n,a){var l=ht();a=a===void 0?null:a,ie.flags|=e,l.memoizedState=Za(1|t,uu(),n,a)}function Ql(e,t,n,a){var l=ke();a=a===void 0?null:a;var c=l.memoizedState.inst;De!==null&&a!==null&&fs(a,De.memoizedState.deps)?l.memoizedState=Za(t,c,n,a):(ie.flags|=e,l.memoizedState=Za(1|t,c,n,a))}function If(e,t){ou(8390656,8,e,t)}function Ff(e,t){Ql(2048,8,e,t)}function Wf(e,t){return Ql(4,2,e,t)}function ed(e,t){return Ql(4,4,e,t)}function td(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nd(e,t,n){n=n!=null?n.concat([e]):null,Ql(4,4,td.bind(null,t,e),n)}function As(){}function ad(e,t){var n=ke();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&fs(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function ld(e,t){var n=ke();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&fs(t,a[1]))return a[0];if(a=e(),ra){Mn(!0);try{e()}finally{Mn(!1)}}return n.memoizedState=[a,t],a}function Ts(e,t,n){return n===void 0||(wn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=om(),ie.lanes|=e,Hn|=e,n)}function id(e,t,n,a){return Mt(n,t)?n:Ya.current!==null?(e=Ts(e,n,a),Mt(e,t)||(et=!0),e):(wn&42)===0?(et=!0,e.memoizedState=n):(e=om(),ie.lanes|=e,Hn|=e,t)}function ud(e,t,n,a,l){var c=q.p;q.p=c!==0&&8>c?c:8;var f=x.T,m={};x.T=m,_s(e,!1,t,n);try{var v=l(),_=x.S;if(_!==null&&_(m,v),v!==null&&typeof v=="object"&&typeof v.then=="function"){var w=Rh(v,a);Zl(e,t,w,Ot(e))}else Zl(e,t,a,Ot(e))}catch(U){Zl(e,t,{then:function(){},status:"rejected",reason:U},Ot())}finally{q.p=c,x.T=f}}function Xh(){}function Ms(e,t,n,a){if(e.tag!==5)throw Error(o(476));var l=od(e).queue;ud(e,l,t,H,n===null?Xh:function(){return sd(e),n(a)})}function od(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:H},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function sd(e){var t=od(e).next.queue;Zl(e,t,{},Ot())}function Ds(){return ct(si)}function cd(){return ke().memoizedState}function rd(){return ke().memoizedState}function Qh(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ot();e=On(n);var a=xn(t,e,n);a!==null&&(xt(a,t,n),Hl(a,t,n)),t={cache:ts()},e.payload=t;return}t=t.return}}function Zh(e,t,n){var a=Ot();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},su(e)?dd(t,n):(n=Vo(e,t,n,a),n!==null&&(xt(n,e,a),md(n,t,a)))}function fd(e,t,n){var a=Ot();Zl(e,t,n,a)}function Zl(e,t,n,a){var l={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(su(e))dd(t,l);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var f=t.lastRenderedState,m=c(f,n);if(l.hasEagerState=!0,l.eagerState=m,Mt(m,f))return Vi(e,t,l,0),ze===null&&Zi(),!1}catch{}finally{}if(n=Vo(e,t,l,a),n!==null)return xt(n,e,a),md(n,t,a),!0}return!1}function _s(e,t,n,a){if(a={lane:2,revertLane:lc(),action:a,hasEagerState:!1,eagerState:null,next:null},su(e)){if(t)throw Error(o(479))}else t=Vo(e,n,a,2),t!==null&&xt(t,e,2)}function su(e){var t=e.alternate;return e===ie||t!==null&&t===ie}function dd(e,t){Xa=nu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function md(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Sr(e,n)}}var cu={readContext:ct,use:lu,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve},gd={readContext:ct,use:lu,useCallback:function(e,t){return ht().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:If,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,ou(4194308,4,td.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ou(4194308,4,e,t)},useInsertionEffect:function(e,t){ou(4,2,e,t)},useMemo:function(e,t){var n=ht();t=t===void 0?null:t;var a=e();if(ra){Mn(!0);try{e()}finally{Mn(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=ht();if(n!==void 0){var l=n(t);if(ra){Mn(!0);try{n(t)}finally{Mn(!1)}}}else l=t;return a.memoizedState=a.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},a.queue=e,e=e.dispatch=Zh.bind(null,ie,e),[a.memoizedState,e]},useRef:function(e){var t=ht();return e={current:e},t.memoizedState=e},useState:function(e){e=Ss(e);var t=e.queue,n=fd.bind(null,ie,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:As,useDeferredValue:function(e,t){var n=ht();return Ts(n,e,t)},useTransition:function(){var e=Ss(!1);return e=ud.bind(null,ie,e.queue,!0,!1),ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=ie,l=ht();if(ve){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),ze===null)throw Error(o(349));(ge&124)!==0||Lf(a,t,n)}l.memoizedState=n;var c={value:n,getSnapshot:t};return l.queue=c,If(Rf.bind(null,a,c,e),[e]),a.flags|=2048,Za(9,uu(),Bf.bind(null,a,c,n,t),null),n},useId:function(){var e=ht(),t=ze.identifierPrefix;if(ve){var n=sn,a=on;n=(a&~(1<<32-Tt(a)-1)).toString(32)+n,t="«"+t+"R"+n,n=au++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=Hh++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Ds,useFormState:Pf,useActionState:Pf,useOptimistic:function(e){var t=ht();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=_s.bind(null,ie,!0,n),n.dispatch=t,[e,t]},useMemoCache:ys,useCacheRefresh:function(){return ht().memoizedState=Qh.bind(null,ie)}},pd={readContext:ct,use:lu,useCallback:ad,useContext:ct,useEffect:Ff,useImperativeHandle:nd,useInsertionEffect:Wf,useLayoutEffect:ed,useMemo:ld,useReducer:iu,useRef:$f,useState:function(){return iu(fn)},useDebugValue:As,useDeferredValue:function(e,t){var n=ke();return id(n,De.memoizedState,e,t)},useTransition:function(){var e=iu(fn)[0],t=ke().memoizedState;return[typeof e=="boolean"?e:Xl(e),t]},useSyncExternalStore:Uf,useId:cd,useHostTransitionStatus:Ds,useFormState:Kf,useActionState:Kf,useOptimistic:function(e,t){var n=ke();return Gf(n,De,e,t)},useMemoCache:ys,useCacheRefresh:rd},Vh={readContext:ct,use:lu,useCallback:ad,useContext:ct,useEffect:Ff,useImperativeHandle:nd,useInsertionEffect:Wf,useLayoutEffect:ed,useMemo:ld,useReducer:bs,useRef:$f,useState:function(){return bs(fn)},useDebugValue:As,useDeferredValue:function(e,t){var n=ke();return De===null?Ts(n,e,t):id(n,De.memoizedState,e,t)},useTransition:function(){var e=bs(fn)[0],t=ke().memoizedState;return[typeof e=="boolean"?e:Xl(e),t]},useSyncExternalStore:Uf,useId:cd,useHostTransitionStatus:Ds,useFormState:Jf,useActionState:Jf,useOptimistic:function(e,t){var n=ke();return De!==null?Gf(n,De,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ys,useCacheRefresh:rd},Va=null,Vl=0;function ru(e){var t=Vl;return Vl+=1,Va===null&&(Va=[]),_f(Va,e,t)}function Pl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function fu(e,t){throw t.$$typeof===M?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function hd(e){var t=e._init;return t(e._payload)}function yd(e){function t(T,E){if(e){var D=T.deletions;D===null?(T.deletions=[E],T.flags|=16):D.push(E)}}function n(T,E){if(!e)return null;for(;E!==null;)t(T,E),E=E.sibling;return null}function a(T){for(var E=new Map;T!==null;)T.key!==null?E.set(T.key,T):E.set(T.index,T),T=T.sibling;return E}function l(T,E){return T=un(T,E),T.index=0,T.sibling=null,T}function c(T,E,D){return T.index=D,e?(D=T.alternate,D!==null?(D=D.index,D<E?(T.flags|=67108866,E):D):(T.flags|=67108866,E)):(T.flags|=1048576,E)}function f(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function m(T,E,D,z){return E===null||E.tag!==6?(E=Ko(D,T.mode,z),E.return=T,E):(E=l(E,D),E.return=T,E)}function v(T,E,D,z){var Z=D.type;return Z===Y?w(T,E,D.props.children,z,D.key):E!==null&&(E.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Q&&hd(Z)===E.type)?(E=l(E,D.props),Pl(E,D),E.return=T,E):(E=Ki(D.type,D.key,D.props,null,T.mode,z),Pl(E,D),E.return=T,E)}function _(T,E,D,z){return E===null||E.tag!==4||E.stateNode.containerInfo!==D.containerInfo||E.stateNode.implementation!==D.implementation?(E=ko(D,T.mode,z),E.return=T,E):(E=l(E,D.children||[]),E.return=T,E)}function w(T,E,D,z,Z){return E===null||E.tag!==7?(E=na(D,T.mode,z,Z),E.return=T,E):(E=l(E,D),E.return=T,E)}function U(T,E,D){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Ko(""+E,T.mode,D),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case O:return D=Ki(E.type,E.key,E.props,null,T.mode,D),Pl(D,E),D.return=T,D;case B:return E=ko(E,T.mode,D),E.return=T,E;case Q:var z=E._init;return E=z(E._payload),U(T,E,D)}if(Be(E)||Ce(E))return E=na(E,T.mode,D,null),E.return=T,E;if(typeof E.then=="function")return U(T,ru(E),D);if(E.$$typeof===de)return U(T,Ii(T,E),D);fu(T,E)}return null}function j(T,E,D,z){var Z=E!==null?E.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return Z!==null?null:m(T,E,""+D,z);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case O:return D.key===Z?v(T,E,D,z):null;case B:return D.key===Z?_(T,E,D,z):null;case Q:return Z=D._init,D=Z(D._payload),j(T,E,D,z)}if(Be(D)||Ce(D))return Z!==null?null:w(T,E,D,z,null);if(typeof D.then=="function")return j(T,E,ru(D),z);if(D.$$typeof===de)return j(T,E,Ii(T,D),z);fu(T,D)}return null}function C(T,E,D,z,Z){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return T=T.get(D)||null,m(E,T,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case O:return T=T.get(z.key===null?D:z.key)||null,v(E,T,z,Z);case B:return T=T.get(z.key===null?D:z.key)||null,_(E,T,z,Z);case Q:var ue=z._init;return z=ue(z._payload),C(T,E,D,z,Z)}if(Be(z)||Ce(z))return T=T.get(D)||null,w(E,T,z,Z,null);if(typeof z.then=="function")return C(T,E,D,ru(z),Z);if(z.$$typeof===de)return C(T,E,D,Ii(E,z),Z);fu(E,z)}return null}function I(T,E,D,z){for(var Z=null,ue=null,P=E,$=E=0,nt=null;P!==null&&$<D.length;$++){P.index>$?(nt=P,P=null):nt=P.sibling;var ye=j(T,P,D[$],z);if(ye===null){P===null&&(P=nt);break}e&&P&&ye.alternate===null&&t(T,P),E=c(ye,E,$),ue===null?Z=ye:ue.sibling=ye,ue=ye,P=nt}if($===D.length)return n(T,P),ve&&la(T,$),Z;if(P===null){for(;$<D.length;$++)P=U(T,D[$],z),P!==null&&(E=c(P,E,$),ue===null?Z=P:ue.sibling=P,ue=P);return ve&&la(T,$),Z}for(P=a(P);$<D.length;$++)nt=C(P,T,$,D[$],z),nt!==null&&(e&&nt.alternate!==null&&P.delete(nt.key===null?$:nt.key),E=c(nt,E,$),ue===null?Z=nt:ue.sibling=nt,ue=nt);return e&&P.forEach(function(Kn){return t(T,Kn)}),ve&&la(T,$),Z}function J(T,E,D,z){if(D==null)throw Error(o(151));for(var Z=null,ue=null,P=E,$=E=0,nt=null,ye=D.next();P!==null&&!ye.done;$++,ye=D.next()){P.index>$?(nt=P,P=null):nt=P.sibling;var Kn=j(T,P,ye.value,z);if(Kn===null){P===null&&(P=nt);break}e&&P&&Kn.alternate===null&&t(T,P),E=c(Kn,E,$),ue===null?Z=Kn:ue.sibling=Kn,ue=Kn,P=nt}if(ye.done)return n(T,P),ve&&la(T,$),Z;if(P===null){for(;!ye.done;$++,ye=D.next())ye=U(T,ye.value,z),ye!==null&&(E=c(ye,E,$),ue===null?Z=ye:ue.sibling=ye,ue=ye);return ve&&la(T,$),Z}for(P=a(P);!ye.done;$++,ye=D.next())ye=C(P,T,$,ye.value,z),ye!==null&&(e&&ye.alternate!==null&&P.delete(ye.key===null?$:ye.key),E=c(ye,E,$),ue===null?Z=ye:ue.sibling=ye,ue=ye);return e&&P.forEach(function(Py){return t(T,Py)}),ve&&la(T,$),Z}function je(T,E,D,z){if(typeof D=="object"&&D!==null&&D.type===Y&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case O:e:{for(var Z=D.key;E!==null;){if(E.key===Z){if(Z=D.type,Z===Y){if(E.tag===7){n(T,E.sibling),z=l(E,D.props.children),z.return=T,T=z;break e}}else if(E.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Q&&hd(Z)===E.type){n(T,E.sibling),z=l(E,D.props),Pl(z,D),z.return=T,T=z;break e}n(T,E);break}else t(T,E);E=E.sibling}D.type===Y?(z=na(D.props.children,T.mode,z,D.key),z.return=T,T=z):(z=Ki(D.type,D.key,D.props,null,T.mode,z),Pl(z,D),z.return=T,T=z)}return f(T);case B:e:{for(Z=D.key;E!==null;){if(E.key===Z)if(E.tag===4&&E.stateNode.containerInfo===D.containerInfo&&E.stateNode.implementation===D.implementation){n(T,E.sibling),z=l(E,D.children||[]),z.return=T,T=z;break e}else{n(T,E);break}else t(T,E);E=E.sibling}z=ko(D,T.mode,z),z.return=T,T=z}return f(T);case Q:return Z=D._init,D=Z(D._payload),je(T,E,D,z)}if(Be(D))return I(T,E,D,z);if(Ce(D)){if(Z=Ce(D),typeof Z!="function")throw Error(o(150));return D=Z.call(D),J(T,E,D,z)}if(typeof D.then=="function")return je(T,E,ru(D),z);if(D.$$typeof===de)return je(T,E,Ii(T,D),z);fu(T,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,E!==null&&E.tag===6?(n(T,E.sibling),z=l(E,D),z.return=T,T=z):(n(T,E),z=Ko(D,T.mode,z),z.return=T,T=z),f(T)):n(T,E)}return function(T,E,D,z){try{Vl=0;var Z=je(T,E,D,z);return Va=null,Z}catch(P){if(P===Bl||P===Wi)throw P;var ue=Dt(29,P,null,T.mode);return ue.lanes=z,ue.return=T,ue}finally{}}}var Pa=yd(!0),vd=yd(!1),qt=L(null),It=null;function zn(e){var t=e.alternate;G(Fe,Fe.current&1),G(qt,e),It===null&&(t===null||Ya.current!==null||t.memoizedState!==null)&&(It=e)}function bd(e){if(e.tag===22){if(G(Fe,Fe.current),G(qt,e),It===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(It=e)}}else Nn()}function Nn(){G(Fe,Fe.current),G(qt,qt.current)}function dn(e){X(qt),It===e&&(It=null),X(Fe)}var Fe=L(0);function du(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||hc(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function js(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:A({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Cs={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Ot(),l=On(a);l.payload=t,n!=null&&(l.callback=n),t=xn(e,l,a),t!==null&&(xt(t,e,a),Hl(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Ot(),l=On(a);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=xn(e,l,a),t!==null&&(xt(t,e,a),Hl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ot(),a=On(n);a.tag=2,t!=null&&(a.callback=t),t=xn(e,a,n),t!==null&&(xt(t,e,n),Hl(t,e,n))}};function Sd(e,t,n,a,l,c,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,f):t.prototype&&t.prototype.isPureReactComponent?!Cl(n,a)||!Cl(l,c):!0}function Ed(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Cs.enqueueReplaceState(t,t.state,null)}function fa(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=A({},n));for(var l in e)n[l]===void 0&&(n[l]=e[l])}return n}var mu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ad(e){mu(e)}function Td(e){console.error(e)}function Md(e){mu(e)}function gu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Dd(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Os(e,t,n){return n=On(n),n.tag=3,n.payload={element:null},n.callback=function(){gu(e,t)},n}function _d(e){return e=On(e),e.tag=3,e}function jd(e,t,n,a){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var c=a.value;e.payload=function(){return l(c)},e.callback=function(){Dd(t,n,a)}}var f=n.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){Dd(t,n,a),typeof l!="function"&&(qn===null?qn=new Set([this]):qn.add(this));var m=a.stack;this.componentDidCatch(a.value,{componentStack:m!==null?m:""})})}function Ph(e,t,n,a,l){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Nl(t,n,l,!0),n=qt.current,n!==null){switch(n.tag){case 13:return It===null?Ws():n.alternate===null&&Qe===0&&(Qe=3),n.flags&=-257,n.flags|=65536,n.lanes=l,a===ls?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),tc(e,a,l)),!1;case 22:return n.flags|=65536,a===ls?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),tc(e,a,l)),!1}throw Error(o(435,n.tag))}return tc(e,a,l),Ws(),!1}if(ve)return t=qt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=l,a!==Io&&(e=Error(o(422),{cause:a}),zl(Lt(e,n)))):(a!==Io&&(t=Error(o(423),{cause:a}),zl(Lt(t,n))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,a=Lt(a,n),l=Os(e.stateNode,a,l),os(e,l),Qe!==4&&(Qe=2)),!1;var c=Error(o(520),{cause:a});if(c=Lt(c,n),Wl===null?Wl=[c]:Wl.push(c),Qe!==4&&(Qe=2),t===null)return!0;a=Lt(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=l&-l,n.lanes|=e,e=Os(n.stateNode,a,e),os(n,e),!1;case 1:if(t=n.type,c=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(qn===null||!qn.has(c))))return n.flags|=65536,l&=-l,n.lanes|=l,l=_d(l),jd(l,e,n,a),os(n,l),!1}n=n.return}while(n!==null);return!1}var Cd=Error(o(461)),et=!1;function lt(e,t,n,a){t.child=e===null?vd(t,null,n,a):Pa(t,e.child,n,a)}function Od(e,t,n,a,l){n=n.render;var c=t.ref;if("ref"in a){var f={};for(var m in a)m!=="ref"&&(f[m]=a[m])}else f=a;return sa(t),a=ds(e,t,n,f,c,l),m=ms(),e!==null&&!et?(gs(e,t,l),mn(e,t,l)):(ve&&m&&Jo(t),t.flags|=1,lt(e,t,a,l),t.child)}function xd(e,t,n,a,l){if(e===null){var c=n.type;return typeof c=="function"&&!Po(c)&&c.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=c,wd(e,t,c,a,l)):(e=Ki(n.type,null,a,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Rs(e,l)){var f=c.memoizedProps;if(n=n.compare,n=n!==null?n:Cl,n(f,a)&&e.ref===t.ref)return mn(e,t,l)}return t.flags|=1,e=un(c,a),e.ref=t.ref,e.return=t,t.child=e}function wd(e,t,n,a,l){if(e!==null){var c=e.memoizedProps;if(Cl(c,a)&&e.ref===t.ref)if(et=!1,t.pendingProps=a=c,Rs(e,l))(e.flags&131072)!==0&&(et=!0);else return t.lanes=e.lanes,mn(e,t,l)}return xs(e,t,n,a,l)}function zd(e,t,n){var a=t.pendingProps,l=a.children,c=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if((t.flags&128)!==0){if(a=c!==null?c.baseLanes|n:n,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;t.childLanes=c&~a}else t.childLanes=0,t.child=null;return Nd(e,t,a,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fi(t,c!==null?c.cachePool:null),c!==null?wf(t,c):cs(),bd(t);else return t.lanes=t.childLanes=536870912,Nd(e,t,c!==null?c.baseLanes|n:n,n)}else c!==null?(Fi(t,c.cachePool),wf(t,c),Nn(),t.memoizedState=null):(e!==null&&Fi(t,null),cs(),Nn());return lt(e,t,l,n),t.child}function Nd(e,t,n,a){var l=as();return l=l===null?null:{parent:Ie._currentValue,pool:l},t.memoizedState={baseLanes:n,cachePool:l},e!==null&&Fi(t,null),cs(),bd(t),e!==null&&Nl(e,t,a,!0),null}function pu(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function xs(e,t,n,a,l){return sa(t),n=ds(e,t,n,a,void 0,l),a=ms(),e!==null&&!et?(gs(e,t,l),mn(e,t,l)):(ve&&a&&Jo(t),t.flags|=1,lt(e,t,n,l),t.child)}function Ud(e,t,n,a,l,c){return sa(t),t.updateQueue=null,n=Nf(t,a,n,l),zf(e),a=ms(),e!==null&&!et?(gs(e,t,c),mn(e,t,c)):(ve&&a&&Jo(t),t.flags|=1,lt(e,t,n,c),t.child)}function Ld(e,t,n,a,l){if(sa(t),t.stateNode===null){var c=Ba,f=n.contextType;typeof f=="object"&&f!==null&&(c=ct(f)),c=new n(a,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Cs,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=a,c.state=t.memoizedState,c.refs={},is(t),f=n.contextType,c.context=typeof f=="object"&&f!==null?ct(f):Ba,c.state=t.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(js(t,n,f,a),c.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(f=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),f!==c.state&&Cs.enqueueReplaceState(c,c.state,null),Gl(t,a,c,l),ql(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){c=t.stateNode;var m=t.memoizedProps,v=fa(n,m);c.props=v;var _=c.context,w=n.contextType;f=Ba,typeof w=="object"&&w!==null&&(f=ct(w));var U=n.getDerivedStateFromProps;w=typeof U=="function"||typeof c.getSnapshotBeforeUpdate=="function",m=t.pendingProps!==m,w||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(m||_!==f)&&Ed(t,c,a,f),Cn=!1;var j=t.memoizedState;c.state=j,Gl(t,a,c,l),ql(),_=t.memoizedState,m||j!==_||Cn?(typeof U=="function"&&(js(t,n,U,a),_=t.memoizedState),(v=Cn||Sd(t,n,v,a,j,_,f))?(w||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=_),c.props=a,c.state=_,c.context=f,a=v):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{c=t.stateNode,us(e,t),f=t.memoizedProps,w=fa(n,f),c.props=w,U=t.pendingProps,j=c.context,_=n.contextType,v=Ba,typeof _=="object"&&_!==null&&(v=ct(_)),m=n.getDerivedStateFromProps,(_=typeof m=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f!==U||j!==v)&&Ed(t,c,a,v),Cn=!1,j=t.memoizedState,c.state=j,Gl(t,a,c,l),ql();var C=t.memoizedState;f!==U||j!==C||Cn||e!==null&&e.dependencies!==null&&$i(e.dependencies)?(typeof m=="function"&&(js(t,n,m,a),C=t.memoizedState),(w=Cn||Sd(t,n,w,a,j,C,v)||e!==null&&e.dependencies!==null&&$i(e.dependencies))?(_||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(a,C,v),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(a,C,v)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=C),c.props=a,c.state=C,c.context=v,a=w):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),a=!1)}return c=a,pu(e,t),a=(t.flags&128)!==0,c||a?(c=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&a?(t.child=Pa(t,e.child,null,l),t.child=Pa(t,null,n,l)):lt(e,t,n,l),t.memoizedState=c.state,e=t.child):e=mn(e,t,l),e}function Bd(e,t,n,a){return wl(),t.flags|=256,lt(e,t,n,a),t.child}var ws={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zs(e){return{baseLanes:e,cachePool:Tf()}}function Ns(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Gt),e}function Rd(e,t,n){var a=t.pendingProps,l=!1,c=(t.flags&128)!==0,f;if((f=c)||(f=e!==null&&e.memoizedState===null?!1:(Fe.current&2)!==0),f&&(l=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(ve){if(l?zn(t):Nn(),ve){var m=Xe,v;if(v=m){e:{for(v=m,m=$t;v.nodeType!==8;){if(!m){m=null;break e}if(v=Vt(v.nextSibling),v===null){m=null;break e}}m=v}m!==null?(t.memoizedState={dehydrated:m,treeContext:aa!==null?{id:on,overflow:sn}:null,retryLane:536870912,hydrationErrors:null},v=Dt(18,null,null,0),v.stateNode=m,v.return=t,t.child=v,dt=t,Xe=null,v=!0):v=!1}v||ua(t)}if(m=t.memoizedState,m!==null&&(m=m.dehydrated,m!==null))return hc(m)?t.lanes=32:t.lanes=536870912,null;dn(t)}return m=a.children,a=a.fallback,l?(Nn(),l=t.mode,m=hu({mode:"hidden",children:m},l),a=na(a,l,n,null),m.return=t,a.return=t,m.sibling=a,t.child=m,l=t.child,l.memoizedState=zs(n),l.childLanes=Ns(e,f,n),t.memoizedState=ws,a):(zn(t),Us(t,m))}if(v=e.memoizedState,v!==null&&(m=v.dehydrated,m!==null)){if(c)t.flags&256?(zn(t),t.flags&=-257,t=Ls(e,t,n)):t.memoizedState!==null?(Nn(),t.child=e.child,t.flags|=128,t=null):(Nn(),l=a.fallback,m=t.mode,a=hu({mode:"visible",children:a.children},m),l=na(l,m,n,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,Pa(t,e.child,null,n),a=t.child,a.memoizedState=zs(n),a.childLanes=Ns(e,f,n),t.memoizedState=ws,t=l);else if(zn(t),hc(m)){if(f=m.nextSibling&&m.nextSibling.dataset,f)var _=f.dgst;f=_,a=Error(o(419)),a.stack="",a.digest=f,zl({value:a,source:null,stack:null}),t=Ls(e,t,n)}else if(et||Nl(e,t,n,!1),f=(n&e.childLanes)!==0,et||f){if(f=ze,f!==null&&(a=n&-n,a=(a&42)!==0?1:yo(a),a=(a&(f.suspendedLanes|n))!==0?0:a,a!==0&&a!==v.retryLane))throw v.retryLane=a,La(e,a),xt(f,e,a),Cd;m.data==="$?"||Ws(),t=Ls(e,t,n)}else m.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=v.treeContext,Xe=Vt(m.nextSibling),dt=t,ve=!0,ia=null,$t=!1,e!==null&&(Rt[Ht++]=on,Rt[Ht++]=sn,Rt[Ht++]=aa,on=e.id,sn=e.overflow,aa=t),t=Us(t,a.children),t.flags|=4096);return t}return l?(Nn(),l=a.fallback,m=t.mode,v=e.child,_=v.sibling,a=un(v,{mode:"hidden",children:a.children}),a.subtreeFlags=v.subtreeFlags&65011712,_!==null?l=un(_,l):(l=na(l,m,n,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,m=e.child.memoizedState,m===null?m=zs(n):(v=m.cachePool,v!==null?(_=Ie._currentValue,v=v.parent!==_?{parent:_,pool:_}:v):v=Tf(),m={baseLanes:m.baseLanes|n,cachePool:v}),l.memoizedState=m,l.childLanes=Ns(e,f,n),t.memoizedState=ws,a):(zn(t),n=e.child,e=n.sibling,n=un(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=n,t.memoizedState=null,n)}function Us(e,t){return t=hu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function hu(e,t){return e=Dt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ls(e,t,n){return Pa(t,e.child,null,n),e=Us(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hd(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Wo(e.return,t,n)}function Bs(e,t,n,a,l){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:l}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=a,c.tail=n,c.tailMode=l)}function qd(e,t,n){var a=t.pendingProps,l=a.revealOrder,c=a.tail;if(lt(e,t,a.children,n),a=Fe.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hd(e,n,t);else if(e.tag===19)Hd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(G(Fe,a),l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&du(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Bs(t,!1,l,n,c);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&du(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Bs(t,!0,n,null,c);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function mn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Hn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Nl(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=un(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=un(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Rs(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&$i(e)))}function Kh(e,t,n){switch(t.tag){case 3:Re(t,t.stateNode.containerInfo),jn(t,Ie,e.memoizedState.cache),wl();break;case 27:case 5:fo(t);break;case 4:Re(t,t.stateNode.containerInfo);break;case 10:jn(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(zn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Rd(e,t,n):(zn(t),e=mn(e,t,n),e!==null?e.sibling:null);zn(t);break;case 19:var l=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Nl(e,t,n,!1),a=(n&t.childLanes)!==0),l){if(a)return qd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),G(Fe,Fe.current),a)break;return null;case 22:case 23:return t.lanes=0,zd(e,t,n);case 24:jn(t,Ie,e.memoizedState.cache)}return mn(e,t,n)}function Gd(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)et=!0;else{if(!Rs(e,n)&&(t.flags&128)===0)return et=!1,Kh(e,t,n);et=(e.flags&131072)!==0}else et=!1,ve&&(t.flags&1048576)!==0&&hf(t,Ji,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,l=a._init;if(a=l(a._payload),t.type=a,typeof a=="function")Po(a)?(e=fa(a,e),t.tag=1,t=Ld(null,t,a,e,n)):(t.tag=0,t=xs(null,t,a,e,n));else{if(a!=null){if(l=a.$$typeof,l===be){t.tag=11,t=Od(null,t,a,e,n);break e}else if(l===Me){t.tag=14,t=xd(null,t,a,e,n);break e}}throw t=at(a)||a,Error(o(306,t,""))}}return t;case 0:return xs(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,l=fa(a,t.pendingProps),Ld(e,t,a,l,n);case 3:e:{if(Re(t,t.stateNode.containerInfo),e===null)throw Error(o(387));a=t.pendingProps;var c=t.memoizedState;l=c.element,us(e,t),Gl(t,a,null,n);var f=t.memoizedState;if(a=f.cache,jn(t,Ie,a),a!==c.cache&&es(t,[Ie],n,!0),ql(),a=f.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=Bd(e,t,a,n);break e}else if(a!==l){l=Lt(Error(o(424)),t),zl(l),t=Bd(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Xe=Vt(e.firstChild),dt=t,ve=!0,ia=null,$t=!0,n=vd(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(wl(),a===l){t=mn(e,t,n);break e}lt(e,t,a,n)}t=t.child}return t;case 26:return pu(e,t),e===null?(n=Zm(t.type,null,t.pendingProps,null))?t.memoizedState=n:ve||(n=t.type,e=t.pendingProps,a=xu(te.current).createElement(n),a[st]=t,a[gt]=e,ut(a,n,e),We(a),t.stateNode=a):t.memoizedState=Zm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return fo(t),e===null&&ve&&(a=t.stateNode=Ym(t.type,t.pendingProps,te.current),dt=t,$t=!0,l=Xe,Xn(t.type)?(yc=l,Xe=Vt(a.firstChild)):Xe=l),lt(e,t,t.pendingProps.children,n),pu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ve&&((l=a=Xe)&&(a=Ey(a,t.type,t.pendingProps,$t),a!==null?(t.stateNode=a,dt=t,Xe=Vt(a.firstChild),$t=!1,l=!0):l=!1),l||ua(t)),fo(t),l=t.type,c=t.pendingProps,f=e!==null?e.memoizedProps:null,a=c.children,mc(l,c)?a=null:f!==null&&mc(l,f)&&(t.flags|=32),t.memoizedState!==null&&(l=ds(e,t,qh,null,null,n),si._currentValue=l),pu(e,t),lt(e,t,a,n),t.child;case 6:return e===null&&ve&&((e=n=Xe)&&(n=Ay(n,t.pendingProps,$t),n!==null?(t.stateNode=n,dt=t,Xe=null,e=!0):e=!1),e||ua(t)),null;case 13:return Rd(e,t,n);case 4:return Re(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Pa(t,null,a,n):lt(e,t,a,n),t.child;case 11:return Od(e,t,t.type,t.pendingProps,n);case 7:return lt(e,t,t.pendingProps,n),t.child;case 8:return lt(e,t,t.pendingProps.children,n),t.child;case 12:return lt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,jn(t,t.type,a.value),lt(e,t,a.children,n),t.child;case 9:return l=t.type._context,a=t.pendingProps.children,sa(t),l=ct(l),a=a(l),t.flags|=1,lt(e,t,a,n),t.child;case 14:return xd(e,t,t.type,t.pendingProps,n);case 15:return wd(e,t,t.type,t.pendingProps,n);case 19:return qd(e,t,n);case 31:return a=t.pendingProps,n=t.mode,a={mode:a.mode,children:a.children},e===null?(n=hu(a,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=un(e.child,a),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return zd(e,t,n);case 24:return sa(t),a=ct(Ie),e===null?(l=as(),l===null&&(l=ze,c=ts(),l.pooledCache=c,c.refCount++,c!==null&&(l.pooledCacheLanes|=n),l=c),t.memoizedState={parent:a,cache:l},is(t),jn(t,Ie,l)):((e.lanes&n)!==0&&(us(e,t),Gl(t,null,null,n),ql()),l=e.memoizedState,c=t.memoizedState,l.parent!==a?(l={parent:a,cache:a},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),jn(t,Ie,a)):(a=c.cache,jn(t,Ie,a),a!==l.cache&&es(t,[Ie],n,!0))),lt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function gn(e){e.flags|=4}function Yd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Jm(t)){if(t=qt.current,t!==null&&((ge&4194048)===ge?It!==null:(ge&62914560)!==ge&&(ge&536870912)===0||t!==It))throw Rl=ls,Mf;e.flags|=8192}}function yu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?vr():536870912,e.lanes|=t,$a|=t)}function Kl(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags&65011712,a|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function kh(e,t,n){var a=t.pendingProps;switch($o(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return Ge(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),rn(Ie),Tn(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(xl(t)?gn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,bf())),Ge(t),null;case 26:return n=t.memoizedState,e===null?(gn(t),n!==null?(Ge(t),Yd(t,n)):(Ge(t),t.flags&=-16777217)):n?n!==e.memoizedState?(gn(t),Ge(t),Yd(t,n)):(Ge(t),t.flags&=-16777217):(e.memoizedProps!==a&&gn(t),Ge(t),t.flags&=-16777217),null;case 27:Ci(t),n=te.current;var l=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&gn(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Ge(t),null}e=K.current,xl(t)?yf(t):(e=Ym(l,a,n),t.stateNode=e,gn(t))}return Ge(t),null;case 5:if(Ci(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&gn(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Ge(t),null}if(e=K.current,xl(t))yf(t);else{switch(l=xu(te.current),e){case 1:e=l.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=l.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?l.createElement("select",{is:a.is}):l.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?l.createElement(n,{is:a.is}):l.createElement(n)}}e[st]=t,e[gt]=a;e:for(l=t.child;l!==null;){if(l.tag===5||l.tag===6)e.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=e;e:switch(ut(e,n,a),n){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&gn(t)}}return Ge(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&gn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(e=te.current,xl(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,l=dt,l!==null)switch(l.tag){case 27:case 5:a=l.memoizedProps}e[st]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Um(e.nodeValue,n)),e||ua(t)}else e=xu(e).createTextNode(a),e[st]=t,t.stateNode=e}return Ge(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=xl(t),a!==null&&a.dehydrated!==null){if(e===null){if(!l)throw Error(o(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(o(317));l[st]=t}else wl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),l=!1}else l=bf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(dn(t),t):(dn(t),null)}if(dn(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=a!==null,e=e!==null&&e.memoizedState!==null,n){a=t.child,l=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(l=a.alternate.memoizedState.cachePool.pool);var c=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),yu(t,t.updateQueue),Ge(t),null;case 4:return Tn(),e===null&&sc(t.stateNode.containerInfo),Ge(t),null;case 10:return rn(t.type),Ge(t),null;case 19:if(X(Fe),l=t.memoizedState,l===null)return Ge(t),null;if(a=(t.flags&128)!==0,c=l.rendering,c===null)if(a)Kl(l,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=du(e),c!==null){for(t.flags|=128,Kl(l,!1),e=c.updateQueue,t.updateQueue=e,yu(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)pf(n,e),n=n.sibling;return G(Fe,Fe.current&1|2),t.child}e=e.sibling}l.tail!==null&&Jt()>Su&&(t.flags|=128,a=!0,Kl(l,!1),t.lanes=4194304)}else{if(!a)if(e=du(c),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,yu(t,e),Kl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!c.alternate&&!ve)return Ge(t),null}else 2*Jt()-l.renderingStartTime>Su&&n!==536870912&&(t.flags|=128,a=!0,Kl(l,!1),t.lanes=4194304);l.isBackwards?(c.sibling=t.child,t.child=c):(e=l.last,e!==null?e.sibling=c:t.child=c,l.last=c)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Jt(),t.sibling=null,e=Fe.current,G(Fe,a?e&1|2:e&1),t):(Ge(t),null);case 22:case 23:return dn(t),rs(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),n=t.updateQueue,n!==null&&yu(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&X(ca),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),rn(Ie),Ge(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Jh(e,t){switch($o(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rn(Ie),Tn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ci(t),null;case 13:if(dn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));wl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return X(Fe),null;case 4:return Tn(),null;case 10:return rn(t.type),null;case 22:case 23:return dn(t),rs(),e!==null&&X(ca),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return rn(Ie),null;case 25:return null;default:return null}}function Xd(e,t){switch($o(t),t.tag){case 3:rn(Ie),Tn();break;case 26:case 27:case 5:Ci(t);break;case 4:Tn();break;case 13:dn(t);break;case 19:X(Fe);break;case 10:rn(t.type);break;case 22:case 23:dn(t),rs(),e!==null&&X(ca);break;case 24:rn(Ie)}}function kl(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var l=a.next;n=l;do{if((n.tag&e)===e){a=void 0;var c=n.create,f=n.inst;a=c(),f.destroy=a}n=n.next}while(n!==l)}}catch(m){Oe(t,t.return,m)}}function Un(e,t,n){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&e)===e){var f=a.inst,m=f.destroy;if(m!==void 0){f.destroy=void 0,l=t;var v=n,_=m;try{_()}catch(w){Oe(l,v,w)}}}a=a.next}while(a!==c)}}catch(w){Oe(t,t.return,w)}}function Qd(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{xf(t,n)}catch(a){Oe(e,e.return,a)}}}function Zd(e,t,n){n.props=fa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Oe(e,t,a)}}function Jl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(l){Oe(e,t,l)}}function Ft(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(l){Oe(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){Oe(e,t,l)}else n.current=null}function Vd(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(l){Oe(e,e.return,l)}}function Hs(e,t,n){try{var a=e.stateNode;hy(a,e.type,n,t),a[gt]=t}catch(l){Oe(e,e.return,l)}}function Pd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xn(e.type)||e.tag===4}function qs(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gs(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ou));else if(a!==4&&(a===27&&Xn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Gs(e,t,n),e=e.sibling;e!==null;)Gs(e,t,n),e=e.sibling}function vu(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Xn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(vu(e,t,n),e=e.sibling;e!==null;)vu(e,t,n),e=e.sibling}function Kd(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);ut(t,a,n),t[st]=e,t[gt]=n}catch(c){Oe(e,e.return,c)}}var pn=!1,Pe=!1,Ys=!1,kd=typeof WeakSet=="function"?WeakSet:Set,tt=null;function $h(e,t){if(e=e.containerInfo,fc=Bu,e=lf(e),qo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var l=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var f=0,m=-1,v=-1,_=0,w=0,U=e,j=null;t:for(;;){for(var C;U!==n||l!==0&&U.nodeType!==3||(m=f+l),U!==c||a!==0&&U.nodeType!==3||(v=f+a),U.nodeType===3&&(f+=U.nodeValue.length),(C=U.firstChild)!==null;)j=U,U=C;for(;;){if(U===e)break t;if(j===n&&++_===l&&(m=f),j===c&&++w===a&&(v=f),(C=U.nextSibling)!==null)break;U=j,j=U.parentNode}U=C}n=m===-1||v===-1?null:{start:m,end:v}}else n=null}n=n||{start:0,end:0}}else n=null;for(dc={focusedElem:e,selectionRange:n},Bu=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){switch(t=tt,c=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,n=t,l=c.memoizedProps,c=c.memoizedState,a=n.stateNode;try{var I=fa(n.type,l,n.elementType===n.type);e=a.getSnapshotBeforeUpdate(I,c),a.__reactInternalSnapshotBeforeUpdate=e}catch(J){Oe(n,n.return,J)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)pc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}}function Jd(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Ln(e,n),a&4&&kl(5,n);break;case 1:if(Ln(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(f){Oe(n,n.return,f)}else{var l=fa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){Oe(n,n.return,f)}}a&64&&Qd(n),a&512&&Jl(n,n.return);break;case 3:if(Ln(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{xf(e,t)}catch(f){Oe(n,n.return,f)}}break;case 27:t===null&&a&4&&Kd(n);case 26:case 5:Ln(e,n),t===null&&a&4&&Vd(n),a&512&&Jl(n,n.return);break;case 12:Ln(e,n);break;case 13:Ln(e,n),a&4&&Fd(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=iy.bind(null,n),Ty(e,n))));break;case 22:if(a=n.memoizedState!==null||pn,!a){t=t!==null&&t.memoizedState!==null||Pe,l=pn;var c=Pe;pn=a,(Pe=t)&&!c?Bn(e,n,(n.subtreeFlags&8772)!==0):Ln(e,n),pn=l,Pe=c}break;case 30:break;default:Ln(e,n)}}function $d(e){var t=e.alternate;t!==null&&(e.alternate=null,$d(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&So(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,yt=!1;function hn(e,t,n){for(n=n.child;n!==null;)Id(e,t,n),n=n.sibling}function Id(e,t,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(hl,n)}catch{}switch(n.tag){case 26:Pe||Ft(n,t),hn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Pe||Ft(n,t);var a=He,l=yt;Xn(n.type)&&(He=n.stateNode,yt=!1),hn(e,t,n),li(n.stateNode),He=a,yt=l;break;case 5:Pe||Ft(n,t);case 6:if(a=He,l=yt,He=null,hn(e,t,n),He=a,yt=l,He!==null)if(yt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(n.stateNode)}catch(c){Oe(n,t,c)}else try{He.removeChild(n.stateNode)}catch(c){Oe(n,t,c)}break;case 18:He!==null&&(yt?(e=He,qm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),di(e)):qm(He,n.stateNode));break;case 4:a=He,l=yt,He=n.stateNode.containerInfo,yt=!0,hn(e,t,n),He=a,yt=l;break;case 0:case 11:case 14:case 15:Pe||Un(2,n,t),Pe||Un(4,n,t),hn(e,t,n);break;case 1:Pe||(Ft(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Zd(n,t,a)),hn(e,t,n);break;case 21:hn(e,t,n);break;case 22:Pe=(a=Pe)||n.memoizedState!==null,hn(e,t,n),Pe=a;break;default:hn(e,t,n)}}function Fd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{di(e)}catch(n){Oe(t,t.return,n)}}function Ih(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new kd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new kd),t;default:throw Error(o(435,e.tag))}}function Xs(e,t){var n=Ih(e);t.forEach(function(a){var l=uy.bind(null,e,a);n.has(a)||(n.add(a),a.then(l,l))})}function _t(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var l=n[a],c=e,f=t,m=f;e:for(;m!==null;){switch(m.tag){case 27:if(Xn(m.type)){He=m.stateNode,yt=!1;break e}break;case 5:He=m.stateNode,yt=!1;break e;case 3:case 4:He=m.stateNode.containerInfo,yt=!0;break e}m=m.return}if(He===null)throw Error(o(160));Id(c,f,l),He=null,yt=!1,c=l.alternate,c!==null&&(c.return=null),l.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Wd(t,e),t=t.sibling}var Zt=null;function Wd(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_t(t,e),jt(e),a&4&&(Un(3,e,e.return),kl(3,e),Un(5,e,e.return));break;case 1:_t(t,e),jt(e),a&512&&(Pe||n===null||Ft(n,n.return)),a&64&&pn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var l=Zt;if(_t(t,e),jt(e),a&512&&(Pe||n===null||Ft(n,n.return)),a&4){var c=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,l=l.ownerDocument||l;t:switch(a){case"title":c=l.getElementsByTagName("title")[0],(!c||c[bl]||c[st]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=l.createElement(a),l.head.insertBefore(c,l.querySelector("head > title"))),ut(c,a,n),c[st]=e,We(c),a=c;break e;case"link":var f=Km("link","href",l).get(a+(n.href||""));if(f){for(var m=0;m<f.length;m++)if(c=f[m],c.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&c.getAttribute("rel")===(n.rel==null?null:n.rel)&&c.getAttribute("title")===(n.title==null?null:n.title)&&c.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){f.splice(m,1);break t}}c=l.createElement(a),ut(c,a,n),l.head.appendChild(c);break;case"meta":if(f=Km("meta","content",l).get(a+(n.content||""))){for(m=0;m<f.length;m++)if(c=f[m],c.getAttribute("content")===(n.content==null?null:""+n.content)&&c.getAttribute("name")===(n.name==null?null:n.name)&&c.getAttribute("property")===(n.property==null?null:n.property)&&c.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&c.getAttribute("charset")===(n.charSet==null?null:n.charSet)){f.splice(m,1);break t}}c=l.createElement(a),ut(c,a,n),l.head.appendChild(c);break;default:throw Error(o(468,a))}c[st]=e,We(c),a=c}e.stateNode=a}else km(l,e.type,e.stateNode);else e.stateNode=Pm(l,a,e.memoizedProps);else c!==a?(c===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):c.count--,a===null?km(l,e.type,e.stateNode):Pm(l,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Hs(e,e.memoizedProps,n.memoizedProps)}break;case 27:_t(t,e),jt(e),a&512&&(Pe||n===null||Ft(n,n.return)),n!==null&&a&4&&Hs(e,e.memoizedProps,n.memoizedProps);break;case 5:if(_t(t,e),jt(e),a&512&&(Pe||n===null||Ft(n,n.return)),e.flags&32){l=e.stateNode;try{Ca(l,"")}catch(C){Oe(e,e.return,C)}}a&4&&e.stateNode!=null&&(l=e.memoizedProps,Hs(e,l,n!==null?n.memoizedProps:l)),a&1024&&(Ys=!0);break;case 6:if(_t(t,e),jt(e),a&4){if(e.stateNode===null)throw Error(o(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(C){Oe(e,e.return,C)}}break;case 3:if(Nu=null,l=Zt,Zt=wu(t.containerInfo),_t(t,e),Zt=l,jt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{di(t.containerInfo)}catch(C){Oe(e,e.return,C)}Ys&&(Ys=!1,em(e));break;case 4:a=Zt,Zt=wu(e.stateNode.containerInfo),_t(t,e),jt(e),Zt=a;break;case 12:_t(t,e),jt(e);break;case 13:_t(t,e),jt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ks=Jt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Xs(e,a)));break;case 22:l=e.memoizedState!==null;var v=n!==null&&n.memoizedState!==null,_=pn,w=Pe;if(pn=_||l,Pe=w||v,_t(t,e),Pe=w,pn=_,jt(e),a&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(n===null||v||pn||Pe||da(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){v=n=t;try{if(c=v.stateNode,l)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{m=v.stateNode;var U=v.memoizedProps.style,j=U!=null&&U.hasOwnProperty("display")?U.display:null;m.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(C){Oe(v,v.return,C)}}}else if(t.tag===6){if(n===null){v=t;try{v.stateNode.nodeValue=l?"":v.memoizedProps}catch(C){Oe(v,v.return,C)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Xs(e,n))));break;case 19:_t(t,e),jt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Xs(e,a)));break;case 30:break;case 21:break;default:_t(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Pd(a)){n=a;break}a=a.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var l=n.stateNode,c=qs(e);vu(e,c,l);break;case 5:var f=n.stateNode;n.flags&32&&(Ca(f,""),n.flags&=-33);var m=qs(e);vu(e,m,f);break;case 3:case 4:var v=n.stateNode.containerInfo,_=qs(e);Gs(e,_,v);break;default:throw Error(o(161))}}catch(w){Oe(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function em(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;em(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ln(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Jd(e,t.alternate,t),t=t.sibling}function da(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Un(4,t,t.return),da(t);break;case 1:Ft(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Zd(t,t.return,n),da(t);break;case 27:li(t.stateNode);case 26:case 5:Ft(t,t.return),da(t);break;case 22:t.memoizedState===null&&da(t);break;case 30:da(t);break;default:da(t)}e=e.sibling}}function Bn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,l=e,c=t,f=c.flags;switch(c.tag){case 0:case 11:case 15:Bn(l,c,n),kl(4,c);break;case 1:if(Bn(l,c,n),a=c,l=a.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(_){Oe(a,a.return,_)}if(a=c,l=a.updateQueue,l!==null){var m=a.stateNode;try{var v=l.shared.hiddenCallbacks;if(v!==null)for(l.shared.hiddenCallbacks=null,l=0;l<v.length;l++)Of(v[l],m)}catch(_){Oe(a,a.return,_)}}n&&f&64&&Qd(c),Jl(c,c.return);break;case 27:Kd(c);case 26:case 5:Bn(l,c,n),n&&a===null&&f&4&&Vd(c),Jl(c,c.return);break;case 12:Bn(l,c,n);break;case 13:Bn(l,c,n),n&&f&4&&Fd(l,c);break;case 22:c.memoizedState===null&&Bn(l,c,n),Jl(c,c.return);break;case 30:break;default:Bn(l,c,n)}t=t.sibling}}function Qs(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ul(n))}function Zs(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ul(e))}function Wt(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)tm(e,t,n,a),t=t.sibling}function tm(e,t,n,a){var l=t.flags;switch(t.tag){case 0:case 11:case 15:Wt(e,t,n,a),l&2048&&kl(9,t);break;case 1:Wt(e,t,n,a);break;case 3:Wt(e,t,n,a),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ul(e)));break;case 12:if(l&2048){Wt(e,t,n,a),e=t.stateNode;try{var c=t.memoizedProps,f=c.id,m=c.onPostCommit;typeof m=="function"&&m(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(v){Oe(t,t.return,v)}}else Wt(e,t,n,a);break;case 13:Wt(e,t,n,a);break;case 23:break;case 22:c=t.stateNode,f=t.alternate,t.memoizedState!==null?c._visibility&2?Wt(e,t,n,a):$l(e,t):c._visibility&2?Wt(e,t,n,a):(c._visibility|=2,Ka(e,t,n,a,(t.subtreeFlags&10256)!==0)),l&2048&&Qs(f,t);break;case 24:Wt(e,t,n,a),l&2048&&Zs(t.alternate,t);break;default:Wt(e,t,n,a)}}function Ka(e,t,n,a,l){for(l=l&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var c=e,f=t,m=n,v=a,_=f.flags;switch(f.tag){case 0:case 11:case 15:Ka(c,f,m,v,l),kl(8,f);break;case 23:break;case 22:var w=f.stateNode;f.memoizedState!==null?w._visibility&2?Ka(c,f,m,v,l):$l(c,f):(w._visibility|=2,Ka(c,f,m,v,l)),l&&_&2048&&Qs(f.alternate,f);break;case 24:Ka(c,f,m,v,l),l&&_&2048&&Zs(f.alternate,f);break;default:Ka(c,f,m,v,l)}t=t.sibling}}function $l(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,l=a.flags;switch(a.tag){case 22:$l(n,a),l&2048&&Qs(a.alternate,a);break;case 24:$l(n,a),l&2048&&Zs(a.alternate,a);break;default:$l(n,a)}t=t.sibling}}var Il=8192;function ka(e){if(e.subtreeFlags&Il)for(e=e.child;e!==null;)nm(e),e=e.sibling}function nm(e){switch(e.tag){case 26:ka(e),e.flags&Il&&e.memoizedState!==null&&By(Zt,e.memoizedState,e.memoizedProps);break;case 5:ka(e);break;case 3:case 4:var t=Zt;Zt=wu(e.stateNode.containerInfo),ka(e),Zt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Il,Il=16777216,ka(e),Il=t):ka(e));break;default:ka(e)}}function am(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Fl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];tt=a,im(a,e)}am(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)lm(e),e=e.sibling}function lm(e){switch(e.tag){case 0:case 11:case 15:Fl(e),e.flags&2048&&Un(9,e,e.return);break;case 3:Fl(e);break;case 12:Fl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,bu(e)):Fl(e);break;default:Fl(e)}}function bu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];tt=a,im(a,e)}am(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Un(8,t,t.return),bu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,bu(t));break;default:bu(t)}e=e.sibling}}function im(e,t){for(;tt!==null;){var n=tt;switch(n.tag){case 0:case 11:case 15:Un(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Ul(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,tt=a;else e:for(n=e;tt!==null;){a=tt;var l=a.sibling,c=a.return;if($d(a),a===n){tt=null;break e}if(l!==null){l.return=c,tt=l;break e}tt=c}}}var Fh={getCacheForType:function(e){var t=ct(Ie),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Wh=typeof WeakMap=="function"?WeakMap:Map,Ee=0,ze=null,oe=null,ge=0,Ae=0,Ct=null,Rn=!1,Ja=!1,Vs=!1,yn=0,Qe=0,Hn=0,ma=0,Ps=0,Gt=0,$a=0,Wl=null,vt=null,Ks=!1,ks=0,Su=1/0,Eu=null,qn=null,it=0,Gn=null,Ia=null,Fa=0,Js=0,$s=null,um=null,ei=0,Is=null;function Ot(){if((Ee&2)!==0&&ge!==0)return ge&-ge;if(x.T!==null){var e=qa;return e!==0?e:lc()}return Er()}function om(){Gt===0&&(Gt=(ge&536870912)===0||ve?yr():536870912);var e=qt.current;return e!==null&&(e.flags|=32),Gt}function xt(e,t,n){(e===ze&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(Wa(e,0),Yn(e,ge,Gt,!1)),vl(e,n),((Ee&2)===0||e!==ze)&&(e===ze&&((Ee&2)===0&&(ma|=n),Qe===4&&Yn(e,ge,Gt,!1)),en(e))}function sm(e,t,n){if((Ee&6)!==0)throw Error(o(327));var a=!n&&(t&124)===0&&(t&e.expiredLanes)===0||yl(e,t),l=a?ny(e,t):ec(e,t,!0),c=a;do{if(l===0){Ja&&!a&&Yn(e,t,0,!1);break}else{if(n=e.current.alternate,c&&!ey(n)){l=ec(e,t,!1),c=!1;continue}if(l===2){if(c=t,e.errorRecoveryDisabledLanes&c)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var m=e;l=Wl;var v=m.current.memoizedState.isDehydrated;if(v&&(Wa(m,f).flags|=256),f=ec(m,f,!1),f!==2){if(Vs&&!v){m.errorRecoveryDisabledLanes|=c,ma|=c,l=4;break e}c=vt,vt=l,c!==null&&(vt===null?vt=c:vt.push.apply(vt,c))}l=f}if(c=!1,l!==2)continue}}if(l===1){Wa(e,0),Yn(e,t,0,!0);break}e:{switch(a=e,c=l,c){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Yn(a,t,Gt,!Rn);break e;case 2:vt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(l=ks+300-Jt(),10<l)){if(Yn(a,t,Gt,!Rn),zi(a,0,!0)!==0)break e;a.timeoutHandle=Rm(cm.bind(null,a,n,vt,Eu,Ks,t,Gt,ma,$a,Rn,c,2,-0,0),l);break e}cm(a,n,vt,Eu,Ks,t,Gt,ma,$a,Rn,c,0,-0,0)}}break}while(!0);en(e)}function cm(e,t,n,a,l,c,f,m,v,_,w,U,j,C){if(e.timeoutHandle=-1,U=t.subtreeFlags,(U&8192||(U&16785408)===16785408)&&(oi={stylesheets:null,count:0,unsuspend:Ly},nm(t),U=Ry(),U!==null)){e.cancelPendingCommit=U(hm.bind(null,e,t,c,n,a,l,f,m,v,w,1,j,C)),Yn(e,c,f,!_);return}hm(e,t,c,n,a,l,f,m,v)}function ey(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var l=n[a],c=l.getSnapshot;l=l.value;try{if(!Mt(c(),l))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yn(e,t,n,a){t&=~Ps,t&=~ma,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var l=t;0<l;){var c=31-Tt(l),f=1<<c;a[c]=-1,l&=~f}n!==0&&br(e,n,t)}function Au(){return(Ee&6)===0?(ti(0),!1):!0}function Fs(){if(oe!==null){if(Ae===0)var e=oe.return;else e=oe,cn=oa=null,ps(e),Va=null,Vl=0,e=oe;for(;e!==null;)Xd(e.alternate,e),e=e.return;oe=null}}function Wa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,vy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Fs(),ze=e,oe=n=un(e.current,null),ge=t,Ae=0,Ct=null,Rn=!1,Ja=yl(e,t),Vs=!1,$a=Gt=Ps=ma=Hn=Qe=0,vt=Wl=null,Ks=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var l=31-Tt(a),c=1<<l;t|=e[l],a&=~c}return yn=t,Zi(),n}function rm(e,t){ie=null,x.H=cu,t===Bl||t===Wi?(t=jf(),Ae=3):t===Mf?(t=jf(),Ae=4):Ae=t===Cd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ct=t,oe===null&&(Qe=1,gu(e,Lt(t,e.current)))}function fm(){var e=x.H;return x.H=cu,e===null?cu:e}function dm(){var e=x.A;return x.A=Fh,e}function Ws(){Qe=4,Rn||(ge&4194048)!==ge&&qt.current!==null||(Ja=!0),(Hn&134217727)===0&&(ma&134217727)===0||ze===null||Yn(ze,ge,Gt,!1)}function ec(e,t,n){var a=Ee;Ee|=2;var l=fm(),c=dm();(ze!==e||ge!==t)&&(Eu=null,Wa(e,t)),t=!1;var f=Qe;e:do try{if(Ae!==0&&oe!==null){var m=oe,v=Ct;switch(Ae){case 8:Fs(),f=6;break e;case 3:case 2:case 9:case 6:qt.current===null&&(t=!0);var _=Ae;if(Ae=0,Ct=null,el(e,m,v,_),n&&Ja){f=0;break e}break;default:_=Ae,Ae=0,Ct=null,el(e,m,v,_)}}ty(),f=Qe;break}catch(w){rm(e,w)}while(!0);return t&&e.shellSuspendCounter++,cn=oa=null,Ee=a,x.H=l,x.A=c,oe===null&&(ze=null,ge=0,Zi()),f}function ty(){for(;oe!==null;)mm(oe)}function ny(e,t){var n=Ee;Ee|=2;var a=fm(),l=dm();ze!==e||ge!==t?(Eu=null,Su=Jt()+500,Wa(e,t)):Ja=yl(e,t);e:do try{if(Ae!==0&&oe!==null){t=oe;var c=Ct;t:switch(Ae){case 1:Ae=0,Ct=null,el(e,t,c,1);break;case 2:case 9:if(Df(c)){Ae=0,Ct=null,gm(t);break}t=function(){Ae!==2&&Ae!==9||ze!==e||(Ae=7),en(e)},c.then(t,t);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:Df(c)?(Ae=0,Ct=null,gm(t)):(Ae=0,Ct=null,el(e,t,c,7));break;case 5:var f=null;switch(oe.tag){case 26:f=oe.memoizedState;case 5:case 27:var m=oe;if(!f||Jm(f)){Ae=0,Ct=null;var v=m.sibling;if(v!==null)oe=v;else{var _=m.return;_!==null?(oe=_,Tu(_)):oe=null}break t}}Ae=0,Ct=null,el(e,t,c,5);break;case 6:Ae=0,Ct=null,el(e,t,c,6);break;case 8:Fs(),Qe=6;break e;default:throw Error(o(462))}}ay();break}catch(w){rm(e,w)}while(!0);return cn=oa=null,x.H=a,x.A=l,Ee=n,oe!==null?0:(ze=null,ge=0,Zi(),Qe)}function ay(){for(;oe!==null&&!Dp();)mm(oe)}function mm(e){var t=Gd(e.alternate,e,yn);e.memoizedProps=e.pendingProps,t===null?Tu(e):oe=t}function gm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ud(n,t,t.pendingProps,t.type,void 0,ge);break;case 11:t=Ud(n,t,t.pendingProps,t.type.render,t.ref,ge);break;case 5:ps(t);default:Xd(n,t),t=oe=pf(t,yn),t=Gd(n,t,yn)}e.memoizedProps=e.pendingProps,t===null?Tu(e):oe=t}function el(e,t,n,a){cn=oa=null,ps(t),Va=null,Vl=0;var l=t.return;try{if(Ph(e,l,t,n,ge)){Qe=1,gu(e,Lt(n,e.current)),oe=null;return}}catch(c){if(l!==null)throw oe=l,c;Qe=1,gu(e,Lt(n,e.current)),oe=null;return}t.flags&32768?(ve||a===1?e=!0:Ja||(ge&536870912)!==0?e=!1:(Rn=e=!0,(a===2||a===9||a===3||a===6)&&(a=qt.current,a!==null&&a.tag===13&&(a.flags|=16384))),pm(t,e)):Tu(t)}function Tu(e){var t=e;do{if((t.flags&32768)!==0){pm(t,Rn);return}e=t.return;var n=kh(t.alternate,t,yn);if(n!==null){oe=n;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);Qe===0&&(Qe=5)}function pm(e,t){do{var n=Jh(e.alternate,e);if(n!==null){n.flags&=32767,oe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){oe=e;return}oe=e=n}while(e!==null);Qe=6,oe=null}function hm(e,t,n,a,l,c,f,m,v){e.cancelPendingCommit=null;do Mu();while(it!==0);if((Ee&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(c=t.lanes|t.childLanes,c|=Zo,Lp(e,n,c,f,m,v),e===ze&&(oe=ze=null,ge=0),Ia=t,Gn=e,Fa=n,Js=c,$s=l,um=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,oy(Oi,function(){return Em(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=x.T,x.T=null,l=q.p,q.p=2,f=Ee,Ee|=4;try{$h(e,t,n)}finally{Ee=f,q.p=l,x.T=a}}it=1,ym(),vm(),bm()}}function ym(){if(it===1){it=0;var e=Gn,t=Ia,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=x.T,x.T=null;var a=q.p;q.p=2;var l=Ee;Ee|=4;try{Wd(t,e);var c=dc,f=lf(e.containerInfo),m=c.focusedElem,v=c.selectionRange;if(f!==m&&m&&m.ownerDocument&&af(m.ownerDocument.documentElement,m)){if(v!==null&&qo(m)){var _=v.start,w=v.end;if(w===void 0&&(w=_),"selectionStart"in m)m.selectionStart=_,m.selectionEnd=Math.min(w,m.value.length);else{var U=m.ownerDocument||document,j=U&&U.defaultView||window;if(j.getSelection){var C=j.getSelection(),I=m.textContent.length,J=Math.min(v.start,I),je=v.end===void 0?J:Math.min(v.end,I);!C.extend&&J>je&&(f=je,je=J,J=f);var T=nf(m,J),E=nf(m,je);if(T&&E&&(C.rangeCount!==1||C.anchorNode!==T.node||C.anchorOffset!==T.offset||C.focusNode!==E.node||C.focusOffset!==E.offset)){var D=U.createRange();D.setStart(T.node,T.offset),C.removeAllRanges(),J>je?(C.addRange(D),C.extend(E.node,E.offset)):(D.setEnd(E.node,E.offset),C.addRange(D))}}}}for(U=[],C=m;C=C.parentNode;)C.nodeType===1&&U.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<U.length;m++){var z=U[m];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}Bu=!!fc,dc=fc=null}finally{Ee=l,q.p=a,x.T=n}}e.current=t,it=2}}function vm(){if(it===2){it=0;var e=Gn,t=Ia,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=x.T,x.T=null;var a=q.p;q.p=2;var l=Ee;Ee|=4;try{Jd(e,t.alternate,t)}finally{Ee=l,q.p=a,x.T=n}}it=3}}function bm(){if(it===4||it===3){it=0,_p();var e=Gn,t=Ia,n=Fa,a=um;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?it=5:(it=0,Ia=Gn=null,Sm(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(qn=null),vo(n),t=t.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(hl,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=x.T,l=q.p,q.p=2,x.T=null;try{for(var c=e.onRecoverableError,f=0;f<a.length;f++){var m=a[f];c(m.value,{componentStack:m.stack})}}finally{x.T=t,q.p=l}}(Fa&3)!==0&&Mu(),en(e),l=e.pendingLanes,(n&4194090)!==0&&(l&42)!==0?e===Is?ei++:(ei=0,Is=e):ei=0,ti(0)}}function Sm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ul(t)))}function Mu(e){return ym(),vm(),bm(),Em()}function Em(){if(it!==5)return!1;var e=Gn,t=Js;Js=0;var n=vo(Fa),a=x.T,l=q.p;try{q.p=32>n?32:n,x.T=null,n=$s,$s=null;var c=Gn,f=Fa;if(it=0,Ia=Gn=null,Fa=0,(Ee&6)!==0)throw Error(o(331));var m=Ee;if(Ee|=4,lm(c.current),tm(c,c.current,f,n),Ee=m,ti(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(hl,c)}catch{}return!0}finally{q.p=l,x.T=a,Sm(e,t)}}function Am(e,t,n){t=Lt(n,t),t=Os(e.stateNode,t,2),e=xn(e,t,2),e!==null&&(vl(e,2),en(e))}function Oe(e,t,n){if(e.tag===3)Am(e,e,n);else for(;t!==null;){if(t.tag===3){Am(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(qn===null||!qn.has(a))){e=Lt(n,e),n=_d(2),a=xn(t,n,2),a!==null&&(jd(n,a,t,e),vl(a,2),en(a));break}}t=t.return}}function tc(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Wh;var l=new Set;a.set(t,l)}else l=a.get(t),l===void 0&&(l=new Set,a.set(t,l));l.has(n)||(Vs=!0,l.add(n),e=ly.bind(null,e,t,n),t.then(e,e))}function ly(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ze===e&&(ge&n)===n&&(Qe===4||Qe===3&&(ge&62914560)===ge&&300>Jt()-ks?(Ee&2)===0&&Wa(e,0):Ps|=n,$a===ge&&($a=0)),en(e)}function Tm(e,t){t===0&&(t=vr()),e=La(e,t),e!==null&&(vl(e,t),en(e))}function iy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Tm(e,n)}function uy(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(t),Tm(e,n)}function oy(e,t){return go(e,t)}var Du=null,tl=null,nc=!1,_u=!1,ac=!1,ga=0;function en(e){e!==tl&&e.next===null&&(tl===null?Du=tl=e:tl=tl.next=e),_u=!0,nc||(nc=!0,cy())}function ti(e,t){if(!ac&&_u){ac=!0;do for(var n=!1,a=Du;a!==null;){if(e!==0){var l=a.pendingLanes;if(l===0)var c=0;else{var f=a.suspendedLanes,m=a.pingedLanes;c=(1<<31-Tt(42|e)+1)-1,c&=l&~(f&~m),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(n=!0,jm(a,c))}else c=ge,c=zi(a,a===ze?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(c&3)===0||yl(a,c)||(n=!0,jm(a,c));a=a.next}while(n);ac=!1}}function sy(){Mm()}function Mm(){_u=nc=!1;var e=0;ga!==0&&(yy()&&(e=ga),ga=0);for(var t=Jt(),n=null,a=Du;a!==null;){var l=a.next,c=Dm(a,t);c===0?(a.next=null,n===null?Du=l:n.next=l,l===null&&(tl=n)):(n=a,(e!==0||(c&3)!==0)&&(_u=!0)),a=l}ti(e)}function Dm(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,l=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var f=31-Tt(c),m=1<<f,v=l[f];v===-1?((m&n)===0||(m&a)!==0)&&(l[f]=Up(m,t)):v<=t&&(e.expiredLanes|=m),c&=~m}if(t=ze,n=ge,n=zi(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&po(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||yl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&po(a),vo(n)){case 2:case 8:n=pr;break;case 32:n=Oi;break;case 268435456:n=hr;break;default:n=Oi}return a=_m.bind(null,e),n=go(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&po(a),e.callbackPriority=2,e.callbackNode=null,2}function _m(e,t){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Mu()&&e.callbackNode!==n)return null;var a=ge;return a=zi(e,e===ze?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(sm(e,a,t),Dm(e,Jt()),e.callbackNode!=null&&e.callbackNode===n?_m.bind(null,e):null)}function jm(e,t){if(Mu())return null;sm(e,t,!0)}function cy(){by(function(){(Ee&6)!==0?go(gr,sy):Mm()})}function lc(){return ga===0&&(ga=yr()),ga}function Cm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ri(""+e)}function Om(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function ry(e,t,n,a,l){if(t==="submit"&&n&&n.stateNode===l){var c=Cm((l[gt]||null).action),f=a.submitter;f&&(t=(t=f[gt]||null)?Cm(t.formAction):f.getAttribute("formAction"),t!==null&&(c=t,f=null));var m=new Yi("action","action",null,a,l);e.push({event:m,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ga!==0){var v=f?Om(l,f):new FormData(l);Ms(n,{pending:!0,data:v,method:l.method,action:c},null,v)}}else typeof c=="function"&&(m.preventDefault(),v=f?Om(l,f):new FormData(l),Ms(n,{pending:!0,data:v,method:l.method,action:c},c,v))},currentTarget:l}]})}}for(var ic=0;ic<Qo.length;ic++){var uc=Qo[ic],fy=uc.toLowerCase(),dy=uc[0].toUpperCase()+uc.slice(1);Qt(fy,"on"+dy)}Qt(sf,"onAnimationEnd"),Qt(cf,"onAnimationIteration"),Qt(rf,"onAnimationStart"),Qt("dblclick","onDoubleClick"),Qt("focusin","onFocus"),Qt("focusout","onBlur"),Qt(Oh,"onTransitionRun"),Qt(xh,"onTransitionStart"),Qt(wh,"onTransitionCancel"),Qt(ff,"onTransitionEnd"),Da("onMouseEnter",["mouseout","mouseover"]),Da("onMouseLeave",["mouseout","mouseover"]),Da("onPointerEnter",["pointerout","pointerover"]),Da("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),my=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ni));function xm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],l=a.event;a=a.listeners;e:{var c=void 0;if(t)for(var f=a.length-1;0<=f;f--){var m=a[f],v=m.instance,_=m.currentTarget;if(m=m.listener,v!==c&&l.isPropagationStopped())break e;c=m,l.currentTarget=_;try{c(l)}catch(w){mu(w)}l.currentTarget=null,c=v}else for(f=0;f<a.length;f++){if(m=a[f],v=m.instance,_=m.currentTarget,m=m.listener,v!==c&&l.isPropagationStopped())break e;c=m,l.currentTarget=_;try{c(l)}catch(w){mu(w)}l.currentTarget=null,c=v}}}}function se(e,t){var n=t[bo];n===void 0&&(n=t[bo]=new Set);var a=e+"__bubble";n.has(a)||(wm(t,e,2,!1),n.add(a))}function oc(e,t,n){var a=0;t&&(a|=4),wm(n,e,a,t)}var ju="_reactListening"+Math.random().toString(36).slice(2);function sc(e){if(!e[ju]){e[ju]=!0,Tr.forEach(function(n){n!=="selectionchange"&&(my.has(n)||oc(n,!1,e),oc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ju]||(t[ju]=!0,oc("selectionchange",!1,t))}}function wm(e,t,n,a){switch(tg(t)){case 2:var l=Gy;break;case 8:l=Yy;break;default:l=Ac}n=l.bind(null,t,n,e),l=void 0,!xo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),a?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function cc(e,t,n,a,l){var c=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var f=a.tag;if(f===3||f===4){var m=a.stateNode.containerInfo;if(m===l)break;if(f===4)for(f=a.return;f!==null;){var v=f.tag;if((v===3||v===4)&&f.stateNode.containerInfo===l)return;f=f.return}for(;m!==null;){if(f=Aa(m),f===null)return;if(v=f.tag,v===5||v===6||v===26||v===27){a=c=f;continue e}m=m.parentNode}}a=a.return}Rr(function(){var _=c,w=Co(n),U=[];e:{var j=df.get(e);if(j!==void 0){var C=Yi,I=e;switch(e){case"keypress":if(qi(n)===0)break e;case"keydown":case"keyup":C=oh;break;case"focusin":I="focus",C=Uo;break;case"focusout":I="blur",C=Uo;break;case"beforeblur":case"afterblur":C=Uo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=Gr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=Jp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=rh;break;case sf:case cf:case rf:C=Fp;break;case ff:C=dh;break;case"scroll":case"scrollend":C=Kp;break;case"wheel":C=gh;break;case"copy":case"cut":case"paste":C=eh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=Xr;break;case"toggle":case"beforetoggle":C=hh}var J=(t&4)!==0,je=!J&&(e==="scroll"||e==="scrollend"),T=J?j!==null?j+"Capture":null:j;J=[];for(var E=_,D;E!==null;){var z=E;if(D=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||D===null||T===null||(z=El(E,T),z!=null&&J.push(ai(E,z,D))),je)break;E=E.return}0<J.length&&(j=new C(j,I,null,n,w),U.push({event:j,listeners:J}))}}if((t&7)===0){e:{if(j=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",j&&n!==jo&&(I=n.relatedTarget||n.fromElement)&&(Aa(I)||I[Ea]))break e;if((C||j)&&(j=w.window===w?w:(j=w.ownerDocument)?j.defaultView||j.parentWindow:window,C?(I=n.relatedTarget||n.toElement,C=_,I=I?Aa(I):null,I!==null&&(je=d(I),J=I.tag,I!==je||J!==5&&J!==27&&J!==6)&&(I=null)):(C=null,I=_),C!==I)){if(J=Gr,z="onMouseLeave",T="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(J=Xr,z="onPointerLeave",T="onPointerEnter",E="pointer"),je=C==null?j:Sl(C),D=I==null?j:Sl(I),j=new J(z,E+"leave",C,n,w),j.target=je,j.relatedTarget=D,z=null,Aa(w)===_&&(J=new J(T,E+"enter",I,n,w),J.target=D,J.relatedTarget=je,z=J),je=z,C&&I)t:{for(J=C,T=I,E=0,D=J;D;D=nl(D))E++;for(D=0,z=T;z;z=nl(z))D++;for(;0<E-D;)J=nl(J),E--;for(;0<D-E;)T=nl(T),D--;for(;E--;){if(J===T||T!==null&&J===T.alternate)break t;J=nl(J),T=nl(T)}J=null}else J=null;C!==null&&zm(U,j,C,J,!1),I!==null&&je!==null&&zm(U,je,I,J,!0)}}e:{if(j=_?Sl(_):window,C=j.nodeName&&j.nodeName.toLowerCase(),C==="select"||C==="input"&&j.type==="file")var Z=$r;else if(kr(j))if(Ir)Z=_h;else{Z=Mh;var ue=Th}else C=j.nodeName,!C||C.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?_&&_o(_.elementType)&&(Z=$r):Z=Dh;if(Z&&(Z=Z(e,_))){Jr(U,Z,n,w);break e}ue&&ue(e,j,_),e==="focusout"&&_&&j.type==="number"&&_.memoizedProps.value!=null&&Do(j,"number",j.value)}switch(ue=_?Sl(_):window,e){case"focusin":(kr(ue)||ue.contentEditable==="true")&&(za=ue,Go=_,Ol=null);break;case"focusout":Ol=Go=za=null;break;case"mousedown":Yo=!0;break;case"contextmenu":case"mouseup":case"dragend":Yo=!1,uf(U,n,w);break;case"selectionchange":if(Ch)break;case"keydown":case"keyup":uf(U,n,w)}var P;if(Bo)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else wa?Pr(e,n)&&($="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(Qr&&n.locale!=="ko"&&(wa||$!=="onCompositionStart"?$==="onCompositionEnd"&&wa&&(P=Hr()):(_n=w,wo="value"in _n?_n.value:_n.textContent,wa=!0)),ue=Cu(_,$),0<ue.length&&($=new Yr($,e,null,n,w),U.push({event:$,listeners:ue}),P?$.data=P:(P=Kr(n),P!==null&&($.data=P)))),(P=vh?bh(e,n):Sh(e,n))&&($=Cu(_,"onBeforeInput"),0<$.length&&(ue=new Yr("onBeforeInput","beforeinput",null,n,w),U.push({event:ue,listeners:$}),ue.data=P)),ry(U,e,_,n,w)}xm(U,t)})}function ai(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Cu(e,t){for(var n=t+"Capture",a=[];e!==null;){var l=e,c=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||c===null||(l=El(e,n),l!=null&&a.unshift(ai(e,l,c)),l=El(e,t),l!=null&&a.push(ai(e,l,c))),e.tag===3)return a;e=e.return}return[]}function nl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function zm(e,t,n,a,l){for(var c=t._reactName,f=[];n!==null&&n!==a;){var m=n,v=m.alternate,_=m.stateNode;if(m=m.tag,v!==null&&v===a)break;m!==5&&m!==26&&m!==27||_===null||(v=_,l?(_=El(n,c),_!=null&&f.unshift(ai(n,_,v))):l||(_=El(n,c),_!=null&&f.push(ai(n,_,v)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var gy=/\r\n?/g,py=/\u0000|\uFFFD/g;function Nm(e){return(typeof e=="string"?e:""+e).replace(gy,`
`).replace(py,"")}function Um(e,t){return t=Nm(t),Nm(e)===t}function Ou(){}function _e(e,t,n,a,l,c){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Ca(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Ca(e,""+a);break;case"className":Ui(e,"class",a);break;case"tabIndex":Ui(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Ui(e,n,a);break;case"style":Lr(e,a,c);break;case"data":if(t!=="object"){Ui(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Ri(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(n==="formAction"?(t!=="input"&&_e(e,t,"name",l.name,l,null),_e(e,t,"formEncType",l.formEncType,l,null),_e(e,t,"formMethod",l.formMethod,l,null),_e(e,t,"formTarget",l.formTarget,l,null)):(_e(e,t,"encType",l.encType,l,null),_e(e,t,"method",l.method,l,null),_e(e,t,"target",l.target,l,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Ri(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=Ou);break;case"onScroll":a!=null&&se("scroll",e);break;case"onScrollEnd":a!=null&&se("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Ri(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":se("beforetoggle",e),se("toggle",e),Ni(e,"popover",a);break;case"xlinkActuate":an(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":an(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":an(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":an(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":an(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":an(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":an(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":an(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":an(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Ni(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Vp.get(n)||n,Ni(e,n,a))}}function rc(e,t,n,a,l,c){switch(n){case"style":Lr(e,a,c);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Ca(e,a):(typeof a=="number"||typeof a=="bigint")&&Ca(e,""+a);break;case"onScroll":a!=null&&se("scroll",e);break;case"onScrollEnd":a!=null&&se("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Ou);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mr.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),t=n.slice(2,l?n.length-7:void 0),c=e[gt]||null,c=c!=null?c[n]:null,typeof c=="function"&&e.removeEventListener(t,c,l),typeof a=="function")){typeof c!="function"&&c!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,l);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Ni(e,n,a)}}}function ut(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":se("error",e),se("load",e);var a=!1,l=!1,c;for(c in n)if(n.hasOwnProperty(c)){var f=n[c];if(f!=null)switch(c){case"src":a=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:_e(e,t,c,f,n,null)}}l&&_e(e,t,"srcSet",n.srcSet,n,null),a&&_e(e,t,"src",n.src,n,null);return;case"input":se("invalid",e);var m=c=f=l=null,v=null,_=null;for(a in n)if(n.hasOwnProperty(a)){var w=n[a];if(w!=null)switch(a){case"name":l=w;break;case"type":f=w;break;case"checked":v=w;break;case"defaultChecked":_=w;break;case"value":c=w;break;case"defaultValue":m=w;break;case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(o(137,t));break;default:_e(e,t,a,w,n,null)}}wr(e,c,m,v,_,f,l,!1),Li(e);return;case"select":se("invalid",e),a=f=c=null;for(l in n)if(n.hasOwnProperty(l)&&(m=n[l],m!=null))switch(l){case"value":c=m;break;case"defaultValue":f=m;break;case"multiple":a=m;default:_e(e,t,l,m,n,null)}t=c,n=f,e.multiple=!!a,t!=null?ja(e,!!a,t,!1):n!=null&&ja(e,!!a,n,!0);return;case"textarea":se("invalid",e),c=l=a=null;for(f in n)if(n.hasOwnProperty(f)&&(m=n[f],m!=null))switch(f){case"value":a=m;break;case"defaultValue":l=m;break;case"children":c=m;break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(o(91));break;default:_e(e,t,f,m,n,null)}Nr(e,a,l,c),Li(e);return;case"option":for(v in n)if(n.hasOwnProperty(v)&&(a=n[v],a!=null))switch(v){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:_e(e,t,v,a,n,null)}return;case"dialog":se("beforetoggle",e),se("toggle",e),se("cancel",e),se("close",e);break;case"iframe":case"object":se("load",e);break;case"video":case"audio":for(a=0;a<ni.length;a++)se(ni[a],e);break;case"image":se("error",e),se("load",e);break;case"details":se("toggle",e);break;case"embed":case"source":case"link":se("error",e),se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_ in n)if(n.hasOwnProperty(_)&&(a=n[_],a!=null))switch(_){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:_e(e,t,_,a,n,null)}return;default:if(_o(t)){for(w in n)n.hasOwnProperty(w)&&(a=n[w],a!==void 0&&rc(e,t,w,a,n,void 0));return}}for(m in n)n.hasOwnProperty(m)&&(a=n[m],a!=null&&_e(e,t,m,a,n,null))}function hy(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,c=null,f=null,m=null,v=null,_=null,w=null;for(C in n){var U=n[C];if(n.hasOwnProperty(C)&&U!=null)switch(C){case"checked":break;case"value":break;case"defaultValue":v=U;default:a.hasOwnProperty(C)||_e(e,t,C,null,a,U)}}for(var j in a){var C=a[j];if(U=n[j],a.hasOwnProperty(j)&&(C!=null||U!=null))switch(j){case"type":c=C;break;case"name":l=C;break;case"checked":_=C;break;case"defaultChecked":w=C;break;case"value":f=C;break;case"defaultValue":m=C;break;case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(o(137,t));break;default:C!==U&&_e(e,t,j,C,a,U)}}Mo(e,f,m,v,_,w,c,l);return;case"select":C=f=m=j=null;for(c in n)if(v=n[c],n.hasOwnProperty(c)&&v!=null)switch(c){case"value":break;case"multiple":C=v;default:a.hasOwnProperty(c)||_e(e,t,c,null,a,v)}for(l in a)if(c=a[l],v=n[l],a.hasOwnProperty(l)&&(c!=null||v!=null))switch(l){case"value":j=c;break;case"defaultValue":m=c;break;case"multiple":f=c;default:c!==v&&_e(e,t,l,c,a,v)}t=m,n=f,a=C,j!=null?ja(e,!!n,j,!1):!!a!=!!n&&(t!=null?ja(e,!!n,t,!0):ja(e,!!n,n?[]:"",!1));return;case"textarea":C=j=null;for(m in n)if(l=n[m],n.hasOwnProperty(m)&&l!=null&&!a.hasOwnProperty(m))switch(m){case"value":break;case"children":break;default:_e(e,t,m,null,a,l)}for(f in a)if(l=a[f],c=n[f],a.hasOwnProperty(f)&&(l!=null||c!=null))switch(f){case"value":j=l;break;case"defaultValue":C=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(o(91));break;default:l!==c&&_e(e,t,f,l,a,c)}zr(e,j,C);return;case"option":for(var I in n)if(j=n[I],n.hasOwnProperty(I)&&j!=null&&!a.hasOwnProperty(I))switch(I){case"selected":e.selected=!1;break;default:_e(e,t,I,null,a,j)}for(v in a)if(j=a[v],C=n[v],a.hasOwnProperty(v)&&j!==C&&(j!=null||C!=null))switch(v){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:_e(e,t,v,j,a,C)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var J in n)j=n[J],n.hasOwnProperty(J)&&j!=null&&!a.hasOwnProperty(J)&&_e(e,t,J,null,a,j);for(_ in a)if(j=a[_],C=n[_],a.hasOwnProperty(_)&&j!==C&&(j!=null||C!=null))switch(_){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(o(137,t));break;default:_e(e,t,_,j,a,C)}return;default:if(_o(t)){for(var je in n)j=n[je],n.hasOwnProperty(je)&&j!==void 0&&!a.hasOwnProperty(je)&&rc(e,t,je,void 0,a,j);for(w in a)j=a[w],C=n[w],!a.hasOwnProperty(w)||j===C||j===void 0&&C===void 0||rc(e,t,w,j,a,C);return}}for(var T in n)j=n[T],n.hasOwnProperty(T)&&j!=null&&!a.hasOwnProperty(T)&&_e(e,t,T,null,a,j);for(U in a)j=a[U],C=n[U],!a.hasOwnProperty(U)||j===C||j==null&&C==null||_e(e,t,U,j,a,C)}var fc=null,dc=null;function xu(e){return e.nodeType===9?e:e.ownerDocument}function Lm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function mc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gc=null;function yy(){var e=window.event;return e&&e.type==="popstate"?e===gc?!1:(gc=e,!0):(gc=null,!1)}var Rm=typeof setTimeout=="function"?setTimeout:void 0,vy=typeof clearTimeout=="function"?clearTimeout:void 0,Hm=typeof Promise=="function"?Promise:void 0,by=typeof queueMicrotask=="function"?queueMicrotask:typeof Hm<"u"?function(e){return Hm.resolve(null).then(e).catch(Sy)}:Rm;function Sy(e){setTimeout(function(){throw e})}function Xn(e){return e==="head"}function qm(e,t){var n=t,a=0,l=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"){if(0<a&&8>a){n=a;var f=e.ownerDocument;if(n&1&&li(f.documentElement),n&2&&li(f.body),n&4)for(n=f.head,li(n),f=n.firstChild;f;){var m=f.nextSibling,v=f.nodeName;f[bl]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&f.rel.toLowerCase()==="stylesheet"||n.removeChild(f),f=m}}if(l===0){e.removeChild(c),di(t);return}l--}else n==="$"||n==="$?"||n==="$!"?l++:a=n.charCodeAt(0)-48;else a=0;n=c}while(n);di(t)}function pc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":pc(n),So(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Ey(e,t,n,a){for(;e.nodeType===1;){var l=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[bl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Vt(e.nextSibling),e===null)break}return null}function Ay(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vt(e.nextSibling),e===null))return null;return e}function hc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Ty(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var yc=null;function Gm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function Ym(e,t,n){switch(t=xu(n),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function li(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);So(e)}var Yt=new Map,Xm=new Set;function wu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vn=q.d;q.d={f:My,r:Dy,D:_y,C:jy,L:Cy,m:Oy,X:wy,S:xy,M:zy};function My(){var e=vn.f(),t=Au();return e||t}function Dy(e){var t=Ta(e);t!==null&&t.tag===5&&t.type==="form"?sd(t):vn.r(e)}var al=typeof document>"u"?null:document;function Qm(e,t,n){var a=al;if(a&&typeof t=="string"&&t){var l=Ut(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),Xm.has(l)||(Xm.add(l),e={rel:e,crossOrigin:n,href:t},a.querySelector(l)===null&&(t=a.createElement("link"),ut(t,"link",e),We(t),a.head.appendChild(t)))}}function _y(e){vn.D(e),Qm("dns-prefetch",e,null)}function jy(e,t){vn.C(e,t),Qm("preconnect",e,t)}function Cy(e,t,n){vn.L(e,t,n);var a=al;if(a&&e&&t){var l='link[rel="preload"][as="'+Ut(t)+'"]';t==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+Ut(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+Ut(n.imageSizes)+'"]')):l+='[href="'+Ut(e)+'"]';var c=l;switch(t){case"style":c=ll(e);break;case"script":c=il(e)}Yt.has(c)||(e=A({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Yt.set(c,e),a.querySelector(l)!==null||t==="style"&&a.querySelector(ii(c))||t==="script"&&a.querySelector(ui(c))||(t=a.createElement("link"),ut(t,"link",e),We(t),a.head.appendChild(t)))}}function Oy(e,t){vn.m(e,t);var n=al;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+Ut(a)+'"][href="'+Ut(e)+'"]',c=l;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=il(e)}if(!Yt.has(c)&&(e=A({rel:"modulepreload",href:e},t),Yt.set(c,e),n.querySelector(l)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ui(c)))return}a=n.createElement("link"),ut(a,"link",e),We(a),n.head.appendChild(a)}}}function xy(e,t,n){vn.S(e,t,n);var a=al;if(a&&e){var l=Ma(a).hoistableStyles,c=ll(e);t=t||"default";var f=l.get(c);if(!f){var m={loading:0,preload:null};if(f=a.querySelector(ii(c)))m.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Yt.get(c))&&vc(e,n);var v=f=a.createElement("link");We(v),ut(v,"link",e),v._p=new Promise(function(_,w){v.onload=_,v.onerror=w}),v.addEventListener("load",function(){m.loading|=1}),v.addEventListener("error",function(){m.loading|=2}),m.loading|=4,zu(f,t,a)}f={type:"stylesheet",instance:f,count:1,state:m},l.set(c,f)}}}function wy(e,t){vn.X(e,t);var n=al;if(n&&e){var a=Ma(n).hoistableScripts,l=il(e),c=a.get(l);c||(c=n.querySelector(ui(l)),c||(e=A({src:e,async:!0},t),(t=Yt.get(l))&&bc(e,t),c=n.createElement("script"),We(c),ut(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(l,c))}}function zy(e,t){vn.M(e,t);var n=al;if(n&&e){var a=Ma(n).hoistableScripts,l=il(e),c=a.get(l);c||(c=n.querySelector(ui(l)),c||(e=A({src:e,async:!0,type:"module"},t),(t=Yt.get(l))&&bc(e,t),c=n.createElement("script"),We(c),ut(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(l,c))}}function Zm(e,t,n,a){var l=(l=te.current)?wu(l):null;if(!l)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ll(n.href),n=Ma(l).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ll(n.href);var c=Ma(l).hoistableStyles,f=c.get(e);if(f||(l=l.ownerDocument||l,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,f),(c=l.querySelector(ii(e)))&&!c._p&&(f.instance=c,f.state.loading=5),Yt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Yt.set(e,n),c||Ny(l,e,n,f.state))),t&&a===null)throw Error(o(528,""));return f}if(t&&a!==null)throw Error(o(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=il(n),n=Ma(l).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function ll(e){return'href="'+Ut(e)+'"'}function ii(e){return'link[rel="stylesheet"]['+e+"]"}function Vm(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function Ny(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),ut(t,"link",n),We(t),e.head.appendChild(t))}function il(e){return'[src="'+Ut(e)+'"]'}function ui(e){return"script[async]"+e}function Pm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Ut(n.href)+'"]');if(a)return t.instance=a,We(a),a;var l=A({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),We(a),ut(a,"style",l),zu(a,n.precedence,e),t.instance=a;case"stylesheet":l=ll(n.href);var c=e.querySelector(ii(l));if(c)return t.state.loading|=4,t.instance=c,We(c),c;a=Vm(n),(l=Yt.get(l))&&vc(a,l),c=(e.ownerDocument||e).createElement("link"),We(c);var f=c;return f._p=new Promise(function(m,v){f.onload=m,f.onerror=v}),ut(c,"link",a),t.state.loading|=4,zu(c,n.precedence,e),t.instance=c;case"script":return c=il(n.src),(l=e.querySelector(ui(c)))?(t.instance=l,We(l),l):(a=n,(l=Yt.get(c))&&(a=A({},n),bc(a,l)),e=e.ownerDocument||e,l=e.createElement("script"),We(l),ut(l,"link",a),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,zu(a,n.precedence,e));return t.instance}function zu(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=a.length?a[a.length-1]:null,c=l,f=0;f<a.length;f++){var m=a[f];if(m.dataset.precedence===t)c=m;else if(c!==l)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function vc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function bc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Nu=null;function Km(e,t,n){if(Nu===null){var a=new Map,l=Nu=new Map;l.set(n,a)}else l=Nu,a=l.get(n),a||(a=new Map,l.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),l=0;l<n.length;l++){var c=n[l];if(!(c[bl]||c[st]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var f=c.getAttribute(t)||"";f=e+f;var m=a.get(f);m?m.push(c):a.set(f,[c])}}return a}function km(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Uy(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Jm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var oi=null;function Ly(){}function By(e,t,n){if(oi===null)throw Error(o(475));var a=oi;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var l=ll(n.href),c=e.querySelector(ii(l));if(c){e=c._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=Uu.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=c,We(c);return}c=e.ownerDocument||e,n=Vm(n),(l=Yt.get(l))&&vc(n,l),c=c.createElement("link"),We(c);var f=c;f._p=new Promise(function(m,v){f.onload=m,f.onerror=v}),ut(c,"link",n),t.instance=c}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=Uu.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function Ry(){if(oi===null)throw Error(o(475));var e=oi;return e.stylesheets&&e.count===0&&Sc(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Sc(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Uu(){if(this.count--,this.count===0){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Lu=null;function Sc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Lu=new Map,t.forEach(Hy,e),Lu=null,Uu.call(e))}function Hy(e,t){if(!(t.state.loading&4)){var n=Lu.get(e);if(n)var a=n.get(null);else{n=new Map,Lu.set(e,n);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<l.length;c++){var f=l[c];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(n.set(f.dataset.precedence,f),a=f)}a&&n.set(null,a)}l=t.instance,f=l.getAttribute("data-precedence"),c=n.get(f)||a,c===a&&n.set(null,l),n.set(f,l),this.count++,a=Uu.bind(this),l.addEventListener("load",a),l.addEventListener("error",a),c?c.parentNode.insertBefore(l,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var si={$$typeof:de,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function qy(e,t,n,a,l,c,f,m){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ho(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ho(0),this.hiddenUpdates=ho(null),this.identifierPrefix=a,this.onUncaughtError=l,this.onCaughtError=c,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=m,this.incompleteTransitions=new Map}function $m(e,t,n,a,l,c,f,m,v,_,w,U){return e=new qy(e,t,n,f,m,v,_,U),t=1,c===!0&&(t|=24),c=Dt(3,null,null,t),e.current=c,c.stateNode=e,t=ts(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:a,isDehydrated:n,cache:t},is(c),e}function Im(e){return e?(e=Ba,e):Ba}function Fm(e,t,n,a,l,c){l=Im(l),a.context===null?a.context=l:a.pendingContext=l,a=On(t),a.payload={element:n},c=c===void 0?null:c,c!==null&&(a.callback=c),n=xn(e,a,t),n!==null&&(xt(n,e,t),Hl(n,e,t))}function Wm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ec(e,t){Wm(e,t),(e=e.alternate)&&Wm(e,t)}function eg(e){if(e.tag===13){var t=La(e,67108864);t!==null&&xt(t,e,67108864),Ec(e,67108864)}}var Bu=!0;function Gy(e,t,n,a){var l=x.T;x.T=null;var c=q.p;try{q.p=2,Ac(e,t,n,a)}finally{q.p=c,x.T=l}}function Yy(e,t,n,a){var l=x.T;x.T=null;var c=q.p;try{q.p=8,Ac(e,t,n,a)}finally{q.p=c,x.T=l}}function Ac(e,t,n,a){if(Bu){var l=Tc(a);if(l===null)cc(e,t,a,Ru,n),ng(e,a);else if(Qy(l,e,t,n,a))a.stopPropagation();else if(ng(e,a),t&4&&-1<Xy.indexOf(e)){for(;l!==null;){var c=Ta(l);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var f=In(c.pendingLanes);if(f!==0){var m=c;for(m.pendingLanes|=2,m.entangledLanes|=2;f;){var v=1<<31-Tt(f);m.entanglements[1]|=v,f&=~v}en(c),(Ee&6)===0&&(Su=Jt()+500,ti(0))}}break;case 13:m=La(c,2),m!==null&&xt(m,c,2),Au(),Ec(c,2)}if(c=Tc(a),c===null&&cc(e,t,a,Ru,n),c===l)break;l=c}l!==null&&a.stopPropagation()}else cc(e,t,a,null,n)}}function Tc(e){return e=Co(e),Mc(e)}var Ru=null;function Mc(e){if(Ru=null,e=Aa(e),e!==null){var t=d(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ru=e,null}function tg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jp()){case gr:return 2;case pr:return 8;case Oi:case Cp:return 32;case hr:return 268435456;default:return 32}default:return 32}}var Dc=!1,Qn=null,Zn=null,Vn=null,ci=new Map,ri=new Map,Pn=[],Xy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ng(e,t){switch(e){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":ci.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ri.delete(t.pointerId)}}function fi(e,t,n,a,l,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:c,targetContainers:[l]},t!==null&&(t=Ta(t),t!==null&&eg(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Qy(e,t,n,a,l){switch(t){case"focusin":return Qn=fi(Qn,e,t,n,a,l),!0;case"dragenter":return Zn=fi(Zn,e,t,n,a,l),!0;case"mouseover":return Vn=fi(Vn,e,t,n,a,l),!0;case"pointerover":var c=l.pointerId;return ci.set(c,fi(ci.get(c)||null,e,t,n,a,l)),!0;case"gotpointercapture":return c=l.pointerId,ri.set(c,fi(ri.get(c)||null,e,t,n,a,l)),!0}return!1}function ag(e){var t=Aa(e.target);if(t!==null){var n=d(t);if(n!==null){if(t=n.tag,t===13){if(t=p(n),t!==null){e.blockedOn=t,Bp(e.priority,function(){if(n.tag===13){var a=Ot();a=yo(a);var l=La(n,a);l!==null&&xt(l,n,a),Ec(n,a)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Tc(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);jo=a,n.target.dispatchEvent(a),jo=null}else return t=Ta(n),t!==null&&eg(t),e.blockedOn=n,!1;t.shift()}return!0}function lg(e,t,n){Hu(e)&&n.delete(t)}function Zy(){Dc=!1,Qn!==null&&Hu(Qn)&&(Qn=null),Zn!==null&&Hu(Zn)&&(Zn=null),Vn!==null&&Hu(Vn)&&(Vn=null),ci.forEach(lg),ri.forEach(lg)}function qu(e,t){e.blockedOn===t&&(e.blockedOn=null,Dc||(Dc=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Zy)))}var Gu=null;function ig(e){Gu!==e&&(Gu=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Gu===e&&(Gu=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],l=e[t+2];if(typeof a!="function"){if(Mc(a||n)===null)continue;break}var c=Ta(n);c!==null&&(e.splice(t,3),t-=3,Ms(c,{pending:!0,data:l,method:n.method,action:a},a,l))}}))}function di(e){function t(v){return qu(v,e)}Qn!==null&&qu(Qn,e),Zn!==null&&qu(Zn,e),Vn!==null&&qu(Vn,e),ci.forEach(t),ri.forEach(t);for(var n=0;n<Pn.length;n++){var a=Pn[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Pn.length&&(n=Pn[0],n.blockedOn===null);)ag(n),n.blockedOn===null&&Pn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var l=n[a],c=n[a+1],f=l[gt]||null;if(typeof c=="function")f||ig(n);else if(f){var m=null;if(c&&c.hasAttribute("formAction")){if(l=c,f=c[gt]||null)m=f.formAction;else if(Mc(l)!==null)continue}else m=f.action;typeof m=="function"?n[a+1]=m:(n.splice(a,3),a-=3),ig(n)}}}function _c(e){this._internalRoot=e}Yu.prototype.render=_c.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var n=t.current,a=Ot();Fm(n,a,e,t,null,null)},Yu.prototype.unmount=_c.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fm(e.current,2,null,e,null,null),Au(),t[Ea]=null}};function Yu(e){this._internalRoot=e}Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Er();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pn.length&&t!==0&&t<Pn[n].priority;n++);Pn.splice(n,0,e),n===0&&ag(e)}};var ug=u.version;if(ug!=="19.1.1")throw Error(o(527,ug,"19.1.1"));q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=h(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var Vy={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:x,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xu.isDisabled&&Xu.supportsFiber)try{hl=Xu.inject(Vy),At=Xu}catch{}}return gi.createRoot=function(e,t){if(!r(e))throw Error(o(299));var n=!1,a="",l=Ad,c=Td,f=Md,m=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(m=t.unstable_transitionCallbacks)),t=$m(e,1,!1,null,null,n,a,l,c,f,m,null),e[Ea]=t.current,sc(e),new _c(t)},gi.hydrateRoot=function(e,t,n){if(!r(e))throw Error(o(299));var a=!1,l="",c=Ad,f=Td,m=Md,v=null,_=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(m=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(v=n.unstable_transitionCallbacks),n.formState!==void 0&&(_=n.formState)),t=$m(e,1,!0,t,n??null,a,l,c,f,m,v,_),t.context=Im(null),n=t.current,a=Ot(),a=yo(a),l=On(a),l.callback=null,xn(n,l,a),n=a,t.current.lanes=n,vl(t,n),en(t),e[Ea]=t.current,sc(e),new Yu(t)},gi.version="19.1.1",gi}var yg;function Yv(){if(yg)return Oc.exports;yg=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(u){console.error(u)}}return i(),Oc.exports=Gv(),Oc.exports}var Xv=Yv();const Xg=Gg(Xv);function Qv(){return N.jsxs("div",{style:{padding:"20px",backgroundColor:"#f0f8ff",border:"1px solid #b0c4de",borderRadius:"8px"},children:[N.jsx("h1",{children:"Hello from React! 👋"}),N.jsx("p",{children:"This component is rendered by React."})]})}const vg=document.getElementById("react-root");vg&&Xg.createRoot(vg).render(N.jsx(Yg.StrictMode,{children:N.jsx(Qv,{})}));const Qu={temperature:{label:"Temperature",provider:"all",type:"range",min:0,max:2,step:.01,default:1,tooltip:"Controls randomness. Higher is more creative."},top_p:{label:"Top P",provider:"all",type:"range",min:0,max:1,step:.01,default:1,tooltip:"Controls diversity via nucleus sampling."},top_k:{label:"Top K",provider:"all",type:"range",min:0,max:100,step:1,default:0,tooltip:"Limits sampling to the K most likely tokens."},max_tokens:{label:"Max Tokens",provider:"all",type:"range",min:1,max:32768,step:1,default:4096,tooltip:"The maximum number of tokens to generate."},frequency_penalty:{label:"Frequency Penalty",provider:"all",type:"range",min:-2,max:2,step:.01,default:0,tooltip:"Reduces the likelihood of repeating the same lines."},presence_penalty:{label:"Presence Penalty",provider:"all",type:"range",min:-2,max:2,step:.01,default:0,tooltip:"Reduces the likelihood of repeating existing topics."},seed:{label:"Seed",provider:"all",type:"number",default:-1,tooltip:"Use -1 for random output, or a specific number for deterministic output."},stop_sequences:{label:"Stop Sequences",provider:"all",type:"text",default:"",tooltip:"Comma-separated list of sequences to stop generation."},logit_bias:{label:"Logit Bias",provider:"openrouter",type:"textarea",default:"",tooltip:'Advanced: Enter "token:bias" pairs (e.g., "123:-1, 456:1.5").'},mirostat:{label:"Mirostat",provider:"ollama",type:"select",options:[0,1,2],default:0,tooltip:"Enables Mirostat sampling (0 = disabled, 1 = v1, 2 = v2)."},mirostat_tau:{label:"Mirostat Tau",provider:"ollama",type:"range",min:0,max:10,step:.1,default:5,tooltip:"Controls the balance between coherence and diversity for Mirostat."},mirostat_eta:{label:"Mirostat Eta",provider:"ollama",type:"range",min:0,max:1,step:.01,default:.1,tooltip:"Controls the learning rate for Mirostat."},repeat_penalty:{label:"Repeat Penalty",provider:"ollama",type:"range",min:0,max:2,step:.01,default:1.1,tooltip:"Strongly penalizes repeating tokens. A higher value reduces repetition more."}};function Zv(i,u,s){const o=s===void 0||s===""||s===null||s===u.default,r=o?"Default":s,d=o?"param-value":"param-value custom";let p="";const b=s==null||s===""?u.default:s;switch(u.type){case"range":p=`
                <input type="range" class="param-slider" data-control="slider"
                       min="${u.min}" max="${u.max}" 
                       step="${u.step}" value="${b}">
                <input type="number" class="param-input" data-control="input"
                       min="${u.min}" max="${u.max}" 
                       step="${u.step}" value="${b}">
                <button type="button" class="btn-link param-reset-btn" data-action="reset">Reset</button>
            `;break;case"number":p=`<input type="number" class="param-input-full" data-control="input" value="${b}" placeholder="${u.default}">`;break;case"text":p=`<input type="text" class="param-input-full" data-control="input" value="${b}" placeholder="${u.default}">`;break;case"textarea":p=`<textarea class="param-input-full" data-control="input" rows="3">${b}</textarea>`;break;case"select":p=`<select class="param-input-full" data-control="input">${u.options.map(g=>`<option value="${g}" ${g==b?"selected":""}>${g}</option>`).join("")}</select>`;break}return`
        <div class="param-wrapper" data-param-name="${i}">
            <div class="param-row" data-action="toggle">
                <span class="param-label" title="${u.tooltip}">${u.label}</span>
                <span class="${d}">${r}</span>
            </div>
            <div class="param-control hidden">
                ${p}
            </div>
        </div>
    `}function Qg(i,u,s){if(!i)return null;let o="<h4>Core Parameters</h4>",r='<div id="ollama-section"><h4>Advanced (Ollama only)</h4>',d=!1;for(const g in Qu){const A=Qu[g],M=u?u[g]:void 0;if(A.provider==="all"||A.provider===s){const O=Zv(g,A,M);A.provider==="ollama"?(r+=O,d=!0):o+=O}}console.log("Generated Core HTML:",o),console.log("Generated Ollama HTML:",r),r+="</div>",i.innerHTML=o+r;const p=i.querySelector("#ollama-section");p&&(p.style.display=s==="ollama"&&d?"block":"none");const b=g=>{const A=g.target.closest("[data-action]");if(!A)return;const M=A.closest(".param-wrapper");if(M){if(A.dataset.action==="toggle"){const O=M.querySelector(".param-control"),B=O.classList.contains("hidden");i.querySelectorAll(".param-control:not(.hidden)").forEach(Y=>Y.classList.add("hidden")),B&&O.classList.remove("hidden")}else if(A.dataset.action==="reset"){const O=M.dataset.paramName,B=Qu[O];M.querySelector(".param-value").textContent="Default",M.querySelector(".param-value").classList.remove("custom"),M.querySelectorAll("input, select, textarea").forEach(Y=>Y.value=B.default)}}},h=g=>{const A=g.target.closest("[data-control]");if(!A)return;const M=A.closest(".param-wrapper");if(!M)return;const O=M.querySelector(".param-value"),B=M.querySelector(".param-slider"),Y=M.querySelector(".param-input");B&&Y&&(A.dataset.control==="slider"?Y.value=g.target.value:B.value=g.target.value),O.textContent=g.target.value,O.classList.add("custom")};return i.addEventListener("click",b),i.addEventListener("input",h),{getValues:()=>{const g={};return i.querySelectorAll(".param-wrapper").forEach(A=>{const M=A.dataset.paramName;if(A.querySelector(".param-value.custom")){const O=A.querySelector('[data-control="input"], .param-input-full');if(O){const B=Qu[M];g[M]=B.type==="range"||B.type==="number"?parseFloat(O.value):O.value}}}),g},destroy:()=>{i.removeEventListener("click",b),i.removeEventListener("input",h),i.innerHTML=""}}}function Zg(i,u,s){const o=Xg.createRoot(s),r=()=>o.unmount();o.render(N.jsx(Yg.StrictMode,{children:N.jsx(i,{...u,unmount:r})}))}let bn=null;function Vg(){const i=document.getElementById("summarization-modal");if(!i)return;const u=i.querySelector("#summary-modal-preset-select"),s=i.querySelector("#summary-modal-preset-actions .dropdown-content");if(!u||!s)return;s.innerHTML="";const o=u.options[u.selectedIndex];if(!o)return;const r=kt.hasOwnProperty(o.value),d=o.value==="custom",p=(b,h,g={})=>{const A=document.createElement("a");return A.href="#",A.textContent=b,A.dataset.action=h,g.saveAs&&(A.dataset.saveAs="true"),A};if(d||r)s.appendChild(p(r?"Save as a Copy...":"Save as New Preset...","settings:saveSummaryPreset",{saveAs:!0}));else{s.appendChild(p("Save Changes","settings:saveSummaryPreset")),s.appendChild(p("Rename...","settings:renameSummaryPreset")),s.appendChild(p("Save as New Preset...","settings:saveSummaryPreset",{saveAs:!0})),s.appendChild(document.createElement("div")).className="dropdown-divider";const b=p("Delete Preset","settings:deleteSummaryPreset");b.classList.add("is-destructive"),s.appendChild(b)}}function bg(){const i=y.getProject();if(!i||!i.globalSettings)return;const u=document.querySelector("#summarization-modal #summary-modal-preset-select");if(!u)return;const s=i.globalSettings.summarizationPromptPresets||{},o=u.value;u.innerHTML="";const r=document.createElement("optgroup");r.label="Factory Presets",u.appendChild(r);const d=document.createElement("optgroup");d.label="User Presets",u.appendChild(d);let p=!1;for(const b in s){const h=new Option(b,b);kt.hasOwnProperty(b)?r.appendChild(h):(d.appendChild(h),p=!0)}p||d.remove(),s[o]?u.value=o:(u.value="Standard",Ig()),Vg()}function Vv(i){const u=document.createElement("div");return u.className="item summary-log-item",u.dataset.logId=i.id,i.id===bn&&u.classList.add("active"),u.innerHTML=`<span class="item-name"><span class="item-icon">💡</span> ${i.summary}</span>`,u.title=`Created: ${new Date(i.timestamp).toLocaleString()}`,u}function Pv(i){const u=document.getElementById("summary-editor-actions"),s=document.getElementById("summarize-conversation-btn");!u||!s||(u.classList.remove("hidden"),s.classList.add("hidden"),u.querySelector("#summary-editor-delete-btn").style.display="inline-flex",u.querySelector("#summary-editor-load-btn").style.display="inline-flex",u.querySelector("#summary-editor-save-btn").textContent="Save Changes")}function Kv(){const i=document.getElementById("summarization-modal");if(!i)return;const u=i.querySelector("#summary-editor-actions"),s=i.querySelector("#summarize-conversation-btn");i.querySelector(".tab-btn.active")?.dataset.tab==="settings"?(u.classList.add("hidden"),s.classList.add("hidden")):bn?(u.classList.remove("hidden"),s.classList.add("hidden")):(u.classList.add("hidden"),s.classList.remove("hidden"))}function ur(i){bn=i;const s=y.getProject().summaryLogs.find(o=>o.id===i);document.getElementById("summary-editor-title").value=s?s.summary:"",document.getElementById("summary-editor-content").value=s?s.content:"",s?Pv():(document.getElementById("summary-editor-actions").classList.add("hidden"),document.getElementById("summarize-conversation-btn").classList.remove("hidden")),Pg()}function Pg(){const i=document.getElementById("summary-log-list-modal");if(!i)return;const u=y.getProject();i.innerHTML="";const s=u.summaryLogs||[];if(s.length===0){i.innerHTML='<p class="no-items-message">No summaries yet.</p>';return}const o=s.reduce((r,d)=>{const p=d.sourceSessionId,b=u.chatSessions.find(h=>h.id===p);return r[p]||(r[p]={name:b?b.name:"Unknown Session",logs:[]}),r[p].logs.push(d),r},{});Object.values(o).forEach(r=>{const d=r.logs.sort((b,h)=>h.timestamp-b.timestamp),p=document.createElement("details");p.open=!0,p.innerHTML=`<summary>For: ${r.name}</summary>`,d.forEach(b=>p.appendChild(Vv(b))),i.appendChild(p)})}function Kc(){const i=y.getProject(),u=i.chatSessions.find(r=>r.id===i.activeSessionId);if(!u)return;const s={summaryLogs:i.summaryLogs||[],allModels:Ju(),promptTemplates:{...kt,...i.globalSettings.summarizationPromptPresets},currentSessionName:u.name,systemUtilityModel:i.globalSettings.systemUtilityAgent?.model,activeTemplate:i.globalSettings.activeSummarizationPreset,defaultPresets:kt,onApplySettings:r=>Jv(r)},o=document.getElementById("react-modal-root");o&&Zg(Fv,s,o)}function kc(){const i=document.getElementById("summarization-modal");i&&(i.style.display="none")}function kv(){const i=document.getElementById("summarization-modal");if(!i)return;i.querySelector("#summary-modal-close-btn")?.addEventListener("click",kc),i.querySelector(".modal-close-btn")?.addEventListener("click",kc),i.querySelector("#summarize-conversation-btn")?.addEventListener("click",or),i.querySelector("#summary-editor-save-btn")?.addEventListener("click",()=>{bn?kg({logId:bn,title:document.getElementById("summary-editor-title").value,content:document.getElementById("summary-editor-content").value}):Kg()}),i.querySelector("#summary-editor-delete-btn")?.addEventListener("click",()=>{bn&&Jg({logId:bn})}),i.querySelector("#summary-editor-load-btn")?.addEventListener("click",()=>{bn&&$g({logId:bn})}),i.querySelector(".tab-buttons")?.addEventListener("click",o=>{if(o.target.matches(".tab-btn")){const r=o.target.dataset.tab;i.querySelectorAll(".tab-btn, .tab-content").forEach(d=>d.classList.remove("active")),o.target.classList.add("active"),i.querySelector(`.tab-content[data-tab-content="${r}"]`)?.classList.add("active"),Kv()}}),i.querySelector("#summary-log-list-modal")?.addEventListener("click",o=>{const r=o.target.closest(".summary-log-item[data-log-id]");r&&ur(r.dataset.logId)}),i.querySelector("#summary-modal-preset-select")?.addEventListener("change",()=>{Ig()}),i.querySelector("#summary-modal-prompt-textarea")?.addEventListener("input",()=>{bg()});const u=i.querySelector("#summary-modal-preset-actions");u&&u.addEventListener("click",o=>{const r=o.target.closest("a[data-action], button[data-action]");if(!r)return;o.preventDefault(),o.stopPropagation();const d=r.dataset.action;if(d==="toggle-menu")Di(o);else{const p=r.dataset.saveAs==="true";d==="settings:saveSummaryPreset"?Fg({saveAs:p}):d==="settings:renameSummaryPreset"?Wg():d==="settings:deleteSummaryPreset"&&ep(),r.closest(".dropdown.open")?.classList.remove("open")}});const s=document.getElementById("summary-model-value");s&&s.addEventListener("change",o=>{const r=o.target.value;if(r){const d=y.getProject();d&&d.globalSettings.systemUtilityAgent&&(d.globalSettings.systemUtilityAgent.model=r,y.updateAndPersistState(),console.log(`Summary/System model updated to: ${r}`))}}),y.bus.subscribe("ui:renderSummarizationSelector",bg),y.bus.subscribe("ui:updateSummaryActionButtons",Vg),y.bus.subscribe("app:settingsChanged",()=>{i&&i.style.display==="flex"&&Kc()}),console.log("✅ Summarization Center UI Initialized.")}async function or({modelId:i,promptTemplate:u}){const s=y.getProject(),o=s.chatSessions.find(g=>g.id===s.activeSessionId);if(!o)throw new Error("Active session not found.");if(!i)throw k("Please select a model for summarization in the Settings tab.","Error"),new Error("Model for summarization not selected.");const r={...s.globalSettings.systemUtilityAgent,model:i},d=o.history.filter(g=>g.role==="user"||g.role==="assistant");if(d.length<2)throw k("Not enough new messages to summarize.","Info"),new Error("Not enough messages.");const p=d.map(g=>`${g.speaker||g.role}: ${Array.isArray(g.content)?g.content.find(A=>A.type==="text")?.text||"[multimodal content]":g.content}`).join(`
`),b=u.replace(/\$\{previousSummary\}/g,"This is a full-history summary from the beginning.").replace(/\$\{newMessages\}/g,p),h=await Ky(r,[{role:"user",content:b}]);if(!h||typeof h.content!="string")throw new Error("Received an invalid or empty response from the AI summarizer.");return{title:`Summary of "${o.name}" at ${new Date().toLocaleTimeString()}`,content:h.content}}function Kg({title:i,content:u}){const s=y.getProject(),o=s.chatSessions.find(d=>d.id===s.activeSessionId);if(!s||!o||!i||!u)return;const r={id:`sum_${Date.now()}`,summary:i,content:u,timestamp:Date.now(),sourceSessionId:o.id};s.summaryLogs||(s.summaryLogs=[]),s.summaryLogs.push(r),y.updateAndPersistState(),k("New summary log saved!","Success"),y.bus.publish("summary:listChanged",{newlyCreatedId:r.id})}function kg({logId:i,title:u,content:s}){if(!i||!u||!s)return;const r=y.getProject().summaryLogs.find(d=>d.id===i);r&&(r.summary=u,r.content=s,y.updateAndPersistState(),k("Changes saved!","Success"),Pg())}function Jg({logId:i}){if(!confirm("Are you sure you want to delete this summary log?"))return;const u=y.getProject();u.summaryLogs=u.summaryLogs.filter(s=>s.id!==i),u.chatSessions.forEach(s=>{s.summaryState?.activeSummaryId===i&&(s.summaryState.activeSummaryId=null)}),y.updateAndPersistState(),k("Log deleted.","Success"),ur(null)}function $g({logId:i}){const u=y.getProject(),s=u.chatSessions.find(d=>d.id===u.activeSessionId),o=u.summaryLogs.find(d=>d.id===i);if(!s||!o)return;s.summaryState={activeSummaryId:o.id};const r={role:"system",content:`[System: Context loaded from summary: "${o.summary}"]`,isSummary:!0};s.history.push(r),y.updateAndPersistState(),y.bus.publish("ui:renderMessages"),kc(),k("Summary loaded into context!","Success")}function Ig(){const u=document.getElementById("summary-modal-preset-select").value;if(u==="custom")return;const s=y.getProject(),o={...kt,...s.globalSettings.summarizationPromptPresets};o[u]&&(document.getElementById("summary-modal-prompt-textarea").value=o[u],y.bus.publish("ui:renderSummarizationSelector"),y.bus.publish("ui:updateSummaryActionButtons"))}async function Fg({saveAs:i,presetName:u,content:s}){const o=s.trim();if(!o){k("Preset content cannot be empty.","Error");return}let r=u;const d=y.getProject(),p=kt.hasOwnProperty(r);if(i||p||!r){const b=prompt("Enter a name for this new preset:",p?`${r} (Copy)`:"My Custom Preset");if(!b||!b.trim())return;r=b.trim()}d.globalSettings.summarizationPromptPresets[r]&&r!==u&&!confirm(`A preset named '${r}' already exists. Overwrite?`)||(d.globalSettings.summarizationPromptPresets[r]=o,d.globalSettings.activeSummarizationPreset=r,y.setProject(d),await y.updateAndPersistState(),y.bus.publish("summary:presetsChanged",{newSelectedName:r}),k(`Preset '${r}' saved!`,"Success"))}async function Wg({presetName:i}){if(kt.hasOwnProperty(i)||i==="custom")return;const u=prompt(`Enter new name for "${i}":`,i);if(!u||!u.trim()||u.trim()===i)return;const s=y.getProject(),o=u.trim();if(s.globalSettings.summarizationPromptPresets[o]){k(`A preset named '${o}' already exists.`,"Error");return}s.globalSettings.summarizationPromptPresets[o]=s.globalSettings.summarizationPromptPresets[i],delete s.globalSettings.summarizationPromptPresets[i],s.globalSettings.activeSummarizationPreset=o,y.setProject(s),await y.updateAndPersistState(),y.bus.publish("summary:presetsChanged"),k(`Preset renamed to '${o}'!`,"Success")}async function ep({presetName:i}){if(!kt.hasOwnProperty(i)&&confirm(`Delete user preset "${i}"?`)){const u=y.getProject();delete u.globalSettings.summarizationPromptPresets[i],u.globalSettings.activeSummarizationPreset===i&&(u.globalSettings.activeSummarizationPreset="Standard"),y.setProject(u),await y.updateAndPersistState(),y.bus.publish("summary:presetsChanged"),k(`Preset '${i}' deleted.`,"Success")}}function Jv({model:i,templateName:u}){const s=y.getProject();!s||!s.globalSettings||(i&&s.globalSettings.systemUtilityAgent&&(s.globalSettings.systemUtilityAgent.model=i),s.globalSettings.activeSummarizationPreset=u,y.setProject(s),y.updateAndPersistState(),k("Settings Applied!","Success"))}const $v=Te.memo(({selectedLog:i,currentSessionName:u,isGenerating:s,onGenerate:o,editorTitle:r,setEditorTitle:d,editorContent:p,setEditorContent:b})=>N.jsxs(N.Fragment,{children:[N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[N.jsx("h4",{children:i?"Edit Summary":`Generate new summary for "${u}"`}),!i&&N.jsx("button",{className:`btn ${s?"is-loading":""}`,onClick:o,disabled:s,children:"✨ Generate New Summary"})]}),N.jsxs("div",{className:"form-group",style:{flexGrow:1,display:"flex",flexDirection:"column"},children:[N.jsx("label",{children:"Summary Title"}),N.jsx("input",{type:"text",value:r,onChange:h=>d(h.target.value),placeholder:"A concise title..."}),N.jsx("label",{style:{marginTop:"10px"},children:"Summary Content (Editable)"}),N.jsx("textarea",{style:{flexGrow:1,resize:"none"},value:p,onChange:h=>b(h.target.value)})]})]})),Iv=Te.memo(({selectedModel:i,setSelectedModel:u,allModels:s,selectedTemplateName:o,handleTemplateChange:r,promptTemplates:d,templateContent:p,setTemplateContent:b,defaultPresets:h,handleActionClick:g})=>{const A=Object.keys(d).filter(O=>h.hasOwnProperty(O)).sort(),M=Object.keys(d).filter(O=>!h.hasOwnProperty(O)).sort();return N.jsxs(N.Fragment,{children:[N.jsx("h4",{children:"Settings"}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{children:"Summarization Model"}),N.jsxs("select",{value:i,onChange:O=>u(O.target.value),children:[N.jsx("option",{value:"",children:"-- Select a Model --"}),s.map(O=>N.jsx("option",{value:O.id,children:O.name},O.id))]})]}),N.jsxs("div",{className:"form-group",style:{flexGrow:1,display:"flex",flexDirection:"column"},children:[N.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px"},children:[N.jsx("label",{style:{flexGrow:1,marginBottom:0},children:"Summarization Prompt Template"}),N.jsxs("div",{className:"dropdown align-right",children:[N.jsx("button",{className:"btn btn-small btn-secondary",onClick:O=>O.currentTarget.parentElement.classList.toggle("open"),children:"Actions ▾"}),N.jsx("div",{className:"dropdown-content",children:o&&!h[o]?N.jsxs(N.Fragment,{children:[N.jsx("a",{href:"#",onClick:()=>g("settings:saveSummaryPreset",{saveAs:!1,presetName:o,content:p}),children:"Save Changes"}),N.jsx("a",{href:"#",onClick:()=>g("settings:renameSummaryPreset",{presetName:o}),children:"Rename..."}),N.jsx("a",{href:"#",onClick:()=>g("settings:saveSummaryPreset",{saveAs:!0,content:p}),children:"Save as New Preset..."}),N.jsx("div",{className:"dropdown-divider"}),N.jsx("a",{href:"#",className:"is-destructive",onClick:()=>g("settings:deleteSummaryPreset",{presetName:o}),children:"Delete Preset"})]}):N.jsx("a",{href:"#",onClick:()=>g("settings:saveSummaryPreset",{saveAs:!0,content:p}),children:"Save as New Preset..."})})]})]}),N.jsxs("select",{value:o,onChange:r,children:[N.jsx("optgroup",{label:"Factory Presets (Read-only)",children:A.map(O=>N.jsx("option",{value:O,children:O},O))}),M.length>0&&N.jsx("optgroup",{label:"User Presets",children:M.map(O=>N.jsx("option",{value:O,children:O},O))})]}),N.jsx("textarea",{style:{flexGrow:1,resize:"none",marginTop:"10px"},value:p,onChange:O=>b(O.target.value)})]})]})});function Fv({unmount:i,summaryLogs:u,allModels:s,promptTemplates:o,currentSessionName:r,systemUtilityModel:d,activeTemplate:p,defaultPresets:b,onApplySettings:h}){const[g,A]=Te.useState("logs"),[M,O]=Te.useState(null),[B,Y]=Te.useState(""),[V,le]=Te.useState(""),[xe,ce]=Te.useState(""),[de,be]=Te.useState(d||""),[ee,Se]=Te.useState(o),[Me,Q]=Te.useState(p||"Standard"),[re,Ue]=Te.useState(o[p||"Standard"]||""),[we,Ce]=Te.useState(!1);Te.useEffect(()=>{M?(le(M.summary),ce(M.content)):(le(""),ce(""))},[M]),Te.useEffect(()=>{const H=()=>{const X=y.getProject(),G={...kt,...X.globalSettings.summarizationPromptPresets},K=X.globalSettings.activeSummarizationPreset||"Standard";Se(G),Q(K)},pe=({newlyCreatedId:X})=>{if(X){const G=y.getProject().summaryLogs.find(K=>K.id===X);G&&O(G)}},S=y.bus.subscribe("summary:presetsChanged",H),L=y.bus.subscribe("summary:listChanged",pe);return()=>{S(),L()}},[]),Te.useEffect(()=>{Ue(ee[Me]||"")},[Me,ee]);const Le=Te.useMemo(()=>B?u.filter(H=>H.summary.toLowerCase().includes(B.toLowerCase())):u,[B,u]),at=H=>{O(H),A("logs")},Be=async()=>{Ce(!0),O(null);try{const H=await or({modelId:de,promptTemplate:re});le(H.title),ce(H.content),O({id:"new_log",summary:H.title,content:H.content})}catch(H){console.error("Summary generation failed:",H)}finally{Ce(!1)}},x=(H,pe)=>{y.bus.publish(H,pe)},q=H=>{Q(H.target.value)};return N.jsx("div",{id:"summarization-modal",className:"modal-overlay",style:{display:"flex"},children:N.jsxs("div",{className:"modal-box is-resizable",children:[N.jsxs("div",{className:"modal-header",children:[N.jsx("h3",{children:"Conversation Summary Center"}),N.jsx("button",{className:"btn-icon",title:"Settings",onClick:()=>A(g==="logs"?"settings":"logs"),children:N.jsx("span",{className:"material-symbols-outlined",children:g==="settings"?"article":"settings"})}),N.jsx("button",{className:"modal-close-btn",onClick:i,children:"×"})]}),N.jsxs("div",{className:"modal-body",children:[N.jsxs("div",{className:"log-list-column",children:[N.jsx("input",{type:"text",placeholder:"Search summaries...",value:B,onChange:H=>Y(H.target.value),style:{marginBottom:"15px"}}),N.jsx("div",{id:"summary-log-list-modal",className:"item-list",children:Le.map(H=>N.jsx("div",{className:`item summary-log-item ${M?.id===H.id?"active":""}`,onClick:()=>at(H),children:N.jsxs("span",{className:"item-name",children:[N.jsx("span",{className:"item-icon",children:"💡"})," ",H.summary]})},H.id))})]}),N.jsx("div",{className:"log-editor-column",children:g==="logs"?N.jsx($v,{selectedLog:M,currentSessionName:r,isGenerating:we,onGenerate:Be,editorTitle:V,setEditorTitle:le,editorContent:xe,setEditorContent:ce}):N.jsx(Iv,{selectedModel:de,setSelectedModel:be,allModels:s,selectedTemplateName:Me,handleTemplateChange:q,promptTemplates:ee,templateContent:re,setTemplateContent:Ue,defaultPresets:b,handleActionClick:x})})]}),N.jsxs("div",{className:"modal-actions",children:[N.jsx("button",{className:"btn btn-secondary",onClick:i,children:"Close"}),g==="logs"&&M&&N.jsxs(N.Fragment,{children:[M.id!=="new_log"&&N.jsx("button",{className:"btn btn-danger",onClick:()=>x("summary:deleteLog",{logId:M.id}),children:"Delete Log"}),M.id!=="new_log"&&N.jsx("button",{className:"btn",onClick:()=>x("summary:loadToContext",{logId:M.id}),children:"Load to Context"}),N.jsx("button",{className:"btn",onClick:()=>x(M.id==="new_log"?"summary:saveNewLog":"summary:saveEdit",{logId:M.id,title:V,content:xe}),children:M.id==="new_log"?"Save New Log":"Save Changes"})]}),g==="settings"&&N.jsx("button",{className:"btn",onClick:()=>h({model:de,templateName:Me}),children:"Apply Settings"})]})]})})}const Ne={};function Wv(){Ne.appWrapper=document.querySelector(".app-wrapper"),Ne.toggleRightSidebarBtn=document.getElementById("toggle-right-sidebar-btn"),Ne.sessionsPanel=document.querySelector(".sessions-panel"),Ne.hamburgerBtn=document.getElementById("hamburger-btn"),Ne.closeSidebarBtn=document.querySelector('.sessions-panel .mobile-only[title="Close Sidebar"]'),Ne.mobileOverlay=document.getElementById("mobile-overlay"),Ne.composerPanel=document.querySelector(".composer-panel"),Ne.resizerRow=document.getElementById("resizer-row")}function eb(i,u){if(!i||!u)return;let s=0,o=0,r=0,d=!1;const p=g=>{g.preventDefault(),i.classList.add("active"),document.body.style.cursor="row-resize",u.classList.contains("collapsed")&&(u.classList.remove("collapsed"),i.classList.remove("collapsed"),y.bus.publish("composer:visibilityChanged")),s=g.clientY,o=u.getBoundingClientRect().height,document.addEventListener("mousemove",b),document.addEventListener("mouseup",h)},b=g=>{r=g.clientY,d||(window.requestAnimationFrame(()=>{const A=r-s;let M=o-A;const O=parseInt(getComputedStyle(u).minHeight,10)||50;M<O&&(M=O),u.style.flexBasis=`${M}px`,d=!1}),d=!0)},h=()=>{i.classList.remove("active"),document.body.style.cursor="",document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",h)};i.addEventListener("mousedown",p)}function tb(){if(!Ne.sessionsPanel)return;const i=u=>{u.stopPropagation(),u.preventDefault(),Ne.sessionsPanel.classList.remove("is-open"),Ne.mobileOverlay?.classList.remove("active")};Ne.hamburgerBtn?.addEventListener("click",u=>{window.innerWidth<=1024?(Ne.sessionsPanel.classList.add("is-open"),Ne.mobileOverlay?.classList.add("active")):Ne.appWrapper?.classList.toggle("sidebar-collapsed")}),Ne.mobileOverlay?.addEventListener("click",i,!0),Ne.closeSidebarBtn?.addEventListener("click",i,!0)}function nb(){Wv(),Ne.resizerRow&&Ne.composerPanel&&eb(Ne.resizerRow,Ne.composerPanel),tb(),ab(),console.log("Core layout manager initialized.")}function ab(){!Ne.toggleRightSidebarBtn||!Ne.appWrapper||Ne.toggleRightSidebarBtn.addEventListener("click",()=>{Ne.appWrapper.classList.toggle("right-sidebar-collapsed"),Ne.appWrapper.classList.contains("right-sidebar-collapsed")||y.bus.publish("studio:rendered")})}function lb(){document.addEventListener("keydown",i=>{const u=document.querySelector('.modal-overlay[style*="display: flex"]'),s=document.getElementById("settings-panel"),o=s?.classList.contains("visible");if(!(!u&&!o)){if(i.key==="Escape"){if(i.preventDefault(),u){const r=u.querySelector(".btn-secondary")||u.querySelector(".modal-actions .btn");r&&r.click()}else if(o){const r=s.querySelector(".close-settings-btn");r&&r.click()}}if(i.key==="Enter"&&!i.shiftKey){if(i.target.tagName==="TEXTAREA"||i.target.tagName==="BUTTON")return;if(u){i.preventDefault();const r=u.querySelector(".modal-actions .btn:not(.btn-secondary):not(.btn-danger)");if(r)r.click();else{const d=u.querySelector(".modal-actions .btn");d&&d.click()}}}}}),console.log("Global keyboard bindings initialized.")}function Nc(i){const u=document.getElementById("project-title");if(u){const s=y.isUserDirty(),o=i||y.getProject()?.name||"Untitled";u.textContent=s?`${o} *`:o}}function ib(){const i=document.getElementById("save-project-modal"),u=document.getElementById("project-name-input"),s=y.getProject();u.value=s?`${s.name} - Copy`:"Untitled Project",i.style.display="flex",u.focus(),u.select()}function Sg(){const i=document.getElementById("save-project-modal");i.style.display="none"}function ub(i){i&&i.stopPropagation(),document.getElementById("custom-entity-selector-wrapper").classList.toggle("open")}function ob(i){const u=i.indexOf("_"),s=i.substring(0,u),o=i.substring(u+1);y.bus.publish("entity:select",{type:s,name:o}),document.getElementById("custom-entity-selector-wrapper").classList.remove("open")}function Zu(){const i=y.getProject();if(!i||!i.globalSettings)return;const u=document.getElementById("entitySelector"),s=document.getElementById("custom-entity-selector-options"),o=document.getElementById("custom-entity-selector-icon"),r=document.getElementById("custom-entity-selector-text");u.innerHTML="",s.innerHTML="";const d=(h,g,A,M)=>{const O=`${h}_${g}`,B=document.createElement("div");B.className="custom-select-option",B.innerHTML=`<span class="item-icon">${A}</span> <span>${g}</span>`,B.addEventListener("click",()=>ob(O)),M.appendChild(new Option(`${A} ${g}`,O)),s.appendChild(B)},p=i.agentPresets||{};if(Object.keys(p).length>0){const h=document.createElement("optgroup");h.label="Agent Presets",u.appendChild(h);const g=document.createElement("div");g.className="custom-select-group",g.textContent="Agent Presets",s.appendChild(g),Object.keys(p).forEach(A=>{d("agent",A,p[A].icon||"🤖",h)})}const b=i.agentGroups||{};if(Object.keys(b).length>0){const h=document.createElement("optgroup");h.label="Agent Groups",u.appendChild(h);const g=document.createElement("div");g.className="custom-select-group",g.textContent="Agent Groups",s.appendChild(g),Object.keys(b).forEach(A=>{d("group",A,"🤝",h)})}if(i.activeEntity){const{type:h,name:g}=i.activeEntity;u.value=`${h}_${g}`,h==="agent"&&p[g]?(o.textContent=p[g].icon||"🤖",r.textContent=g):h==="group"?(o.textContent="🤝",r.textContent=g):(o.textContent="❔",r.textContent="Select...")}}function sb(){y.bus.subscribe("project:loaded",s=>{Nc(s.projectData.name),Zu()}),y.bus.subscribe("project:nameChanged",s=>Nc(s)),y.bus.subscribe("userDirty:changed",()=>Nc()),y.bus.subscribe("entity:selected",Zu),y.bus.subscribe("agent:listChanged",Zu),y.bus.subscribe("group:listChanged",Zu),y.bus.subscribe("ui:showSaveAsModal",ib);const i=document.querySelector(".sidebar-bottom-row .dropdown");if(i){const s=i.querySelector("button");s&&s.addEventListener("click",Di),i.addEventListener("click",o=>{const r=o.target.closest("a");if(!r)return;const d=r.dataset.action;if(d){o.preventDefault();const p={newProject:{name:"project:new"},openProject:{name:"project:open"},saveProject:{name:"project:save",data:!1},saveProjectAs:{name:"project:save",data:!0},exportChat:{name:"project:exportChat"}};p[d]&&y.bus.publish(p[d].name,p[d].data),i.classList.remove("open")}})}const u=document.getElementById("save-project-modal");u&&u.addEventListener("click",s=>{if(s.target.matches(".btn:not(.btn-secondary)")){const o=document.getElementById("project-name-input").value.trim();o?(y.bus.publish("project:saveConfirm",{projectName:o}),Sg()):k("Please enter a project name.")}else(s.target.matches(".btn-secondary")||s.target===u)&&Sg()}),document.getElementById("load-project-input")?.addEventListener("change",s=>y.bus.publish("project:fileSelectedForOpen",s)),document.getElementById("custom-entity-selector-trigger")?.addEventListener("click",ub),console.log("Project UI Initialized with definitive listeners.")}let Eg=!1;function Uc(i){const u=y.getProject();let s="💬";i.linkedEntity?.type==="agent"&&u.agentPresets[i.linkedEntity.name]?s=u.agentPresets[i.linkedEntity.name].icon||"🤖":i.linkedEntity?.type==="group"&&(s="🤝");const o=document.createElement("div");o.className="item session-item",o.dataset.sessionId=i.id,i.pinned&&o.classList.add("pinned");const r=i.name||"New Chat";return o.innerHTML=`
        <div class="item-header">
            <span class="item-name"><span class="item-icon">${s}</span> ${r}</span>
            <div class="item-actions">
                <div class="dropdown align-right">
                    <button class="btn-icon" data-action="toggle-menu" title="More options">&#8942;</button>
                    <div class="dropdown-content">
                        <a href="#" data-action="pin">${i.pinned?"Unpin":"Pin"} Session</a>
                        <a href="#" data-action="rename">Rename</a>
                        <a href="#" data-action="clone">Clone Session</a>
                        <a href="#" data-action="archive">${i.archived?"Unarchive":"Archive"} Session</a>                        <a href="#" data-action="download">Download Chat</a>
                        <div class="dropdown-divider"></div>
                        <a href="#" data-action="delete" class="is-destructive">
                            <span class="material-symbols-outlined">delete</span> Delete Session
                        </a>                    
                    </div>
                </div>
            </div>
        </div>
    `,o}function tp(i){document.querySelectorAll(".session-item").forEach(s=>{s.classList.toggle("active",s.dataset.sessionId===i)})}function gl(){const i=y.getProject();if(!i)return;const u=document.getElementById("pinnedSessionList"),s=document.getElementById("sessionListContainer"),o=document.getElementById("archivedSessionList"),r=document.getElementById("archivedSessionsSection");if(!u||!s||!o||!r)return;u.innerHTML="",s.innerHTML="",o.innerHTML="";const d=i.chatSessions||[],p=d.filter(g=>g.isPinned&&!g.archived),b=d.filter(g=>!g.isPinned&&!g.archived),h=d.filter(g=>g.archived);p.sort((g,A)=>A.updatedAt-g.updatedAt).forEach(g=>{u.appendChild(Uc(g))}),b.sort((g,A)=>A.updatedAt-g.updatedAt).forEach(g=>{s.appendChild(Uc(g))}),h.sort((g,A)=>A.updatedAt-g.updatedAt).forEach(g=>{o.appendChild(Uc(g))}),r.classList.toggle("hidden",h.length===0),tp(i.activeSessionId)}function cb(){if(Eg)return;Eg=!0,y.bus.subscribe("project:loaded",gl),y.bus.subscribe("session:listChanged",gl),y.bus.subscribe("session:loaded",()=>tp(y.getProject()?.activeSessionId));const i=document.querySelector(".sessions-panel");i&&i.addEventListener("click",u=>{const s=u.target,o=s.closest(".dropdown-content a[data-action]");if(o){u.preventDefault(),u.stopPropagation();const p=s.closest(".session-item[data-session-id]");if(!p)return;const b=p.dataset.sessionId,h=o.dataset.action;y.bus.publish(`session:${h}`,{sessionId:b,event:u}),o.closest(".dropdown.open")?.classList.remove("open");return}if(s.closest('button[data-action="toggle-menu"]')){u.preventDefault(),u.stopPropagation(),Di(u);return}if(s.closest("#new-chat-btn")){y.bus.publish("session:new");return}const d=s.closest(".session-item[data-session-id]");if(d){const p=d.dataset.sessionId;y.getProject().activeSessionId!==p&&Sa(p)}}),console.log("✅ Session UI and its dedicated event listener initialized ONCE.")}const sr=()=>document.querySelector("#composer-editor .composer-content-area");function np(i){const u=y.getProject(),s=u?.chatSessions.find(o=>o.id===u.activeSessionId);s&&s.composerContent!==i&&(s.composerContent=i,y.updateAndPersistState())}function Jc(){const i=sr();if(!i)return;const u=y.getProject();if(!u?.activeSessionId){i.innerHTML="";return}const s=u.chatSessions.find(o=>o.id===u.activeSessionId);i.innerHTML=s?.composerContent||""}function rb({content:i}){const u=sr(),s=document.getElementById("composer-panel");!u||!s||(s.classList.contains("collapsed")&&(s.classList.remove("collapsed"),document.getElementById("resizer-row")?.classList.remove("collapsed"),y.bus.publish("composer:visibilityChanged")),u.textContent.trim()!==""&&(u.innerHTML+="<br><hr><br>"),u.innerHTML+=i,u.scrollTop=u.scrollHeight,np(u.innerHTML))}function fb(i){const u=document.createElement("div");return u.innerHTML=i,u.querySelectorAll("*").forEach(s=>{if(s.removeAttribute("style"),s.classList.length>0){const o=[];for(let r=0;r<s.classList.length;r++)s.classList[r].startsWith("hljs-")||o.push(s.classList[r]);o.forEach(r=>s.classList.remove(r))}}),u.innerHTML}function db(){const i=sr();if(!i)return;const u=i.innerHTML;if(!u.trim()){k("Composer is empty. Nothing to export.","Info");return}const o=`
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Composer Export</title>
            
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
            
            <style>
                /* 2. สไตล์พื้นฐานของหน้าเว็บที่ Export */
                body { 
                    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; 
                    line-height: 1.6; 
                    padding: 20px; 
                    max-width: 800px; 
                    margin: auto; 
                }
                pre {
                    background-color: #f6f8fa; /* สีพื้นหลัง Code Block สำหรับไฟล์ที่ Export */
                    padding: 16px;
                    border-radius: 6px;
                    overflow-x: auto;
                }
                code {
                    font-family: 'Fira Mono', 'Menlo', monospace;
                }
            </style>
        </head>
        <body>
            ${fb(u)}
        </body>
        </html>
    `,r=new Blob([o],{type:"text/html;charset=utf-8"}),d=URL.createObjectURL(r),p=document.createElement("a");p.href=d,p.download=`composer-export-${Date.now()}.html`,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(d)}function mb(){const i=document.getElementById("color-palette");if(!i)return;const u=["#000000","#E03131","#C2255C","#9C36B5","#6741D9","#3B5BDB","#1971C2","#0C8599","#099268","#2F9E44","#66A80F","#F08C00","#E8590C","#868E96","#495057"];i.innerHTML="",u.forEach(s=>{const o=document.createElement("div");o.className="color-swatch",o.style.backgroundColor=s,o.dataset.color=s,i.appendChild(o)})}function ul(){const i=document.querySelector(".composer-tools-area");if(!i)return;let u=!1;const s=document.queryCommandValue("formatBlock").toLowerCase();for(const r of["H1","H2","H3","P"]){const d=i.querySelector(`button[data-value="${r}"]`);d&&(s===`<${r.toLowerCase()}>`?(d.classList.add("is-active"),r!=="P"&&(u=!0)):d.classList.remove("is-active"))}["bold","italic","underline","strikeThrough"].forEach(r=>{const d=i.querySelector(`button[data-command="${r}"]`);if(d){const p=r==="bold"&&u?!1:document.queryCommandState(r);d.classList.toggle("is-active",p)}})}function gb(i){const u=document.querySelector("#composer-editor .composer-content-area");u&&(u.innerHTML="")}function pb(){const i=document.getElementById("composer-panel"),u=document.querySelector("#composer-editor .composer-content-area"),s=document.getElementById("mobile-composer-toggle");document.getElementById("composer-editor");const o=document.querySelector(".composer-tools-area"),r=document.getElementById("composer-collapse-btn"),d=document.getElementById("composer-expand-btn"),p=document.getElementById("export-composer-btn");if(!i||!u){console.error("Composer UI cannot initialize: Core elements not found.");return}const b=()=>{i.classList.contains("collapsed"),i.classList.toggle("collapsed");const O=i.classList.contains("collapsed");s&&s.classList.toggle("is-open",!O),y.bus.publish("composer:visibilityChanged")};s&&s.addEventListener("click",b);const h=document.getElementById("resizer-row");h&&h.addEventListener("mousedown",O=>{if(window.innerWidth<=768){O.preventDefault();return}}),y.bus.subscribe("project:loaded",Jc),y.bus.subscribe("session:loaded",Jc),y.bus.subscribe("composer:append",rb),y.bus.subscribe("ui:toggleComposer",b),u.addEventListener("focus",()=>{document.execCommand("formatBlock",!1,"p"),ul()}),["click","keyup","focus"].forEach(O=>{u.addEventListener(O,()=>{setTimeout(ul,1)})}),document.addEventListener("selectionchange",()=>{document.activeElement===u&&ul()});const A=ky(()=>np(u.innerHTML),500);u.addEventListener("input",A),["keyup","mouseup"].forEach(O=>u.addEventListener(O,ul)),document.addEventListener("selectionchange",()=>{document.activeElement===u&&ul()}),o&&(mb(),o.addEventListener("mousedown",O=>{O.preventDefault();const B=O.target.closest("button, .color-swatch");if(B){if(u.focus(),B.id==="color-picker-btn"){B.parentElement.classList.toggle("open");return}if(B.classList.contains("color-swatch"))document.execCommand("foreColor",!1,B.dataset.color),B.closest(".dropdown")?.classList.remove("open");else{const Y=B.dataset.command;if(Y){let V=B.dataset.value||null;Y==="formatBlock"&&V&&(V=`<${V}>`),document.execCommand(Y,!1,V)}}ul()}})),p&&p.addEventListener("click",db),r&&r.addEventListener("click",b),d&&d.addEventListener("click",()=>{const O=i.style.flexBasis&&parseInt(i.style.flexBasis,10)>window.innerHeight*.5;i.style.flexBasis=O?"35vh":"90vh"}),console.log("✅ Composer UI Initialized with definitive patches.")}const hb=(i="sid")=>`${i}_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,so=()=>y.getProject(y.activeProjectId);function ap(){const i=y.getProject(),u=i?.activeEntity;if(!i||!u)return;const s={id:`sid_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,name:"New Chat",history:[],composerContent:"",createdAt:Date.now(),updatedAt:Date.now(),pinned:!1,archived:!1,linkedEntity:{...u},summaryState:{activeSummaryId:null,summarizedUntilIndex:-1},groupChatState:{isRunning:!1,awaitsUserInput:!1,turnQueue:[],currentJob:null,error:null}};i.chatSessions.unshift(s),i.activeSessionId=s.id,y.setProject(i),Sa(s.id)}function Sa(i){const u=y.getProject();if(!u)return;if(!i){u.activeSessionId=null,y.setProject(u),y.bus.publish("session:cleared");return}const s=u.chatSessions.find(o=>o.id===i);if(!s){console.warn(`Session with ID ${i} not found. Loading most recent as fallback.`);const o=[...u.chatSessions].filter(r=>!r.archived).sort((r,d)=>d.updatedAt-r.updatedAt)[0];Sa(o?o.id:null);return}u.activeSessionId=i,s.linkedEntity&&(u.activeEntity={...s.linkedEntity}),y.setProject(u),y.updateAndPersistState(),y.bus.publish("session:loaded",{session:s})}function yb({sessionId:i}){const u=y.getProject(),s=u?.chatSessions.find(r=>r.id===i);if(!s)return;const o=prompt("Enter new name:",s.name);o&&o.trim()&&o.trim()!==s.name&&(s.name=o.trim(),s.updatedAt=Date.now(),y.updateAndPersistState(),y.bus.publish("session:listChanged"),i===u.activeSessionId&&y.bus.publish("ui:updateChatTitle",{title:s.name}))}async function vb({sessionId:i}){if(!confirm("Are you sure you want to delete this chat session? This cannot be undone."))return;const u=y.getProject(),s=u.chatSessions.findIndex(o=>o.id===i);if(s!==-1){if(u.chatSessions.splice(s,1),await Ti(ml,"readwrite","delete",i),u.activeSessionId===i){const o=[...u.chatSessions].filter(r=>!r.archived).sort((r,d)=>d.updatedAt-r.updatedAt)[0];u.activeSessionId=o?o.id:null,Sa(u.activeSessionId)}else y.bus.publish("session:listChanged");y.updateAndPersistState()}}function bb(i,u){u?.stopPropagation();const s=so(),o=s?.chatSessions.find(r=>r.id===i);o&&(o.pinned=!o.pinned,o.updatedAt=Date.now(),y.updateAndPersistState(s),gl())}function Sb(i,u){u?.stopPropagation();const s=so(),o=s?.chatSessions.find(d=>d.id===i);if(!o){k("Error: Could not find session to clone.","Error");return}const r=JSON.parse(JSON.stringify(o));r.id=hb(),r.name=`${o.name} (Copy)`,r.createdAt=Date.now(),r.updatedAt=Date.now(),r.pinned=!1,r.archived=!1,s.chatSessions.unshift(r),s.activeSessionId=r.id,y.updateAndPersistState(s),Sa(r.id)}function Eb(i,u){u?.stopPropagation();const s=so(),o=s?.chatSessions.find(r=>r.id===i);if(o)if(o.archived=!o.archived,o.archived&&(o.pinned=!1),o.updatedAt=Date.now(),s.activeSessionId===i&&o.archived){const r=s.chatSessions.find(d=>!d.archived);s.activeSessionId=r?r.id:null,y.updateAndPersistState(s),Sa(s.activeSessionId)}else y.updateAndPersistState(s),gl()}async function lp(i){const u=i||so()?.chatSessions;if(!u)return;const s=$y();if(!s){console.error("[SaveAllSessions] Cannot save, DB not available.");return}const o=s.transaction(ml,"readwrite"),r=o.objectStore(ml);for(const d of u)r.put(d);return new Promise((d,p)=>{o.oncomplete=()=>d(),o.onerror=()=>p(o.error)})}function Ab(i){try{const u=y.getProject();if(!u)throw new Error("Project not found.");const s=i?.sessionId||u.activeSessionId;if(!s)throw new Error("No session is active or selected for download.");console.log(`Attempting to download session with ID: ${s}`);const o=u.chatSessions.find(A=>A.id===s);if(!o)throw new Error(`Session with ID ${s} could not be found.`);let r=`Chat Session: ${o.name||"Untitled Session"}
`;r+=`Exported on: ${new Date().toLocaleString()}
`,o.linkedEntity&&(r+=`Associated Entity: ${o.linkedEntity.name} (${o.linkedEntity.type})
`),r+=`============================================

`;const d=o.history||[];d.length===0?r+="[This session has no messages.]":d.forEach(A=>{const M=A.timestamp?Jy(A.timestamp):"No Timestamp",O=(A.speaker||A.role||"unknown").toUpperCase(),B=Array.isArray(A.content)?A.content.find(Y=>Y.type==="text")?.text||"[multimodal content]":A.content;r+=`[${M}] ${O}:
${B}

--------------------------------

`}),console.log(`Final text content length: ${r.length}`);const p=new Blob([r],{type:"text/plain;charset=utf-8"}),b=URL.createObjectURL(p),h=document.createElement("a"),g=(o.name||"untitled").replace(/[^a-z0-9]/gi,"_").toLowerCase();h.download=`session-export-${g}.txt`,h.href=b,document.body.appendChild(h),h.click(),setTimeout(()=>{document.body.removeChild(h),URL.revokeObjectURL(b),console.log("Download initiated and cleanup complete.")},100)}catch(u){console.error("Download Chat Session failed:",u),k(`Failed to download chat: ${u.message}`,"Error")}}function Tb({height:i}){const u=y.getProject(),s=u?.chatSessions.find(o=>o.id===u.activeSessionId);s&&i&&(s.composerHeight=i)}async function Mb(){const i=y.getProject(),u=i?.chatSessions.find(s=>s.id===i.activeSessionId);if(!u){console.warn("[AutoSave] Could not find active session to save.");return}try{await Ti(ml,"readwrite","put",u)}catch(s){console.error(`[AutoSave] Failed to save active session (${u.id}):`,s)}}function Db({sessionId:i,newName:u}){const s=y.getProject();if(!s)return;const o=s.chatSessions.find(r=>r.id===i);!o||o.name!=="New Chat"||(o.name=u,o.updatedAt=Date.now(),y.updateAndPersistState(),y.bus.publish("session:listChanged"),s.activeSessionId===i&&y.bus.publish("ui:updateChatTitle",{title:u}))}async function _b(){const i=y.getProject();if(!i||!i.id)return console.warn("[AutoSave] Aborted: Project not available for saving."),!1;console.log("[AutoSave] Persisting essential data to IndexedDB...");try{return await cr(),await Mb(),console.log("[AutoSave] Essential project state successfully persisted."),!0}catch(u){return console.error("[AutoSave] Failed to persist project state:",u),!1}}function jb(){let i;y.bus.subscribe("autosave:required",()=>{clearTimeout(i),i=setTimeout(async()=>{y.isAutoSaveDirty()&&await _b()&&y.setAutoSaveDirty(!1)},2e3)})}function Cb(){y.isUserDirty()?(y.setState("pendingActionAfterSave",()=>{document.getElementById("load-project-input").click()}),Bg()):document.getElementById("load-project-input").click()}async function $c(){console.log("Proceeding with creating a new project...");try{const i=localStorage.getItem("lastActiveProjectId");i&&(await Fy(i),localStorage.removeItem("lastActiveProjectId"));const u=await fetch("/PromptPrim/default-project.prim");if(!u.ok)throw new Error(`Could not fetch default project file. Status: ${u.status}`);const s=await u.json(),o=Wy();o&&o.systemAgentDefaults&&(s.globalSettings.systemUtilityAgent=o.systemAgentDefaults.utilityAgent,s.globalSettings.summarizationPromptPresets=o.systemAgentDefaults.summarizationPresets),s.globalSettings.summarizationPromptPresets={...kt},s.id=`proj_${Date.now()}`,await ar(s.id),await co(s,!0)}catch(i){console.error("Failed to proceed with creating a new project:",i),k("Could not create a new project. Please check the browser console for more details.","Error")}}function Ic(){y.isUserDirty()?(y.setState("pendingActionAfterSave",$c),Bg()):$c()}function Ob(i){const u=i.target.files[0];if(!u)return;console.log(`[OpenProject] File selected: ${u.name}. Reading file...`);const s=new FileReader;s.onload=async o=>{try{const r=o.target.result;console.log("[OpenProject] File read complete. Parsing JSON...");const d=JSON.parse(r);if(!d.id||!d.name)throw new Error("Invalid project file format.");console.log(`[OpenProject] JSON parsed successfully for project: ${d.name}. Loading data...`),await co(d,!0)}catch(r){console.error("[OpenProject] Failed to load project:",r),k(`Error loading project: ${r.message}`,"Error")}},s.onerror=()=>{console.error("[OpenProject] FileReader error."),k("Failed to read the selected file.","Error")},s.readAsText(u),i.target.value=""}function xb(){try{const i=y.getState().pendingFileToOpen;if(!i)return;Nb(i),y.setState("pendingFileToOpen",null)}catch(i){console.error("Failed to proceed with opening project:",i),k("Could not open the project file.","Error")}}async function ip(i=!1){const u=y.getProject();i||u.name==="Untitled Project"?y.bus.publish("ui:showSaveAsModal"):await up(u.name)}async function up(i){const u=i?.trim();if(!u)return k("Please enter a project name."),!1;const s=y.getProject();s.name=u,y.bus.publish("project:nameChanged",u),y.setUserDirty(!1);const o=JSON.parse(JSON.stringify(y.getProject())),r=op(o);try{const d=JSON.stringify(r,null,2),p=new Blob([d],{type:"application/json"}),b=URL.createObjectURL(p),h=document.createElement("a");return h.download=`${u.replace(/[^a-z0-9\u0E00-\u0E7F]/gi,"_").toLowerCase()}.prim`,h.href=b,document.body.appendChild(h),h.click(),URL.revokeObjectURL(b),document.body.removeChild(h),y.bus.publish("ui:hideSaveAsModal"),y.setAutoSaveDirty(!1),await Bb(),y.getState().pendingActionAfterSave&&await zb(),!0}catch(d){return console.error("Failed to save project:",d),k("Failed to save project file.","Error"),y.setUserDirty(!0),!1}}async function wb(i){Iy();const u=y.getState().pendingActionAfterSave;switch(y.setState("pendingActionAfterSave",null),i){case"save":await ip(!1);break;case"discard":typeof u=="function"&&await u();break}}async function zb(){const i=y.getState().pendingActionAfterSave;y.setState("pendingActionAfterSave",null),i==="open"?await xb():i==="new"&&await $c()}async function Nb(i){const u=new FileReader;u.onload=async s=>{try{const o=JSON.parse(s.target.result);if(o&&o.id&&o.name&&o.agentPresets)await co(o,!0),k(`Project '${o.name}' loaded successfully!`,"Project Loaded");else throw new Error("Invalid project file format.")}catch(o){k(`Error loading project: ${o.message}`,"Error"),console.error(o)}},u.readAsText(i)}async function Ub(i){if(!i)throw new Error("Cannot load last project: Project ID is missing.");await ar(i);const u=await Ti(lr,"readonly","get",Rg);if(u&&u.data&&u.data.id===i){const s=u.data,o=await Ti(ml,"readonly","getAll"),r={...s,chatSessions:o||[]};await co(r,!1),console.log("Successfully loaded the last active project from IndexedDB.")}else throw new Error("Project data in DB is invalid or mismatched with last known ID.")}async function co(i,u=!1){let s=op(i);await ar(s.id),u&&(s.isDirtyForUser=!1),s.globalSettings&&(s.globalSettings.summarizationPromptPresets={...kt,...s.globalSettings.summarizationPromptPresets||{}}),y.setProject(s),await Rb(),s.globalSettings.apiKey&&await Mi({apiKey:s.globalSettings.apiKey}),s=y.getProject(),(s.chatSessions||[]).filter(p=>!p.archived).length===0&&ap();const r=y.getProject();r.isDirtyForUser=!1,await Lb(r);const d=r.chatSessions.find(p=>p.id===r.activeSessionId)||[...r.chatSessions].filter(p=>!p.archived).sort((p,b)=>b.updatedAt-p.updatedAt)[0];d&&Sa(d.id),y.bus.publish("project:loaded",{projectData:r}),y.bus.publish("userDirty:changed",!1),y.setAutoSaveDirty(!1),localStorage.setItem("lastActiveProjectId",r.id)}async function Lb(i){await tv([ml,lr]),await cr(i),await lp(i.chatSessions),console.log("Database has been rewritten with new project data.")}async function cr(i){const u=i||y.getProject();if(!u||!u.id){console.warn("Cannot persist metadata: project or project ID is missing.");return}const s={...u};delete s.chatSessions,await Ti(lr,"readwrite","put",{id:Rg,data:s})}async function Bb(){const i=y.getProject();if(!i||!i.id)return!1;console.log("[AutoSave] Persisting project to IndexedDB...");try{return await cr(),await lp(),console.log("[AutoSave] Project state successfully persisted."),!0}catch(u){return console.error("[AutoSave] Failed to persist project state:",u),!1}}async function Rb(){const i=y.getProject();!i||!i.globalSettings||(y.bus.publish("ui:applyFontSettings"),console.log("Global settings loaded into state."))}function Hb(i){const u=y.getProject();u.globalSettings.fontFamilySelect=i,y.setProject(u),y.updateAndPersistState(),y.bus.publish("ui:applyFontSettings")}function qb(){const i=y.getProject();if(!i.globalSettings)return;const u=i.globalSettings.systemUtilityAgent;u.model=document.getElementById("system-utility-model-select").value,u.systemPrompt=document.getElementById("system-utility-prompt").value;const s=y.getState().systemParameterEditor,o=s?s.getValues():{};Object.assign(u,o),y.setProject(i),y.updateAndPersistState(),k("System Agent settings saved!","Success")}function op(i){const u=ba();if(i.globalSettings.systemUtilityAgent=Object.assign({},ev,i.globalSettings.systemUtilityAgent),i.agentPresets)for(const s in i.agentPresets){const o=i.agentPresets[s],r=Object.assign({},oo,o);(!r.createdBy||r.createdBy==="Unknown User")&&(r.createdBy=u.userName),r.createdAt||(r.createdAt=Date.now()),r.modifiedAt||(r.modifiedAt=r.createdAt),i.agentPresets[s]=r}if(i.isDirtyForUser===void 0&&(i.isDirtyForUser=!0),i.agentGroups)for(const s in i.agentGroups){const o=i.agentGroups[s];o&&!Array.isArray(o.agents)&&(o.agents=[])}return i}async function Gb(i,u){y.setStagedEntity(null,!1);const s=y.getProject();s.activeEntity={type:i,name:u};const o=s.chatSessions.find(r=>r.id===s.activeSessionId);o&&(o.groupChatState&&(o.groupChatState.isRunning=!1),o.linkedEntity={...s.activeEntity},o.updatedAt=Date.now()),y.setProject(s),y.updateAndPersistState(),y.bus.publish("entity:selected",{type:i,name:u}),y.bus.publish("session:listChanged")}function Yb({type:i,name:u}){const s={type:i,name:u},o=y.getStagedEntity(),r=y.getProject().activeEntity;if(o&&o.name===u&&o.type===i){y.bus.publish("entity:select",s);return}if(r&&r.name===u&&r.type===i){y.setStagedEntity(null);return}y.setStagedEntity(s)}function Xb(i,u){const o=y.getProject().activeEntity,r=y.getStagedEntity(),d=document.createElement("div");return d.className="item agent-item",d.dataset.agentName=i,o?.type==="agent"&&o.name===i?d.classList.add("active"):r?.type==="agent"&&r.name===i&&d.classList.add("staged"),d.innerHTML=`
    <div class="item-header">
        <span class="item-name"><span class="item-icon">${u.icon||"🤖"}</span> ${i}</span>
        <div class="item-actions">
            <button class="btn-icon" data-action="agent:edit" title="Edit Agent">
                <span class="material-symbols-outlined">edit</span>
            </button>             
            <button class="btn-icon danger" data-action="agent:delete" title="Delete Agent">
                <span class="material-symbols-outlined">delete</span>
            </button>
        </div>
    </div>`,d}function Qb(i,u){if(!i)return;const s=i.querySelector(".agent-presets-section");s&&s.remove(),i.insertAdjacentHTML("beforeend",`
        <details class="collapsible-section agent-presets-section" open>
            <summary class="section-header">
                <h3>🤖 Agent Presets</h3>
                <button class="btn-icon" data-action="agent:create" title="Create New Agent">+</button>
            </summary>
            <div class="section-box">
                <div id="agentPresetList" class="item-list"></div>
            </div>
        </details>`);const r=i.querySelector("#agentPresetList");if(r){if(!u||u.length===0){r.innerHTML='<p class="no-items-message">No agents found.</p>';return}u.forEach(d=>{r.appendChild(Xb(d.name,d))})}}function sp(i=[]){const u=document.getElementById("agent-tags-container"),s=document.getElementById("agent-tags-input");!u||!s||(u.querySelectorAll(".tag-pill").forEach(o=>o.remove()),(i||[]).forEach(o=>{const r=document.createElement("div");r.className="tag-pill",r.textContent=o,r.dataset.tag=o;const d=document.createElement("span");d.className="remove-tag",d.innerHTML="&times;",d.onclick=()=>r.remove(),r.appendChild(d),u.insertBefore(r,s)}))}function Zb(i=[]){const s=y.getProject().memories||[],o=document.getElementById("agent-memory-list");if(o){if(o.innerHTML="",s.length===0){o.innerHTML='<p class="no-items-message">Create memories first.</p>';return}s.forEach(r=>{const d=(i||[]).includes(r.name),p=document.createElement("div");p.className="item",p.dataset.memoryName=r.name,p.innerHTML=`<span class="item-name">${r.name}</span><label class="switch"><input type="checkbox" ${d?"checked":""}><span class="slider round"></span></label>`,o.appendChild(p)})}}function Vb(i){const u=document.querySelector('#agent-editor-modal .tab-content[data-tab-content="system"]');u&&u.classList.toggle("is-locked",i)}function cp(){const i=document.getElementById("enhancer-model-name"),u=y.getProject();if(!i||!u)return;const s=u.globalSettings.systemUtilityAgent;if(s&&s.model){const o=[...y.getState().systemProviderModels||[],...y.getState().userProviderModels||[]];if(o.length===0){i.textContent=s.model;return}const r=o.find(d=>d.id===s.model);i.textContent=r?r.name:s.model}else i.textContent="N/A"}function Ag(){const i=y.getState().activeParameterEditor;i&&typeof i.destroy=="function"&&(i.destroy(),y.setState("activeParameterEditor",null)),document.getElementById("agent-editor-modal").style.display="none",y.setState("editingAgentName",null)}function Tg(i=!1,u=null){const s=document.getElementById("agent-editor-modal");if(!s)return;y.setState("editingAgentName",i?u:null);const o=y.getProject(),r=i&&o.agentPresets[u]?o.agentPresets[u]:oo;s.querySelectorAll(".tab-btn, .tab-content").forEach(Y=>Y.classList.remove("active")),s.querySelector('.tab-btn[data-tab="config"]')?.classList.add("active"),s.querySelector('.tab-content[data-tab-content="config"]')?.classList.add("active");const d=s.querySelector('.tab-content[data-tab-content="system"]');d&&(d.dataset.rendered="false");const p=document.getElementById("agent-profile-picture-preview");p&&(p.src=r.profilePicture||"/PromptPrim/icon.png"),document.getElementById("agent-name-input").value=i?u:"New Agent",document.getElementById("agent-icon-button").textContent=r.icon||"🤖",document.getElementById("agent-id-display").value=r.id||`agent_${Date.now()}`,document.getElementById("agent-description").value=r.description||"",nv("agent-model-search-wrapper",r.model,Ju()),document.getElementById("agent-system-prompt").value=r.systemPrompt,document.getElementById("agent-use-markdown").checked=r.useMarkdown,document.getElementById("agent-enable-web-search").checked=r.enableWebSearch;const b=document.getElementById("agent-params-container");if(b){const V=Ju().find(ce=>ce.id===r.model),le=V?V.provider:"openrouter",xe=Qg(b,r,le);y.setState("activeParameterEditor",xe)}const h=document.getElementById("agent-created-by-input");h&&(h.value=i?r.createdBy||"Unknown":ba().userName);const g=document.getElementById("agent-created-date");g&&(g.textContent=r.createdAt?new Date(r.createdAt).toLocaleString():"Not saved yet");const A=document.getElementById("agent-modified-date");A&&(A.textContent=r.modifiedAt?new Date(r.modifiedAt).toLocaleString():"Not saved yet"),sp(r.tags),Zb(r.activeMemories),Vb(r.type==="third-party"),cp();const M=document.getElementById("agent-model-warning"),O=document.getElementById("agent-model-warning-text"),B=document.getElementById("agent-model-search-wrapper");if(M&&O&&B){const V=Ju().some(le=>le.id===r.model);i&&r.model&&!V?(O.innerHTML=`<strong>Model Not Found:</strong> The original model (<code>${r.model}</code>) could not be found. Please select a new model.`,M.classList.remove("hidden"),B.classList.add("has-warning")):(M.classList.add("hidden"),B.classList.remove("has-warning"))}s.style.display="flex"}function Pb(){const i=document.getElementById("agent-editor-modal");if(!i)return;i.querySelector(".tab-buttons")?.addEventListener("click",h=>{const g=h.target.closest(".tab-btn");if(!g)return;const A=g.dataset.tab;i.querySelectorAll(".tab-btn, .tab-content").forEach(M=>M.classList.remove("active")),g.classList.add("active"),i.querySelector(`.tab-content[data-tab-content="${A}"]`)?.classList.add("active")}),i.addEventListener("click",h=>{const g=h.target;if(g.matches(".modal-actions .btn:not(.btn-secondary)"))y.bus.publish("agent:save");else if(g.closest("#generate-agent-profile-btn"))y.bus.publish("agent:generateProfile");else if(g.matches(".btn-secondary")||g.closest(".modal-close-btn"))Ag();else if(g.closest("#agent-id-copy-btn")){const A=document.getElementById("agent-id-display");navigator.clipboard.writeText(A.value)}});const s=document.getElementById("agent-tags-input");s?.addEventListener("keydown",h=>{if(h.key==="Enter"){h.preventDefault(),h.stopPropagation();const g=s.value.trim();if(g){const A=Array.from(document.querySelectorAll("#agent-tags-container .tag-pill")).map(M=>M.dataset.tag);A.includes(g)||sp([...A,g]),s.value=""}}});const o=document.getElementById("agent-icon-button"),r=document.getElementById("agent-emoji-picker");o&&r&&(o.addEventListener("click",h=>{h.stopPropagation(),document.body.classList.contains("dark-mode")?(r.classList.add("dark"),r.classList.remove("light")):(r.classList.add("light"),r.classList.remove("dark")),r.classList.toggle("hidden")}),r.addEventListener("emoji-click",h=>{h.detail.emoji&&(o.textContent=h.detail.emoji.unicode,r.classList.add("hidden"))}),document.addEventListener("click",h=>{!r.classList.contains("hidden")&&!r.contains(h.target)&&h.target!==o&&r.classList.add("hidden")}));const d=document.getElementById("agent-profile-picture-upload"),p=document.getElementById("agent-profile-picture-preview");d&&p&&d.addEventListener("change",h=>{const g=h.target.files?.[0];if(!g)return;if(!g.type.startsWith("image/")){k("Please select an image file (e.g., PNG, JPG, WEBP).","Unsupported File");return}const A=2*1024*1024;if(g.size>A){k("The selected image is too large. Please select a file smaller than 2MB.","File Too Large");return}const M=new FileReader;M.onload=O=>{p.src=O.target?.result||""},M.readAsDataURL(g)}),y.bus.subscribe("agent:editorShouldClose",Ag);const b=()=>{i&&i.style.display==="flex"&&cp()};y.bus.subscribe("models:loaded",b),y.bus.subscribe("user:modelsLoaded",b),y.bus.subscribe("agent:profileGenerated",h=>{if(!h)return;document.getElementById("agent-name-input").value=h.agent_name||"",document.getElementById("agent-icon-button").textContent=h.agent_icon||"🤖",document.getElementById("agent-system-prompt").value=h.system_prompt||"";const g=y.getState().editingAgentName,A=y.getProject(),M=g?A.agentPresets[g]:oo,O={...M,temperature:h.temperature??M.temperature,topP:h.top_p??M.topP,topK:h.top_k??M.topK,max_tokens:h.max_tokens??M.max_tokens,frequency_penalty:h.frequency_penalty??M.frequency_penalty,presence_penalty:h.presence_penalty??M.presence_penalty,seed:h.seed??M.seed},B=document.getElementById("agent-params-container");if(B){const Y=y.getState().activeParameterEditor;Y&&Y.destroy();const le=Qg(B,O,"openrouter");y.setState("activeParameterEditor",le)}}),y.bus.subscribe("agent:promptEnhanced",({newPrompt:h})=>{const g=document.getElementById("agent-system-prompt");g&&(g.value=h)}),console.log("✅ Agent UI Initialized with Full Profile Generation Logic.")}/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Mg(i,u){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);u&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),s.push.apply(s,o)}return s}function nn(i){for(var u=1;u<arguments.length;u++){var s=arguments[u]!=null?arguments[u]:{};u%2?Mg(Object(s),!0).forEach(function(o){Kb(i,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):Mg(Object(s)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(s,o))})}return i}function $u(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$u=function(u){return typeof u}:$u=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},$u(i)}function Kb(i,u,s){return u in i?Object.defineProperty(i,u,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[u]=s,i}function En(){return En=Object.assign||function(i){for(var u=1;u<arguments.length;u++){var s=arguments[u];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])}return i},En.apply(this,arguments)}function kb(i,u){if(i==null)return{};var s={},o=Object.keys(i),r,d;for(d=0;d<o.length;d++)r=o[d],!(u.indexOf(r)>=0)&&(s[r]=i[r]);return s}function Jb(i,u){if(i==null)return{};var s=kb(i,u),o,r;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(i);for(r=0;r<d.length;r++)o=d[r],!(u.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(i,o)&&(s[o]=i[o])}return s}var $b="1.15.6";function Sn(i){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(i)}var An=Sn(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),_i=Sn(/Edge/i),Dg=Sn(/firefox/i),vi=Sn(/safari/i)&&!Sn(/chrome/i)&&!Sn(/android/i),rr=Sn(/iP(ad|od|hone)/i),rp=Sn(/chrome/i)&&Sn(/android/i),fp={capture:!1,passive:!1};function me(i,u,s){i.addEventListener(u,s,!An&&fp)}function fe(i,u,s){i.removeEventListener(u,s,!An&&fp)}function to(i,u){if(u){if(u[0]===">"&&(u=u.substring(1)),i)try{if(i.matches)return i.matches(u);if(i.msMatchesSelector)return i.msMatchesSelector(u);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(u)}catch{return!1}return!1}}function dp(i){return i.host&&i!==document&&i.host.nodeType?i.host:i.parentNode}function Kt(i,u,s,o){if(i){s=s||document;do{if(u!=null&&(u[0]===">"?i.parentNode===s&&to(i,u):to(i,u))||o&&i===s)return i;if(i===s)break}while(i=dp(i))}return null}var _g=/\s+/g;function wt(i,u,s){if(i&&u)if(i.classList)i.classList[s?"add":"remove"](u);else{var o=(" "+i.className+" ").replace(_g," ").replace(" "+u+" "," ");i.className=(o+(s?" "+u:"")).replace(_g," ")}}function F(i,u,s){var o=i&&i.style;if(o){if(s===void 0)return document.defaultView&&document.defaultView.getComputedStyle?s=document.defaultView.getComputedStyle(i,""):i.currentStyle&&(s=i.currentStyle),u===void 0?s:s[u];!(u in o)&&u.indexOf("webkit")===-1&&(u="-webkit-"+u),o[u]=s+(typeof s=="string"?"":"px")}}function dl(i,u){var s="";if(typeof i=="string")s=i;else do{var o=F(i,"transform");o&&o!=="none"&&(s=o+" "+s)}while(!u&&(i=i.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(s)}function mp(i,u,s){if(i){var o=i.getElementsByTagName(u),r=0,d=o.length;if(s)for(;r<d;r++)s(o[r],r);return o}return[]}function tn(){var i=document.scrollingElement;return i||document.documentElement}function $e(i,u,s,o,r){if(!(!i.getBoundingClientRect&&i!==window)){var d,p,b,h,g,A,M;if(i!==window&&i.parentNode&&i!==tn()?(d=i.getBoundingClientRect(),p=d.top,b=d.left,h=d.bottom,g=d.right,A=d.height,M=d.width):(p=0,b=0,h=window.innerHeight,g=window.innerWidth,A=window.innerHeight,M=window.innerWidth),(u||s)&&i!==window&&(r=r||i.parentNode,!An))do if(r&&r.getBoundingClientRect&&(F(r,"transform")!=="none"||s&&F(r,"position")!=="static")){var O=r.getBoundingClientRect();p-=O.top+parseInt(F(r,"border-top-width")),b-=O.left+parseInt(F(r,"border-left-width")),h=p+d.height,g=b+d.width;break}while(r=r.parentNode);if(o&&i!==window){var B=dl(r||i),Y=B&&B.a,V=B&&B.d;B&&(p/=V,b/=Y,M/=Y,A/=V,h=p+A,g=b+M)}return{top:p,left:b,bottom:h,right:g,width:M,height:A}}}function jg(i,u,s){for(var o=$n(i,!0),r=$e(i)[u];o;){var d=$e(o)[s],p=void 0;if(p=r>=d,!p)return o;if(o===tn())break;o=$n(o,!1)}return!1}function pl(i,u,s,o){for(var r=0,d=0,p=i.children;d<p.length;){if(p[d].style.display!=="none"&&p[d]!==W.ghost&&(o||p[d]!==W.dragged)&&Kt(p[d],s.draggable,i,!1)){if(r===u)return p[d];r++}d++}return null}function fr(i,u){for(var s=i.lastElementChild;s&&(s===W.ghost||F(s,"display")==="none"||u&&!to(s,u));)s=s.previousElementSibling;return s||null}function Xt(i,u){var s=0;if(!i||!i.parentNode)return-1;for(;i=i.previousElementSibling;)i.nodeName.toUpperCase()!=="TEMPLATE"&&i!==W.clone&&(!u||to(i,u))&&s++;return s}function Cg(i){var u=0,s=0,o=tn();if(i)do{var r=dl(i),d=r.a,p=r.d;u+=i.scrollLeft*d,s+=i.scrollTop*p}while(i!==o&&(i=i.parentNode));return[u,s]}function Ib(i,u){for(var s in i)if(i.hasOwnProperty(s)){for(var o in u)if(u.hasOwnProperty(o)&&u[o]===i[s][o])return Number(s)}return-1}function $n(i,u){if(!i||!i.getBoundingClientRect)return tn();var s=i,o=!1;do if(s.clientWidth<s.scrollWidth||s.clientHeight<s.scrollHeight){var r=F(s);if(s.clientWidth<s.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||s.clientHeight<s.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!s.getBoundingClientRect||s===document.body)return tn();if(o||u)return s;o=!0}}while(s=s.parentNode);return tn()}function Fb(i,u){if(i&&u)for(var s in u)u.hasOwnProperty(s)&&(i[s]=u[s]);return i}function Lc(i,u){return Math.round(i.top)===Math.round(u.top)&&Math.round(i.left)===Math.round(u.left)&&Math.round(i.height)===Math.round(u.height)&&Math.round(i.width)===Math.round(u.width)}var bi;function gp(i,u){return function(){if(!bi){var s=arguments,o=this;s.length===1?i.call(o,s[0]):i.apply(o,s),bi=setTimeout(function(){bi=void 0},u)}}}function Wb(){clearTimeout(bi),bi=void 0}function pp(i,u,s){i.scrollLeft+=u,i.scrollTop+=s}function hp(i){var u=window.Polymer,s=window.jQuery||window.Zepto;return u&&u.dom?u.dom(i).cloneNode(!0):s?s(i).clone(!0)[0]:i.cloneNode(!0)}function yp(i,u,s){var o={};return Array.from(i.children).forEach(function(r){var d,p,b,h;if(!(!Kt(r,u.draggable,i,!1)||r.animated||r===s)){var g=$e(r);o.left=Math.min((d=o.left)!==null&&d!==void 0?d:1/0,g.left),o.top=Math.min((p=o.top)!==null&&p!==void 0?p:1/0,g.top),o.right=Math.max((b=o.right)!==null&&b!==void 0?b:-1/0,g.right),o.bottom=Math.max((h=o.bottom)!==null&&h!==void 0?h:-1/0,g.bottom)}}),o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}var St="Sortable"+new Date().getTime();function eS(){var i=[],u;return{captureAnimationState:function(){if(i=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(r){if(!(F(r,"display")==="none"||r===W.ghost)){i.push({target:r,rect:$e(r)});var d=nn({},i[i.length-1].rect);if(r.thisAnimationDuration){var p=dl(r,!0);p&&(d.top-=p.f,d.left-=p.e)}r.fromRect=d}})}},addAnimationState:function(o){i.push(o)},removeAnimationState:function(o){i.splice(Ib(i,{target:o}),1)},animateAll:function(o){var r=this;if(!this.options.animation){clearTimeout(u),typeof o=="function"&&o();return}var d=!1,p=0;i.forEach(function(b){var h=0,g=b.target,A=g.fromRect,M=$e(g),O=g.prevFromRect,B=g.prevToRect,Y=b.rect,V=dl(g,!0);V&&(M.top-=V.f,M.left-=V.e),g.toRect=M,g.thisAnimationDuration&&Lc(O,M)&&!Lc(A,M)&&(Y.top-M.top)/(Y.left-M.left)===(A.top-M.top)/(A.left-M.left)&&(h=nS(Y,O,B,r.options)),Lc(M,A)||(g.prevFromRect=A,g.prevToRect=M,h||(h=r.options.animation),r.animate(g,Y,M,h)),h&&(d=!0,p=Math.max(p,h),clearTimeout(g.animationResetTimer),g.animationResetTimer=setTimeout(function(){g.animationTime=0,g.prevFromRect=null,g.fromRect=null,g.prevToRect=null,g.thisAnimationDuration=null},h),g.thisAnimationDuration=h)}),clearTimeout(u),d?u=setTimeout(function(){typeof o=="function"&&o()},p):typeof o=="function"&&o(),i=[]},animate:function(o,r,d,p){if(p){F(o,"transition",""),F(o,"transform","");var b=dl(this.el),h=b&&b.a,g=b&&b.d,A=(r.left-d.left)/(h||1),M=(r.top-d.top)/(g||1);o.animatingX=!!A,o.animatingY=!!M,F(o,"transform","translate3d("+A+"px,"+M+"px,0)"),this.forRepaintDummy=tS(o),F(o,"transition","transform "+p+"ms"+(this.options.easing?" "+this.options.easing:"")),F(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){F(o,"transition",""),F(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},p)}}}}function tS(i){return i.offsetWidth}function nS(i,u,s,o){return Math.sqrt(Math.pow(u.top-i.top,2)+Math.pow(u.left-i.left,2))/Math.sqrt(Math.pow(u.top-s.top,2)+Math.pow(u.left-s.left,2))*o.animation}var ol=[],Bc={initializeByDefault:!0},ji={mount:function(u){for(var s in Bc)Bc.hasOwnProperty(s)&&!(s in u)&&(u[s]=Bc[s]);ol.forEach(function(o){if(o.pluginName===u.pluginName)throw"Sortable: Cannot mount plugin ".concat(u.pluginName," more than once")}),ol.push(u)},pluginEvent:function(u,s,o){var r=this;this.eventCanceled=!1,o.cancel=function(){r.eventCanceled=!0};var d=u+"Global";ol.forEach(function(p){s[p.pluginName]&&(s[p.pluginName][d]&&s[p.pluginName][d](nn({sortable:s},o)),s.options[p.pluginName]&&s[p.pluginName][u]&&s[p.pluginName][u](nn({sortable:s},o)))})},initializePlugins:function(u,s,o,r){ol.forEach(function(b){var h=b.pluginName;if(!(!u.options[h]&&!b.initializeByDefault)){var g=new b(u,s,u.options);g.sortable=u,g.options=u.options,u[h]=g,En(o,g.defaults)}});for(var d in u.options)if(u.options.hasOwnProperty(d)){var p=this.modifyOption(u,d,u.options[d]);typeof p<"u"&&(u.options[d]=p)}},getEventProperties:function(u,s){var o={};return ol.forEach(function(r){typeof r.eventProperties=="function"&&En(o,r.eventProperties.call(s[r.pluginName],u))}),o},modifyOption:function(u,s,o){var r;return ol.forEach(function(d){u[d.pluginName]&&d.optionListeners&&typeof d.optionListeners[s]=="function"&&(r=d.optionListeners[s].call(u[d.pluginName],o))}),r}};function aS(i){var u=i.sortable,s=i.rootEl,o=i.name,r=i.targetEl,d=i.cloneEl,p=i.toEl,b=i.fromEl,h=i.oldIndex,g=i.newIndex,A=i.oldDraggableIndex,M=i.newDraggableIndex,O=i.originalEvent,B=i.putSortable,Y=i.extraEventProperties;if(u=u||s&&s[St],!!u){var V,le=u.options,xe="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!An&&!_i?V=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(V=document.createEvent("Event"),V.initEvent(o,!0,!0)),V.to=p||s,V.from=b||s,V.item=r||s,V.clone=d,V.oldIndex=h,V.newIndex=g,V.oldDraggableIndex=A,V.newDraggableIndex=M,V.originalEvent=O,V.pullMode=B?B.lastPutMode:void 0;var ce=nn(nn({},Y),ji.getEventProperties(o,u));for(var de in ce)V[de]=ce[de];s&&s.dispatchEvent(V),le[xe]&&le[xe].call(u,V)}}var lS=["evt"],bt=function(u,s){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=o.evt,d=Jb(o,lS);ji.pluginEvent.bind(W)(u,s,nn({dragEl:R,parentEl:Ze,ghostEl:ne,rootEl:qe,nextEl:ya,lastDownEl:Iu,cloneEl:Ye,cloneHidden:Jn,dragStarted:pi,putSortable:ot,activeSortable:W.active,originalEvent:r,oldIndex:fl,oldDraggableIndex:Si,newIndex:zt,newDraggableIndex:kn,hideGhostForTarget:Ep,unhideGhostForTarget:Ap,cloneNowHidden:function(){Jn=!0},cloneNowShown:function(){Jn=!1},dispatchSortableEvent:function(b){mt({sortable:s,name:b,originalEvent:r})}},d))};function mt(i){aS(nn({putSortable:ot,cloneEl:Ye,targetEl:R,rootEl:qe,oldIndex:fl,oldDraggableIndex:Si,newIndex:zt,newDraggableIndex:kn},i))}var R,Ze,ne,qe,ya,Iu,Ye,Jn,fl,zt,Si,kn,Vu,ot,rl=!1,no=!1,ao=[],pa,Pt,Rc,Hc,Og,xg,pi,sl,Ei,Ai=!1,Pu=!1,Fu,ft,qc=[],Fc=!1,lo=[],ro=typeof document<"u",Ku=rr,wg=_i||An?"cssFloat":"float",iS=ro&&!rp&&!rr&&"draggable"in document.createElement("div"),vp=function(){if(ro){if(An)return!1;var i=document.createElement("x");return i.style.cssText="pointer-events:auto",i.style.pointerEvents==="auto"}}(),bp=function(u,s){var o=F(u),r=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),d=pl(u,0,s),p=pl(u,1,s),b=d&&F(d),h=p&&F(p),g=b&&parseInt(b.marginLeft)+parseInt(b.marginRight)+$e(d).width,A=h&&parseInt(h.marginLeft)+parseInt(h.marginRight)+$e(p).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(d&&b.float&&b.float!=="none"){var M=b.float==="left"?"left":"right";return p&&(h.clear==="both"||h.clear===M)?"vertical":"horizontal"}return d&&(b.display==="block"||b.display==="flex"||b.display==="table"||b.display==="grid"||g>=r&&o[wg]==="none"||p&&o[wg]==="none"&&g+A>r)?"vertical":"horizontal"},uS=function(u,s,o){var r=o?u.left:u.top,d=o?u.right:u.bottom,p=o?u.width:u.height,b=o?s.left:s.top,h=o?s.right:s.bottom,g=o?s.width:s.height;return r===b||d===h||r+p/2===b+g/2},oS=function(u,s){var o;return ao.some(function(r){var d=r[St].options.emptyInsertThreshold;if(!(!d||fr(r))){var p=$e(r),b=u>=p.left-d&&u<=p.right+d,h=s>=p.top-d&&s<=p.bottom+d;if(b&&h)return o=r}}),o},Sp=function(u){function s(d,p){return function(b,h,g,A){var M=b.options.group.name&&h.options.group.name&&b.options.group.name===h.options.group.name;if(d==null&&(p||M))return!0;if(d==null||d===!1)return!1;if(p&&d==="clone")return d;if(typeof d=="function")return s(d(b,h,g,A),p)(b,h,g,A);var O=(p?b:h).options.group.name;return d===!0||typeof d=="string"&&d===O||d.join&&d.indexOf(O)>-1}}var o={},r=u.group;(!r||$u(r)!="object")&&(r={name:r}),o.name=r.name,o.checkPull=s(r.pull,!0),o.checkPut=s(r.put),o.revertClone=r.revertClone,u.group=o},Ep=function(){!vp&&ne&&F(ne,"display","none")},Ap=function(){!vp&&ne&&F(ne,"display","")};ro&&!rp&&document.addEventListener("click",function(i){if(no)return i.preventDefault(),i.stopPropagation&&i.stopPropagation(),i.stopImmediatePropagation&&i.stopImmediatePropagation(),no=!1,!1},!0);var ha=function(u){if(R){u=u.touches?u.touches[0]:u;var s=oS(u.clientX,u.clientY);if(s){var o={};for(var r in u)u.hasOwnProperty(r)&&(o[r]=u[r]);o.target=o.rootEl=s,o.preventDefault=void 0,o.stopPropagation=void 0,s[St]._onDragOver(o)}}},sS=function(u){R&&R.parentNode[St]._isOutsideThisEl(u.target)};function W(i,u){if(!(i&&i.nodeType&&i.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(i));this.el=i,this.options=u=En({},u),i[St]=this;var s={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(i.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return bp(i,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(p,b){p.setData("Text",b.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:W.supportPointer!==!1&&"PointerEvent"in window&&(!vi||rr),emptyInsertThreshold:5};ji.initializePlugins(this,i,s);for(var o in s)!(o in u)&&(u[o]=s[o]);Sp(u);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=u.forceFallback?!1:iS,this.nativeDraggable&&(this.options.touchStartThreshold=1),u.supportPointer?me(i,"pointerdown",this._onTapStart):(me(i,"mousedown",this._onTapStart),me(i,"touchstart",this._onTapStart)),this.nativeDraggable&&(me(i,"dragover",this),me(i,"dragenter",this)),ao.push(this.el),u.store&&u.store.get&&this.sort(u.store.get(this)||[]),En(this,eS())}W.prototype={constructor:W,_isOutsideThisEl:function(u){!this.el.contains(u)&&u!==this.el&&(sl=null)},_getDirection:function(u,s){return typeof this.options.direction=="function"?this.options.direction.call(this,u,s,R):this.options.direction},_onTapStart:function(u){if(u.cancelable){var s=this,o=this.el,r=this.options,d=r.preventOnFilter,p=u.type,b=u.touches&&u.touches[0]||u.pointerType&&u.pointerType==="touch"&&u,h=(b||u).target,g=u.target.shadowRoot&&(u.path&&u.path[0]||u.composedPath&&u.composedPath()[0])||h,A=r.filter;if(hS(o),!R&&!(/mousedown|pointerdown/.test(p)&&u.button!==0||r.disabled)&&!g.isContentEditable&&!(!this.nativeDraggable&&vi&&h&&h.tagName.toUpperCase()==="SELECT")&&(h=Kt(h,r.draggable,o,!1),!(h&&h.animated)&&Iu!==h)){if(fl=Xt(h),Si=Xt(h,r.draggable),typeof A=="function"){if(A.call(this,u,h,this)){mt({sortable:s,rootEl:g,name:"filter",targetEl:h,toEl:o,fromEl:o}),bt("filter",s,{evt:u}),d&&u.preventDefault();return}}else if(A&&(A=A.split(",").some(function(M){if(M=Kt(g,M.trim(),o,!1),M)return mt({sortable:s,rootEl:M,name:"filter",targetEl:h,fromEl:o,toEl:o}),bt("filter",s,{evt:u}),!0}),A)){d&&u.preventDefault();return}r.handle&&!Kt(g,r.handle,o,!1)||this._prepareDragStart(u,b,h)}}},_prepareDragStart:function(u,s,o){var r=this,d=r.el,p=r.options,b=d.ownerDocument,h;if(o&&!R&&o.parentNode===d){var g=$e(o);if(qe=d,R=o,Ze=R.parentNode,ya=R.nextSibling,Iu=o,Vu=p.group,W.dragged=R,pa={target:R,clientX:(s||u).clientX,clientY:(s||u).clientY},Og=pa.clientX-g.left,xg=pa.clientY-g.top,this._lastX=(s||u).clientX,this._lastY=(s||u).clientY,R.style["will-change"]="all",h=function(){if(bt("delayEnded",r,{evt:u}),W.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!Dg&&r.nativeDraggable&&(R.draggable=!0),r._triggerDragStart(u,s),mt({sortable:r,name:"choose",originalEvent:u}),wt(R,p.chosenClass,!0)},p.ignore.split(",").forEach(function(A){mp(R,A.trim(),Gc)}),me(b,"dragover",ha),me(b,"mousemove",ha),me(b,"touchmove",ha),p.supportPointer?(me(b,"pointerup",r._onDrop),!this.nativeDraggable&&me(b,"pointercancel",r._onDrop)):(me(b,"mouseup",r._onDrop),me(b,"touchend",r._onDrop),me(b,"touchcancel",r._onDrop)),Dg&&this.nativeDraggable&&(this.options.touchStartThreshold=4,R.draggable=!0),bt("delayStart",this,{evt:u}),p.delay&&(!p.delayOnTouchOnly||s)&&(!this.nativeDraggable||!(_i||An))){if(W.eventCanceled){this._onDrop();return}p.supportPointer?(me(b,"pointerup",r._disableDelayedDrag),me(b,"pointercancel",r._disableDelayedDrag)):(me(b,"mouseup",r._disableDelayedDrag),me(b,"touchend",r._disableDelayedDrag),me(b,"touchcancel",r._disableDelayedDrag)),me(b,"mousemove",r._delayedDragTouchMoveHandler),me(b,"touchmove",r._delayedDragTouchMoveHandler),p.supportPointer&&me(b,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(h,p.delay)}else h()}},_delayedDragTouchMoveHandler:function(u){var s=u.touches?u.touches[0]:u;Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){R&&Gc(R),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var u=this.el.ownerDocument;fe(u,"mouseup",this._disableDelayedDrag),fe(u,"touchend",this._disableDelayedDrag),fe(u,"touchcancel",this._disableDelayedDrag),fe(u,"pointerup",this._disableDelayedDrag),fe(u,"pointercancel",this._disableDelayedDrag),fe(u,"mousemove",this._delayedDragTouchMoveHandler),fe(u,"touchmove",this._delayedDragTouchMoveHandler),fe(u,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(u,s){s=s||u.pointerType=="touch"&&u,!this.nativeDraggable||s?this.options.supportPointer?me(document,"pointermove",this._onTouchMove):s?me(document,"touchmove",this._onTouchMove):me(document,"mousemove",this._onTouchMove):(me(R,"dragend",this),me(qe,"dragstart",this._onDragStart));try{document.selection?Wu(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(u,s){if(rl=!1,qe&&R){bt("dragStarted",this,{evt:s}),this.nativeDraggable&&me(document,"dragover",sS);var o=this.options;!u&&wt(R,o.dragClass,!1),wt(R,o.ghostClass,!0),W.active=this,u&&this._appendGhost(),mt({sortable:this,name:"start",originalEvent:s})}else this._nulling()},_emulateDragOver:function(){if(Pt){this._lastX=Pt.clientX,this._lastY=Pt.clientY,Ep();for(var u=document.elementFromPoint(Pt.clientX,Pt.clientY),s=u;u&&u.shadowRoot&&(u=u.shadowRoot.elementFromPoint(Pt.clientX,Pt.clientY),u!==s);)s=u;if(R.parentNode[St]._isOutsideThisEl(u),s)do{if(s[St]){var o=void 0;if(o=s[St]._onDragOver({clientX:Pt.clientX,clientY:Pt.clientY,target:u,rootEl:s}),o&&!this.options.dragoverBubble)break}u=s}while(s=dp(s));Ap()}},_onTouchMove:function(u){if(pa){var s=this.options,o=s.fallbackTolerance,r=s.fallbackOffset,d=u.touches?u.touches[0]:u,p=ne&&dl(ne,!0),b=ne&&p&&p.a,h=ne&&p&&p.d,g=Ku&&ft&&Cg(ft),A=(d.clientX-pa.clientX+r.x)/(b||1)+(g?g[0]-qc[0]:0)/(b||1),M=(d.clientY-pa.clientY+r.y)/(h||1)+(g?g[1]-qc[1]:0)/(h||1);if(!W.active&&!rl){if(o&&Math.max(Math.abs(d.clientX-this._lastX),Math.abs(d.clientY-this._lastY))<o)return;this._onDragStart(u,!0)}if(ne){p?(p.e+=A-(Rc||0),p.f+=M-(Hc||0)):p={a:1,b:0,c:0,d:1,e:A,f:M};var O="matrix(".concat(p.a,",").concat(p.b,",").concat(p.c,",").concat(p.d,",").concat(p.e,",").concat(p.f,")");F(ne,"webkitTransform",O),F(ne,"mozTransform",O),F(ne,"msTransform",O),F(ne,"transform",O),Rc=A,Hc=M,Pt=d}u.cancelable&&u.preventDefault()}},_appendGhost:function(){if(!ne){var u=this.options.fallbackOnBody?document.body:qe,s=$e(R,!0,Ku,!0,u),o=this.options;if(Ku){for(ft=u;F(ft,"position")==="static"&&F(ft,"transform")==="none"&&ft!==document;)ft=ft.parentNode;ft!==document.body&&ft!==document.documentElement?(ft===document&&(ft=tn()),s.top+=ft.scrollTop,s.left+=ft.scrollLeft):ft=tn(),qc=Cg(ft)}ne=R.cloneNode(!0),wt(ne,o.ghostClass,!1),wt(ne,o.fallbackClass,!0),wt(ne,o.dragClass,!0),F(ne,"transition",""),F(ne,"transform",""),F(ne,"box-sizing","border-box"),F(ne,"margin",0),F(ne,"top",s.top),F(ne,"left",s.left),F(ne,"width",s.width),F(ne,"height",s.height),F(ne,"opacity","0.8"),F(ne,"position",Ku?"absolute":"fixed"),F(ne,"zIndex","100000"),F(ne,"pointerEvents","none"),W.ghost=ne,u.appendChild(ne),F(ne,"transform-origin",Og/parseInt(ne.style.width)*100+"% "+xg/parseInt(ne.style.height)*100+"%")}},_onDragStart:function(u,s){var o=this,r=u.dataTransfer,d=o.options;if(bt("dragStart",this,{evt:u}),W.eventCanceled){this._onDrop();return}bt("setupClone",this),W.eventCanceled||(Ye=hp(R),Ye.removeAttribute("id"),Ye.draggable=!1,Ye.style["will-change"]="",this._hideClone(),wt(Ye,this.options.chosenClass,!1),W.clone=Ye),o.cloneId=Wu(function(){bt("clone",o),!W.eventCanceled&&(o.options.removeCloneOnHide||qe.insertBefore(Ye,R),o._hideClone(),mt({sortable:o,name:"clone"}))}),!s&&wt(R,d.dragClass,!0),s?(no=!0,o._loopId=setInterval(o._emulateDragOver,50)):(fe(document,"mouseup",o._onDrop),fe(document,"touchend",o._onDrop),fe(document,"touchcancel",o._onDrop),r&&(r.effectAllowed="move",d.setData&&d.setData.call(o,r,R)),me(document,"drop",o),F(R,"transform","translateZ(0)")),rl=!0,o._dragStartId=Wu(o._dragStarted.bind(o,s,u)),me(document,"selectstart",o),pi=!0,window.getSelection().removeAllRanges(),vi&&F(document.body,"user-select","none")},_onDragOver:function(u){var s=this.el,o=u.target,r,d,p,b=this.options,h=b.group,g=W.active,A=Vu===h,M=b.sort,O=ot||g,B,Y=this,V=!1;if(Fc)return;function le(H,pe){bt(H,Y,nn({evt:u,isOwner:A,axis:B?"vertical":"horizontal",revert:p,dragRect:r,targetRect:d,canSort:M,fromSortable:O,target:o,completed:ce,onMove:function(L,X){return ku(qe,s,R,r,L,$e(L),u,X)},changed:de},pe))}function xe(){le("dragOverAnimationCapture"),Y.captureAnimationState(),Y!==O&&O.captureAnimationState()}function ce(H){return le("dragOverCompleted",{insertion:H}),H&&(A?g._hideClone():g._showClone(Y),Y!==O&&(wt(R,ot?ot.options.ghostClass:g.options.ghostClass,!1),wt(R,b.ghostClass,!0)),ot!==Y&&Y!==W.active?ot=Y:Y===W.active&&ot&&(ot=null),O===Y&&(Y._ignoreWhileAnimating=o),Y.animateAll(function(){le("dragOverAnimationComplete"),Y._ignoreWhileAnimating=null}),Y!==O&&(O.animateAll(),O._ignoreWhileAnimating=null)),(o===R&&!R.animated||o===s&&!o.animated)&&(sl=null),!b.dragoverBubble&&!u.rootEl&&o!==document&&(R.parentNode[St]._isOutsideThisEl(u.target),!H&&ha(u)),!b.dragoverBubble&&u.stopPropagation&&u.stopPropagation(),V=!0}function de(){zt=Xt(R),kn=Xt(R,b.draggable),mt({sortable:Y,name:"change",toEl:s,newIndex:zt,newDraggableIndex:kn,originalEvent:u})}if(u.preventDefault!==void 0&&u.cancelable&&u.preventDefault(),o=Kt(o,b.draggable,s,!0),le("dragOver"),W.eventCanceled)return V;if(R.contains(u.target)||o.animated&&o.animatingX&&o.animatingY||Y._ignoreWhileAnimating===o)return ce(!1);if(no=!1,g&&!b.disabled&&(A?M||(p=Ze!==qe):ot===this||(this.lastPutMode=Vu.checkPull(this,g,R,u))&&h.checkPut(this,g,R,u))){if(B=this._getDirection(u,o)==="vertical",r=$e(R),le("dragOverValid"),W.eventCanceled)return V;if(p)return Ze=qe,xe(),this._hideClone(),le("revert"),W.eventCanceled||(ya?qe.insertBefore(R,ya):qe.appendChild(R)),ce(!0);var be=fr(s,b.draggable);if(!be||dS(u,B,this)&&!be.animated){if(be===R)return ce(!1);if(be&&s===u.target&&(o=be),o&&(d=$e(o)),ku(qe,s,R,r,o,d,u,!!o)!==!1)return xe(),be&&be.nextSibling?s.insertBefore(R,be.nextSibling):s.appendChild(R),Ze=s,de(),ce(!0)}else if(be&&fS(u,B,this)){var ee=pl(s,0,b,!0);if(ee===R)return ce(!1);if(o=ee,d=$e(o),ku(qe,s,R,r,o,d,u,!1)!==!1)return xe(),s.insertBefore(R,ee),Ze=s,de(),ce(!0)}else if(o.parentNode===s){d=$e(o);var Se=0,Me,Q=R.parentNode!==s,re=!uS(R.animated&&R.toRect||r,o.animated&&o.toRect||d,B),Ue=B?"top":"left",we=jg(o,"top","top")||jg(R,"top","top"),Ce=we?we.scrollTop:void 0;sl!==o&&(Me=d[Ue],Ai=!1,Pu=!re&&b.invertSwap||Q),Se=mS(u,o,d,B,re?1:b.swapThreshold,b.invertedSwapThreshold==null?b.swapThreshold:b.invertedSwapThreshold,Pu,sl===o);var Le;if(Se!==0){var at=Xt(R);do at-=Se,Le=Ze.children[at];while(Le&&(F(Le,"display")==="none"||Le===ne))}if(Se===0||Le===o)return ce(!1);sl=o,Ei=Se;var Be=o.nextElementSibling,x=!1;x=Se===1;var q=ku(qe,s,R,r,o,d,u,x);if(q!==!1)return(q===1||q===-1)&&(x=q===1),Fc=!0,setTimeout(rS,30),xe(),x&&!Be?s.appendChild(R):o.parentNode.insertBefore(R,x?Be:o),we&&pp(we,0,Ce-we.scrollTop),Ze=R.parentNode,Me!==void 0&&!Pu&&(Fu=Math.abs(Me-$e(o)[Ue])),de(),ce(!0)}if(s.contains(R))return ce(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){fe(document,"mousemove",this._onTouchMove),fe(document,"touchmove",this._onTouchMove),fe(document,"pointermove",this._onTouchMove),fe(document,"dragover",ha),fe(document,"mousemove",ha),fe(document,"touchmove",ha)},_offUpEvents:function(){var u=this.el.ownerDocument;fe(u,"mouseup",this._onDrop),fe(u,"touchend",this._onDrop),fe(u,"pointerup",this._onDrop),fe(u,"pointercancel",this._onDrop),fe(u,"touchcancel",this._onDrop),fe(document,"selectstart",this)},_onDrop:function(u){var s=this.el,o=this.options;if(zt=Xt(R),kn=Xt(R,o.draggable),bt("drop",this,{evt:u}),Ze=R&&R.parentNode,zt=Xt(R),kn=Xt(R,o.draggable),W.eventCanceled){this._nulling();return}rl=!1,Pu=!1,Ai=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Wc(this.cloneId),Wc(this._dragStartId),this.nativeDraggable&&(fe(document,"drop",this),fe(s,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),vi&&F(document.body,"user-select",""),F(R,"transform",""),u&&(pi&&(u.cancelable&&u.preventDefault(),!o.dropBubble&&u.stopPropagation()),ne&&ne.parentNode&&ne.parentNode.removeChild(ne),(qe===Ze||ot&&ot.lastPutMode!=="clone")&&Ye&&Ye.parentNode&&Ye.parentNode.removeChild(Ye),R&&(this.nativeDraggable&&fe(R,"dragend",this),Gc(R),R.style["will-change"]="",pi&&!rl&&wt(R,ot?ot.options.ghostClass:this.options.ghostClass,!1),wt(R,this.options.chosenClass,!1),mt({sortable:this,name:"unchoose",toEl:Ze,newIndex:null,newDraggableIndex:null,originalEvent:u}),qe!==Ze?(zt>=0&&(mt({rootEl:Ze,name:"add",toEl:Ze,fromEl:qe,originalEvent:u}),mt({sortable:this,name:"remove",toEl:Ze,originalEvent:u}),mt({rootEl:Ze,name:"sort",toEl:Ze,fromEl:qe,originalEvent:u}),mt({sortable:this,name:"sort",toEl:Ze,originalEvent:u})),ot&&ot.save()):zt!==fl&&zt>=0&&(mt({sortable:this,name:"update",toEl:Ze,originalEvent:u}),mt({sortable:this,name:"sort",toEl:Ze,originalEvent:u})),W.active&&((zt==null||zt===-1)&&(zt=fl,kn=Si),mt({sortable:this,name:"end",toEl:Ze,originalEvent:u}),this.save()))),this._nulling()},_nulling:function(){bt("nulling",this),qe=R=Ze=ne=ya=Ye=Iu=Jn=pa=Pt=pi=zt=kn=fl=Si=sl=Ei=ot=Vu=W.dragged=W.ghost=W.clone=W.active=null,lo.forEach(function(u){u.checked=!0}),lo.length=Rc=Hc=0},handleEvent:function(u){switch(u.type){case"drop":case"dragend":this._onDrop(u);break;case"dragenter":case"dragover":R&&(this._onDragOver(u),cS(u));break;case"selectstart":u.preventDefault();break}},toArray:function(){for(var u=[],s,o=this.el.children,r=0,d=o.length,p=this.options;r<d;r++)s=o[r],Kt(s,p.draggable,this.el,!1)&&u.push(s.getAttribute(p.dataIdAttr)||pS(s));return u},sort:function(u,s){var o={},r=this.el;this.toArray().forEach(function(d,p){var b=r.children[p];Kt(b,this.options.draggable,r,!1)&&(o[d]=b)},this),s&&this.captureAnimationState(),u.forEach(function(d){o[d]&&(r.removeChild(o[d]),r.appendChild(o[d]))}),s&&this.animateAll()},save:function(){var u=this.options.store;u&&u.set&&u.set(this)},closest:function(u,s){return Kt(u,s||this.options.draggable,this.el,!1)},option:function(u,s){var o=this.options;if(s===void 0)return o[u];var r=ji.modifyOption(this,u,s);typeof r<"u"?o[u]=r:o[u]=s,u==="group"&&Sp(o)},destroy:function(){bt("destroy",this);var u=this.el;u[St]=null,fe(u,"mousedown",this._onTapStart),fe(u,"touchstart",this._onTapStart),fe(u,"pointerdown",this._onTapStart),this.nativeDraggable&&(fe(u,"dragover",this),fe(u,"dragenter",this)),Array.prototype.forEach.call(u.querySelectorAll("[draggable]"),function(s){s.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ao.splice(ao.indexOf(this.el),1),this.el=u=null},_hideClone:function(){if(!Jn){if(bt("hideClone",this),W.eventCanceled)return;F(Ye,"display","none"),this.options.removeCloneOnHide&&Ye.parentNode&&Ye.parentNode.removeChild(Ye),Jn=!0}},_showClone:function(u){if(u.lastPutMode!=="clone"){this._hideClone();return}if(Jn){if(bt("showClone",this),W.eventCanceled)return;R.parentNode==qe&&!this.options.group.revertClone?qe.insertBefore(Ye,R):ya?qe.insertBefore(Ye,ya):qe.appendChild(Ye),this.options.group.revertClone&&this.animate(R,Ye),F(Ye,"display",""),Jn=!1}}};function cS(i){i.dataTransfer&&(i.dataTransfer.dropEffect="move"),i.cancelable&&i.preventDefault()}function ku(i,u,s,o,r,d,p,b){var h,g=i[St],A=g.options.onMove,M;return window.CustomEvent&&!An&&!_i?h=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(h=document.createEvent("Event"),h.initEvent("move",!0,!0)),h.to=u,h.from=i,h.dragged=s,h.draggedRect=o,h.related=r||u,h.relatedRect=d||$e(u),h.willInsertAfter=b,h.originalEvent=p,i.dispatchEvent(h),A&&(M=A.call(g,h,p)),M}function Gc(i){i.draggable=!1}function rS(){Fc=!1}function fS(i,u,s){var o=$e(pl(s.el,0,s.options,!0)),r=yp(s.el,s.options,ne),d=10;return u?i.clientX<r.left-d||i.clientY<o.top&&i.clientX<o.right:i.clientY<r.top-d||i.clientY<o.bottom&&i.clientX<o.left}function dS(i,u,s){var o=$e(fr(s.el,s.options.draggable)),r=yp(s.el,s.options,ne),d=10;return u?i.clientX>r.right+d||i.clientY>o.bottom&&i.clientX>o.left:i.clientY>r.bottom+d||i.clientX>o.right&&i.clientY>o.top}function mS(i,u,s,o,r,d,p,b){var h=o?i.clientY:i.clientX,g=o?s.height:s.width,A=o?s.top:s.left,M=o?s.bottom:s.right,O=!1;if(!p){if(b&&Fu<g*r){if(!Ai&&(Ei===1?h>A+g*d/2:h<M-g*d/2)&&(Ai=!0),Ai)O=!0;else if(Ei===1?h<A+Fu:h>M-Fu)return-Ei}else if(h>A+g*(1-r)/2&&h<M-g*(1-r)/2)return gS(u)}return O=O||p,O&&(h<A+g*d/2||h>M-g*d/2)?h>A+g/2?1:-1:0}function gS(i){return Xt(R)<Xt(i)?1:-1}function pS(i){for(var u=i.tagName+i.className+i.src+i.href+i.textContent,s=u.length,o=0;s--;)o+=u.charCodeAt(s);return o.toString(36)}function hS(i){lo.length=0;for(var u=i.getElementsByTagName("input"),s=u.length;s--;){var o=u[s];o.checked&&lo.push(o)}}function Wu(i){return setTimeout(i,0)}function Wc(i){return clearTimeout(i)}ro&&me(document,"touchmove",function(i){(W.active||rl)&&i.cancelable&&i.preventDefault()});W.utils={on:me,off:fe,css:F,find:mp,is:function(u,s){return!!Kt(u,s,u,!1)},extend:Fb,throttle:gp,closest:Kt,toggleClass:wt,clone:hp,index:Xt,nextTick:Wu,cancelNextTick:Wc,detectDirection:bp,getChild:pl,expando:St};W.get=function(i){return i[St]};W.mount=function(){for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];u[0].constructor===Array&&(u=u[0]),u.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(W.utils=nn(nn({},W.utils),o.utils)),ji.mount(o)})};W.create=function(i,u){return new W(i,u)};W.version=$b;var Je=[],hi,er,tr=!1,Yc,Xc,io,yi;function yS(){function i(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var u in this)u.charAt(0)==="_"&&typeof this[u]=="function"&&(this[u]=this[u].bind(this))}return i.prototype={dragStarted:function(s){var o=s.originalEvent;this.sortable.nativeDraggable?me(document,"dragover",this._handleAutoScroll):this.options.supportPointer?me(document,"pointermove",this._handleFallbackAutoScroll):o.touches?me(document,"touchmove",this._handleFallbackAutoScroll):me(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(s){var o=s.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?fe(document,"dragover",this._handleAutoScroll):(fe(document,"pointermove",this._handleFallbackAutoScroll),fe(document,"touchmove",this._handleFallbackAutoScroll),fe(document,"mousemove",this._handleFallbackAutoScroll)),zg(),eo(),Wb()},nulling:function(){io=er=hi=tr=yi=Yc=Xc=null,Je.length=0},_handleFallbackAutoScroll:function(s){this._handleAutoScroll(s,!0)},_handleAutoScroll:function(s,o){var r=this,d=(s.touches?s.touches[0]:s).clientX,p=(s.touches?s.touches[0]:s).clientY,b=document.elementFromPoint(d,p);if(io=s,o||this.options.forceAutoScrollFallback||_i||An||vi){Qc(s,this.options,b,o);var h=$n(b,!0);tr&&(!yi||d!==Yc||p!==Xc)&&(yi&&zg(),yi=setInterval(function(){var g=$n(document.elementFromPoint(d,p),!0);g!==h&&(h=g,eo()),Qc(s,r.options,g,o)},10),Yc=d,Xc=p)}else{if(!this.options.bubbleScroll||$n(b,!0)===tn()){eo();return}Qc(s,this.options,$n(b,!1),!1)}}},En(i,{pluginName:"scroll",initializeByDefault:!0})}function eo(){Je.forEach(function(i){clearInterval(i.pid)}),Je=[]}function zg(){clearInterval(yi)}var Qc=gp(function(i,u,s,o){if(u.scroll){var r=(i.touches?i.touches[0]:i).clientX,d=(i.touches?i.touches[0]:i).clientY,p=u.scrollSensitivity,b=u.scrollSpeed,h=tn(),g=!1,A;er!==s&&(er=s,eo(),hi=u.scroll,A=u.scrollFn,hi===!0&&(hi=$n(s,!0)));var M=0,O=hi;do{var B=O,Y=$e(B),V=Y.top,le=Y.bottom,xe=Y.left,ce=Y.right,de=Y.width,be=Y.height,ee=void 0,Se=void 0,Me=B.scrollWidth,Q=B.scrollHeight,re=F(B),Ue=B.scrollLeft,we=B.scrollTop;B===h?(ee=de<Me&&(re.overflowX==="auto"||re.overflowX==="scroll"||re.overflowX==="visible"),Se=be<Q&&(re.overflowY==="auto"||re.overflowY==="scroll"||re.overflowY==="visible")):(ee=de<Me&&(re.overflowX==="auto"||re.overflowX==="scroll"),Se=be<Q&&(re.overflowY==="auto"||re.overflowY==="scroll"));var Ce=ee&&(Math.abs(ce-r)<=p&&Ue+de<Me)-(Math.abs(xe-r)<=p&&!!Ue),Le=Se&&(Math.abs(le-d)<=p&&we+be<Q)-(Math.abs(V-d)<=p&&!!we);if(!Je[M])for(var at=0;at<=M;at++)Je[at]||(Je[at]={});(Je[M].vx!=Ce||Je[M].vy!=Le||Je[M].el!==B)&&(Je[M].el=B,Je[M].vx=Ce,Je[M].vy=Le,clearInterval(Je[M].pid),(Ce!=0||Le!=0)&&(g=!0,Je[M].pid=setInterval((function(){o&&this.layer===0&&W.active._onTouchMove(io);var Be=Je[this.layer].vy?Je[this.layer].vy*b:0,x=Je[this.layer].vx?Je[this.layer].vx*b:0;typeof A=="function"&&A.call(W.dragged.parentNode[St],x,Be,i,io,Je[this.layer].el)!=="continue"||pp(Je[this.layer].el,x,Be)}).bind({layer:M}),24))),M++}while(u.bubbleScroll&&O!==h&&(O=$n(O,!1)));tr=g}},30),Tp=function(u){var s=u.originalEvent,o=u.putSortable,r=u.dragEl,d=u.activeSortable,p=u.dispatchSortableEvent,b=u.hideGhostForTarget,h=u.unhideGhostForTarget;if(s){var g=o||d;b();var A=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:s,M=document.elementFromPoint(A.clientX,A.clientY);h(),g&&!g.el.contains(M)&&(p("spill"),this.onSpill({dragEl:r,putSortable:o}))}};function dr(){}dr.prototype={startIndex:null,dragStart:function(u){var s=u.oldDraggableIndex;this.startIndex=s},onSpill:function(u){var s=u.dragEl,o=u.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var r=pl(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(s,r):this.sortable.el.appendChild(s),this.sortable.animateAll(),o&&o.animateAll()},drop:Tp};En(dr,{pluginName:"revertOnSpill"});function mr(){}mr.prototype={onSpill:function(u){var s=u.dragEl,o=u.putSortable,r=o||this.sortable;r.captureAnimationState(),s.parentNode&&s.parentNode.removeChild(s),r.animateAll()},drop:Tp};En(mr,{pluginName:"removeOnSpill"});W.mount(new yS);W.mount(mr,dr);function vS({unmount:i,groupData:u,allAgents:s,onSave:o}){const[r,d]=Te.useState(""),[p,b]=Te.useState([]),[h,g]=Te.useState("manual"),[A,M]=Te.useState(""),[O,B]=Te.useState(""),[Y,V]=Te.useState(1),[le,xe]=Te.useState(0),ce=Te.useRef(null);Te.useEffect(()=>{if(u){d(u.name||"");const Q=(u.agents||[]).filter(re=>s&&s.hasOwnProperty(re));b(Q),g(u.flowType||"manual"),M(u.moderatorAgent||""),V(u.maxTurns||1),xe(u.timerInSeconds||0)}else d("New Group"),b([]),g("manual"),M(""),V(1),xe(0)},[u,s]),Te.useEffect(()=>{A&&!p.includes(A)&&M("")},[p,A]),Te.useEffect(()=>{if(ce.current){const Q=W.create(ce.current,{animation:150,handle:".agent-sortable-item",onEnd:re=>{const Ue=[...p],[we]=Ue.splice(re.oldIndex,1);Ue.splice(re.newIndex,0,we),b(Ue)}});return()=>Q.destroy()}},[p]);const de=Q=>{const re=p.includes(Q);b(re?Ue=>Ue.filter(we=>we!==Q):Ue=>[...Ue,Q])},be=()=>{o({name:r,members:p,flowType:h,moderator:A,maxTurns:Y,timerInSeconds:le})},{selectedList:ee,availableList:Se}=Te.useMemo(()=>{const Q=O.toLowerCase(),re=Object.keys(s),Ue=new Set(p),we=p.filter(Le=>Le.toLowerCase().includes(Q)),Ce=re.filter(Le=>!Ue.has(Le)&&Le.toLowerCase().includes(Q)).sort();return{selectedList:we,availableList:Ce}},[O,s,p]),Me=p.map(Q=>N.jsx("option",{value:Q,children:Q},Q));return N.jsx("div",{id:"agent-group-editor-modal",className:"modal-overlay",style:{display:"flex"},children:N.jsxs("div",{className:"modal-box is-resizable",children:[N.jsxs("div",{className:"modal-header",children:[N.jsx("h3",{id:"agent-group-modal-title",children:u?`Edit Group: ${r}`:"Create New Agent Group"}),N.jsx("button",{type:"button",className:"modal-close-btn",title:"Close",onClick:i,children:"×"})]}),N.jsxs("div",{className:"modal-body",style:{display:"flex",flexDirection:"column"},children:[N.jsxs("div",{className:"form-group",children:[N.jsx("label",{htmlFor:"group-name-input",children:"Group Name"}),N.jsx("input",{type:"text",id:"group-name-input",value:r,onChange:Q=>d(Q.target.value)})]}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{htmlFor:"group-flow-select",children:"Conversation Flow"}),N.jsxs("select",{id:"group-flow-select",value:h,onChange:Q=>g(Q.target.value),children:[N.jsx("option",{value:"manual",children:"Manual Selection"}),N.jsx("option",{value:"round-robin",children:"Round Robin"}),N.jsx("option",{value:"auto-moderator",children:"Automated Moderator"})]})]}),h==="round-robin"&&N.jsxs("div",{className:"form-group",children:[N.jsx("label",{htmlFor:"group-max-turns-input",children:"Rounds (1-8)"}),N.jsx("input",{type:"number",id:"group-max-turns-input",value:Y,onChange:Q=>V(Math.max(1,Math.min(8,parseInt(Q.target.value,10)))),min:"1",max:"8"})]}),h==="auto-moderator"&&N.jsxs("div",{className:"form-group",children:[N.jsx("label",{htmlFor:"group-timer-input",children:"Timer (0-180 seconds)"}),N.jsx("input",{type:"number",id:"group-timer-input",value:le,onChange:Q=>xe(parseInt(Q.target.value,10)),min:"0",max:"180",step:"10"}),N.jsx("p",{className:"modal-warning",children:"ใส่ 0 เพื่อให้ Moderator ทำงานรอบเดียวแล้วหยุด (โหมดปกติ)"})]}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{htmlFor:"group-moderator-select",children:"Moderator Agent"}),N.jsxs("select",{id:"group-moderator-select",value:A,onChange:Q=>M(Q.target.value),disabled:p.length===0,children:[N.jsx("option",{value:"",children:"-- Select from members --"}),Me]})]}),N.jsxs("div",{className:"form-group",style:{display:"flex",flexDirection:"column"},children:[N.jsxs("label",{children:["Group Members (",p.length," selected)"]}),N.jsx("input",{type:"text",placeholder:"Search agents...",value:O,onChange:Q=>B(Q.target.value),style:{marginBottom:"10px"}}),N.jsxs("div",{id:"group-member-list",children:[N.jsx("div",{ref:ce,children:ee.map(Q=>N.jsxs("div",{className:"agent-sortable-item","data-id":Q,children:[N.jsx("input",{type:"checkbox",id:`agent-cb-${Q}`,checked:!0,onChange:()=>de(Q)}),N.jsxs("label",{htmlFor:`agent-cb-${Q}`,children:[s[Q]?.icon||"🤖"," ",Q]})]},Q))}),ee.length>0&&Se.length>0&&N.jsx("hr",{style:{margin:"10px 0"}}),N.jsx("div",{children:Se.map(Q=>N.jsxs("div",{className:"agent-sortable-item",children:[N.jsx("input",{type:"checkbox",id:`agent-cb-${Q}`,checked:!1,onChange:()=>de(Q)}),N.jsxs("label",{htmlFor:`agent-cb-${Q}`,children:[s[Q]?.icon||"🤖"," ",Q]})]},Q))})]})]})]}),N.jsxs("div",{className:"modal-actions",children:[N.jsx("button",{className:"btn btn-secondary",onClick:i,children:"ยกเลิก"}),N.jsx("button",{className:"btn",onClick:be,children:"บันทึก Group"})]})]})})}function bS(){console.warn("saveAgentGroup is deprecated and should not be called from the new UI.");const i=y.getProject(),u=y.getState().editingGroupName,s=document.getElementById("group-name-input").value.trim();if(!s){k("Group name cannot be empty.","Error");return}if(s!==u&&i.agentGroups[s]){k(`A group named "${s}" already exists.`,"Error");return}const o=document.getElementById("group-moderator-select").value;if(!o){k("Please select a Moderator for the group.","Error");return}const r=window.groupSortable?window.groupSortable.toArray():[],d=document.querySelectorAll("#group-member-list .agent-sortable-item"),p=Array.from(d).filter(g=>g.querySelector('input[type="checkbox"]').checked).map(g=>g.dataset.agentName),b=r.filter(g=>p.includes(g));if(b.length===0){k("A group must have at least one member.","Error");return}const h={agents:b,moderatorAgent:o,flowType:document.getElementById("group-flow-select").value,maxTurns:parseInt(document.getElementById("group-max-turns-input").value,10),timerInSeconds:parseInt(document.getElementById("group-timer-input").value,10)};u&&u!==s&&(delete i.agentGroups[u],i.chatSessions.forEach(g=>{g.linkedEntity?.type==="group"&&g.linkedEntity.name===u&&(g.linkedEntity.name=s)})),i.agentGroups[s]=h,y.setProject(i),y.updateAndPersistState(),y.bus.publish("group:editorShouldClose"),k(`Group "${s}" saved successfully.`,"Success"),y.bus.publish("studio:contentShouldRender")}function SS({groupName:i}){if(!confirm(`Are you sure you want to delete the group "${i}"? This cannot be undone.`))return;const u=y.getProject();delete u.agentGroups[i],y.setProject(u),y.updateAndPersistState(),y.bus.publish("studio:contentShouldRender"),k(`Group "${i}" has been deleted.`,"Success")}function ES(i,u){const s=y.getProject(),o=i.name.trim();if(!o){k("Group name cannot be empty.","Error");return}if(o!==u&&s.agentGroups[o]){k(`A group named "${o}" already exists.`,"Error");return}u&&u!==o&&delete s.agentGroups[u],s.agentGroups[o]={agents:i.members,moderatorAgent:i.moderator,flowType:i.flowType,maxTurns:i.maxTurns,timerInSeconds:i.timerInSeconds},y.setProject(s),y.updateAndPersistState(),k(`Group "${o}" saved successfully.`,"Success"),y.bus.publish("studio:contentShouldRender")}function AS(i){const s=y.getProject().activeEntity,o=y.getStagedEntity(),r=document.createElement("div");return r.className="item group-item",r.dataset.groupName=i,s?.type==="group"&&s.name===i?r.classList.add("active"):o?.type==="group"&&o.name===i&&r.classList.add("staged"),r.innerHTML=`
     <div class="item-header">
        <span class="item-name"><span class="item-icon">🤝</span> ${i}</span>
        <div class="item-actions">
            <button class="btn-icon" data-action="group:edit" title="Edit Group">
                <span class="material-symbols-outlined">edit</span>
            </button>
            <button class="btn-icon danger" data-action="group:delete" title="Delete Group">
                <span class="material-symbols-outlined">delete</span>
            </button>
        </div>
    </div>`,r}function TS(i){if(!i)return;const u=y.getProject();if(!u||!u.agentGroups)return;i.insertAdjacentHTML("beforeend",`
        <details class="collapsible-section" open>
            <summary class="section-header">
                <h3>🤝 Agent Groups</h3>
                <button class="btn-icon" data-action="group:create" title="Create New Group">+</button>
            </summary>
            <div class="section-box">
                <div id="agentGroupList" class="item-list"></div>
            </div>
        </details>
    `);const o=i.querySelector("#agentGroupList:last-of-type");if(!o)return;const r=u.agentGroups;for(const d in r)o.appendChild(AS(d))}function MS(){const i=document.getElementById("group-flow-select").value,u=document.getElementById("group-rounds-control"),s=document.getElementById("group-timer-control");!u||!s||(i==="round-robin"?(u.classList.remove("hidden"),s.classList.add("hidden")):(u.classList.add("hidden"),s.classList.remove("hidden")))}function Ng(i=!1,u=null){const s=y.getProject(),o=i?{name:u,...s.agentGroups[u]}:null,r=s.agentPresets||{},d=document.getElementById("react-modal-root");d&&Zg(vS,{groupData:o,allAgents:r,onSave:b=>{ES(b,u),nr()}},d)}function nr(){const i=document.getElementById("react-modal-root");i&&(i.innerHTML=""),y.setState("editingGroupName",null)}function DS(){y.bus.subscribe("group:editorShouldClose",nr);const i=document.getElementById("agent-group-editor-modal");i&&(i.addEventListener("click",u=>{u.target.matches(".modal-actions .btn:not(.btn-secondary)")?y.bus.publish("group:save"):(u.target.matches(".btn-secondary")||u.target.closest(".modal-close-btn"))&&nr()}),i.addEventListener("click",u=>{if(u.target.matches(".stepper-btn")){const s=u.target.parentElement.querySelector('input[type="number"]');if(!s)return;let o=parseInt(s.value,10)+parseInt(u.target.dataset.step,10);o=Math.max(s.min,Math.min(s.max,o)),s.value=o}})),document.getElementById("group-flow-select")?.addEventListener("change",MS),console.log("✅ Group UI Initialized (Studio listener removed).")}let Zc=null;function _S(i,u,s){const o=document.createElement("div");o.className=`item memory-item ${u?"":"inactive"}`,o.dataset.name=i.name,o.dataset.memoryIndex=s;const d=Hg([{label:"Edit...",action:"memory:edit",data:{index:s}},{label:"Delete",action:"memory:delete",data:{index:s},isDestructive:!0}]),p=document.createElement("div");p.className=`memory-toggle ${u?"active":""}`,p.title=`Click to ${u?"deactivate":"activate"}`,p.onclick=g=>{g.stopPropagation(),y.bus.publish("memory:toggle",{name:i.name})};const b=document.createElement("span");b.className="item-name",b.textContent=i.name;const h=document.createElement("div");return h.className="item-header",h.appendChild(p),h.appendChild(b),h.appendChild(d),o.appendChild(h),o}function jS(i){if(!i)return;const u=y.getProject();if(!u)return;const s=document.createElement("details");s.className="collapsible-section memory-section",s.open=!0;const o=document.createElement("summary");o.className="section-header",o.innerHTML="<h3>🧠 Command Memories</h3>";const r=[{label:"New Memory...",action:"memory:create"},{label:"Export Package...",action:"memory:exportPackage"},{label:"Import Package...",action:"memory:importPackage"}];o.appendChild(Hg(r)),s.appendChild(o);const d=document.createElement("div");d.className="section-box",s.appendChild(d);const p=u.agentPresets?.[u.activeEntity?.name];if(!p)d.innerHTML='<p class="no-items-message">Select an Agent to see memories.</p>';else{d.innerHTML=`
            <details id="active-memories-details" open><summary>Active Memories</summary><div id="activeMemoriesList" class="item-list"></div></details>
            <details id="inactiveMemoriesSection" open><summary>Inactive Memories</summary><div id="inactiveMemoriesList" class="item-list"></div></details>
        `;const b=d.querySelector("#activeMemoriesList"),h=d.querySelector("#inactiveMemoriesList"),g=p.activeMemories||[];(u.memories||[]).forEach((M,O)=>{const B=g.includes(M.name);(B?b:h).appendChild(_S(M,B,O))}),Zc&&Zc.destroy(),Zc=new Sortable(b,{animation:150,onEnd:M=>{const O=y.getProject().agentPresets[y.getProject().activeEntity.name];if(!O)return;const B=M.item.dataset.name;O.activeMemories.splice(M.oldDraggableIndex,1),O.activeMemories.splice(M.newDraggableIndex,0,B),y.bus.publish("studio:contentShouldRender")}})}i.appendChild(s)}function Ug(i=null){const u=y.getProject(),s=document.getElementById("memory-editor-modal");if(!s)return;const o=u.memories||[];if(i!==null&&o[i]){const r=o[i];console.log("Editing memory at",i,r),s.querySelector("#memory-modal-title").textContent="Edit Memory",s.querySelector("#memory-name-input").value=r.name,s.querySelector("#memory-content-input").value=r.content,s.querySelector("#memory-edit-index").value=i}else console.log("Create new memory",i,o),s.querySelector("#memory-modal-title").textContent="Create New Memory",s.querySelector("#memory-name-input").value="",s.querySelector("#memory-content-input").value="",s.querySelector("#memory-edit-index").value="";s.style.display="flex"}function Lg(){document.getElementById("memory-editor-modal").style.display="none"}function CS(){y.bus.subscribe("memory:editorShouldClose",Lg);const i=document.getElementById("memory-editor-modal");i&&i.addEventListener("click",u=>{const s=u.target;s.matches(".modal-actions .btn:not(.btn-secondary)")&&y.bus.publish("memory:save"),(s.matches(".btn-secondary")||s.closest(".modal-close-btn")||s===i)&&Lg()})}function OS(){const i=y.getProject();if(!i||!i.agentPresets)return[];const u=document.getElementById("asset-search-input")?.value.toLowerCase()||"",s=document.getElementById("asset-sort-select")?.value||"modified-desc";let o=Object.entries(i.agentPresets).map(([r,d])=>({name:r,...d}));return u&&(o=o.filter(r=>[r.name,r.id,r.description,r.model,...r.tags||[]].join(" ").toLowerCase().includes(u))),o.sort((r,d)=>{switch(s){case"modified-desc":return d.modifiedAt-r.modifiedAt;case"modified-asc":return r.modifiedAt-d.modifiedAt;case"created-desc":return d.createdAt-r.createdAt;case"created-asc":return r.createdAt-d.createdAt;case"name-asc":return r.name.localeCompare(d.name);case"name-desc":return d.name.localeCompare(r.name);default:return 0}}),o}function xS(i){const u=i.target.files[0];if(!u)return;const s=new FileReader;s.onload=o=>{try{const r=JSON.parse(o.target.result);if(typeof r!="object"||r===null||Array.isArray(r))throw new Error("Invalid file format. Expected a JSON object of agents.");const d=y.getProject();let p=0,b=0;for(const h in r)d.agentPresets[h]?confirm(`Agent "${h}" already exists. Overwrite?`)&&(d.agentPresets[h]=r[h],b++):(d.agentPresets[h]=r[h],p++);y.setProject(d),y.updateAndPersistState(),y.bus.publish("studio:contentShouldRender"),k(`Import complete! Added: ${p}, Overwritten: ${b}.`,"Success")}catch(r){console.error("Failed to import agents:",r),k(`Error importing agents: ${r.message}`,"Error")}},s.readAsText(u),i.target.value=""}function cl(){const i=document.querySelector("#studio-panel .studio-assets-container");if(!i)return;i.innerHTML="";const u=OS();Qb(i,u),TS(i),jS(i)}function wS(){const i=document.getElementById("studio-panel");if(!i||i.dataset.listenerAttached==="true")return;i.dataset.listenerAttached="true",i.addEventListener("click",r=>{const d=r.target,p=d.closest(".memory-toggle");if(p){r.stopPropagation();const g=p.closest(".item[data-name]");g&&y.bus.publish("memory:toggle",{name:g.dataset.name});return}const b=d.closest("[data-action]");if(b){r.preventDefault(),r.stopPropagation();const g=b.dataset.action;let M={...d.closest(".item")?.dataset};if(b.dataset.data)try{const O=JSON.parse(b.dataset.data);Object.assign(M,O)}catch(O){console.error("Failed to parse data attribute JSON",O)}g==="toggle-menu"?Di(r):(y.bus.publish(g,M),b.closest(".dropdown.open")?.classList.remove("open"));return}const h=d.closest(".item");if(h){r.preventDefault();const{agentName:g,groupName:A}=h.dataset;g?y.bus.publish("studio:itemClicked",{type:"agent",name:g}):A&&y.bus.publish("studio:itemClicked",{type:"group",name:A});return}});const u=document.getElementById("asset-search-input"),s=document.getElementById("asset-sort-select");u?.addEventListener("input",cl),s?.addEventListener("change",cl),document.getElementById("import-agents-input")?.addEventListener("change",xS),y.bus.subscribe("project:loaded",cl),y.bus.subscribe("studio:contentShouldRender",cl),y.bus.subscribe("entity:selected",cl),y.bus.subscribe("entity:staged",cl),console.log("✅ Studio UI Initialized with definitive, robust event listeners.")}async function zS(){const i=document.getElementById("enhancer-prompt-input").value.trim();if(!i){k("Please describe the agent you want to create or enhance.","Error");return}const u=y.getProject().globalSettings.systemUtilityAgent;if(!u||!u.model){k("System Utility Model not configured in Settings.","Error");return}const s=document.getElementById("generate-agent-profile-btn");s&&s.classList.add("is-loading"),y.bus.publish("agent:enhancerStatus",{text:"Processing request...",color:"var(--text-dark)"});try{const o=!!y.getState().editingAgentName;let r="";o?r=`You are an expert in refining LLM system prompts. Your task is to modify an existing system prompt based on a user's new request. Do not replace the original prompt, but integrate the new instruction into it cohesively. Respond ONLY with the new, complete, and modified system prompt as a single block of text.

            EXISTING PROMPT:
            ---
            ${document.getElementById("agent-system-prompt").value}
            ---

            USER'S MODIFICATION REQUEST:
            ---
            ${i}
            ---

            NEW, MODIFIED SYSTEM PROMPT:`:r=`You are an expert in designing LLM agent profiles. Based on the user's request, create a complete agent profile.
            Your response MUST be ONLY a single, valid JSON object with these exact keys:
            - "agent_name": string
            - "agent_icon": string (a single emoji)
            - "system_prompt": string
            - "temperature": number (between 0 and 2)
            - "top_p": number (between 0 and 1)
            - "top_k": integer (0 or higher)
            - "max_tokens": integer (e.g., 4096)
            - "frequency_penalty": number (between -2 and 2)
            - "presence_penalty": number (between -2 and 2)
            - "seed": integer (-1 for random)

            User's Request: "${i}"`;const d=await av(u,[{role:"user",content:r}]);if(!d||typeof d.content!="string")throw new Error("Received an invalid or empty response from the AI.");if(o)y.bus.publish("agent:promptEnhanced",{newPrompt:d.content}),y.bus.publish("agent:enhancerStatus",{text:"Prompt enhanced successfully!",color:"var(--success-color)"});else{const p=d.content.match(/{.*}/s);if(!p)throw new Error("LLM did not return a valid JSON object.");const b=JSON.parse(p[0]);y.bus.publish("agent:profileGenerated",b),y.bus.publish("agent:enhancerStatus",{text:"Profile generated successfully!",color:"var(--success-color)"})}}catch(o){console.error("Agent Profile Generation/Enhancement Error:",o);const r=`Error: ${o.message}`;y.bus.publish("agent:enhancerStatus",{text:r,color:"var(--error-color)"}),k(r,"Profile Generation Failed")}finally{s&&s.classList.remove("is-loading"),setTimeout(()=>y.bus.publish("agent:enhancerStatus",{text:""}),5e3)}}function NS(){const i=y.getProject(),u=y.getState().editingAgentName,s=document.getElementById("agent-name-input").value.trim();if(!s){k("Please enter a name for the agent.","Error");return}if(u!==s&&i.agentPresets[s]){k(`An agent named '${s}' already exists.`,"Error");return}if(!document.getElementById("agent-model-select").value){k("You must select a model for the agent before saving.","Model Required");const g=document.getElementById("agent-model-search-wrapper");g&&(g.classList.add("has-warning"),setTimeout(()=>g.classList.remove("has-warning"),2e3));return}const r={icon:document.getElementById("agent-icon-button").textContent,description:document.getElementById("agent-description").value,model:document.getElementById("agent-model-select").value,systemPrompt:document.getElementById("agent-system-prompt").value,useMarkdown:document.getElementById("agent-use-markdown").checked,enableWebSearch:document.getElementById("agent-enable-web-search").checked,profilePicture:document.getElementById("agent-profile-picture-preview").src,tags:Array.from(document.querySelectorAll("#agent-tags-container .tag-pill")).map(g=>g.dataset.tag),activeMemories:Array.from(document.querySelectorAll("#agent-memory-list .item input:checked")).map(g=>g.closest(".item").dataset.memoryName)},d=y.getState().activeParameterEditor,p=d?d.getValues():{},b={...r,...p},h=u&&i.agentPresets[u]?{...i.agentPresets[u]}:{...oo,id:`agent_${Date.now()}`,createdBy:UserService.getCurrentUserProfile().userName,createdAt:Date.now()};h.modifiedAt=Date.now(),h.createdBy=document.getElementById("agent-created-by-input").value,Object.assign(h,b),u&&u!==s&&delete i.agentPresets[u],i.agentPresets[s]=h,(!u||i.activeEntity&&i.activeEntity.name===u)&&(i.activeEntity={type:"agent",name:s}),y.setProject(i),y.updateAndPersistState(),y.bus.publish("studio:contentShouldRender"),y.bus.publish("agent:editorShouldClose")}function US(i){const u=y.getProject();if(!i||Object.keys(u.agentPresets).length<=1){k("Cannot delete the last agent.","Error");return}confirm(`Are you sure you want to delete the agent '${i}'? This action cannot be undone.`)&&(delete u.agentPresets[i],Object.values(u.agentGroups).forEach(s=>{s.agents=s.agents.filter(o=>o!==i),s.moderatorAgent===i&&(s.moderatorAgent=s.agents[0]||"")}),u.chatSessions.forEach(s=>{s.linkedEntity?.type==="agent"&&s.linkedEntity.name===i&&(s.linkedEntity={type:"agent",name:Object.keys(u.agentPresets)[0]})}),u.activeEntity.type==="agent"&&u.activeEntity.name===i&&(u.activeEntity={type:"agent",name:Object.keys(u.agentPresets)[0]}),y.setProject(u),y.updateAndPersistState(),y.bus.publish("agent:listChanged"),y.bus.publish("entity:selected",u.activeEntity))}function LS({name:i}){const u=y.getProject(),s=u.activeEntity?.name;if(!s)return;const o=u.agentPresets[s];if(!o)return;o.activeMemories||(o.activeMemories=[]),o.activeMemories.includes(i)?o.activeMemories=o.activeMemories.filter(d=>d!==i):o.activeMemories.push(i),y.updateAndPersistState(),y.bus.publish("studio:contentShouldRender")}function BS(){const i=y.getProject(),u=document.getElementById("memory-name-input").value.trim(),s=document.getElementById("memory-content-input").value,o=document.getElementById("memory-edit-index").value;if(!u){k("Memory name cannot be empty.","Error");return}if(o!==""){const r=i.memories[o].name;i.memories[o]={name:u,content:s},Object.values(i.agentPresets).forEach(d=>{if(d.activeMemories){const p=d.activeMemories.indexOf(r);p>-1&&(d.activeMemories[p]=u)}})}else{if(i.memories.some(r=>r.name===u)){k(`A memory named "${u}" already exists.`,"Error");return}i.memories.push({name:u,content:s})}y.setProject(i),y.updateAndPersistState(),y.bus.publish("memory:editorShouldClose"),y.bus.publish("studio:contentShouldRender"),k(`Memory "${u}" saved successfully.`,"Success")}function RS({index:i}){if(!confirm("Are you sure you want to permanently delete this memory? This cannot be undone."))return;const u=y.getProject();if(!u.memories[i])return;const s=u.memories[i].name;u.memories.splice(i,1),Object.values(u.agentPresets).forEach(o=>{o.activeMemories&&(o.activeMemories=o.activeMemories.filter(r=>r!==s))}),y.setProject(u),y.updateAndPersistState(),y.bus.publish("studio:contentShouldRender")}function HS(){const u={memories:y.getProject().memories},s=JSON.stringify(u,null,2),o=new Blob([s],{type:"application/json"}),r=URL.createObjectURL(o),d=document.createElement("a");d.href=r,d.download=`promptprim_memories_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(r)}function qS(i){const u=i.target.files[0];if(!u)return;const s=new FileReader;s.onload=o=>{try{const r=JSON.parse(o.target.result);if(r&&Array.isArray(r.memories)){const d=y.getProject(),p=new Set(d.memories.map(h=>h.name)),b=r.memories.filter(h=>!p.has(h.name));d.memories.push(...b),y.setProject(d),y.updateAndPersistState(),y.bus.publish("studio:contentShouldRender"),k("Memory package imported successfully!","Success")}else throw new Error("Invalid memory package file.")}catch(r){k(`Error loading memory package: ${r.message}`,"Error")}},s.readAsText(u),i.target.value=""}function GS(i){(void 0)({openrouterKey:i}),y.bus.publish("api:loadModels")}function YS(i){(void 0)({ollamaBaseUrl:i})}function XS(i){const u=i.target.files[0];if(!u)return;const s=new FileReader;s.onload=o=>{try{const r=JSON.parse(o.target.result);if(r&&r.userProfile&&r.appSettings&&r.modelPresets)confirm("This will overwrite your current settings and reload the application. Are you sure?")&&(localStorage.setItem("promptPrimUserSettings_v1",JSON.stringify(r)),k("Settings imported! The app will now reload.","Success"),setTimeout(()=>window.location.reload(),1500));else throw new Error("Invalid settings file format.")}catch(r){k(`Error importing settings: ${r.message}`,"Error")}},s.readAsText(u),i.target.value=""}function Vc(){const i=ba();if(!i)return;const u=document.querySelector("#user-profile-menu .user-name"),s=document.querySelector("#user-profile-menu .user-plan"),o=document.getElementById("user-userCredits"),r=o?.querySelector("span:last-child"),d=document.querySelector("#user-profile-btn span");if(d&&i.userName&&(d.textContent=i.userName.charAt(0).toUpperCase()),u&&(u.textContent=i.userName||"User"),s){let p="Unknown",b="status-blocked";i.plan==="master"?(p=i.planStatus==="active"?"Master Plan":"Subscription Expired",b=i.planStatus==="active"?"status-master":"status-blocked"):i.plan==="pro"?i.planStatus==="active"&&i.credits.current>0?(p="Pro Plan",b="status-active"):i.planStatus==="grace_period"?(p="Pro (Grace Period)",b="status-grace"):(p="Account Blocked",b="status-blocked"):i.plan==="free"&&(p=i.credits.current>0?"Free Plan":"Credits Depleted",b=i.credits.current>0?"status-free":"status-blocked"),s.textContent=p,s.className=`user-plan ${b}`}if(o&&r)if(i.plan==="master")o.style.display="none";else{o.style.display="flex";const p=qg(i.credits?.current??0);r.textContent=`$${p.toFixed(2)}`}}function QS(){const i=document.querySelector(".user-profile-container"),u=document.getElementById("user-switcher-modal");!i||!u||(i.addEventListener("click",s=>{const o=s.target.closest("[data-action]");if(!o)return;const r=o.dataset.action;switch(r!=="toggle-menu"&&s.preventDefault(),r){case"toggle-menu":Di(s);break;case"user:account":y.bus.publish("ui:showAccountModal"),i.classList.remove("open");break;case"user:settings":lv(),i.classList.remove("open");break;case"user:logout":u.style.display="flex",i.classList.remove("open");break}}),u.addEventListener("click",s=>{const o=s.target,r=o.closest("button[data-user-id]");if(r){const d=r.dataset.userId;iv(d),k(`Switched to ${d}. The app will now reload.`,"Success"),u.style.display="none",setTimeout(()=>window.location.reload(),1500)}(o.matches(".modal-close-btn")||o===u)&&(u.style.display="none")}),uv("theme-switcher-dropdown"),y.bus.subscribe("user:settingsLoaded",Vc),y.bus.subscribe("user:settingsUpdated",Vc),Vc())}function ZS(i){const u=ba();u&&confirm(`Are you sure you want to switch to the ${i} plan?`)&&(console.log(`HANDLER: Changing plan for ${u.userId} to ${i}`),ov(u.userId,i),k(`Successfully switched to ${i} plan!`,"Success"))}function VS(i){const u=ba();u&&(console.log(`HANDLER: Refilling $${i} for ${u.userId}`),sv(u.userId,i),k(`Successfully added credits worth $${i}!`,"Success"))}const va=document.getElementById("account-modal"),Pc=document.getElementById("account-modal-body");function PS(){va&&(Mp(),va.style.display="flex")}function KS(){va&&(va.style.display="none")}function Mp(){const i=ba();if(!Pc||!i){Pc.innerHTML="<p>Could not load user data.</p>";return}let u="";i.plan==="free"?u='<button class="btn" data-action="switch-plan" data-plan="pro">Upgrade to Pro</button>':i.plan==="pro"?u=`
            <button class="btn btn-secondary" data-action="switch-plan" data-plan="free">Downgrade to Free</button>
            <button class="btn" data-action="switch-plan" data-plan="master">Upgrade to Master</button>
        `:i.plan==="master"&&(u=`
            <button class="btn btn-secondary" data-action="switch-plan" data-plan="pro">Downgrade to Pro</button>
        `);const o=[10,30,50,100].map(d=>`<button class="btn btn-small btn-secondary" data-action="refill" data-amount="${d}">$${d}</button>`).join(""),r=qg(i.credits.current);Pc.innerHTML=`
        <div class="user-detail-grid">
            <div>
                <div class="form-group">
                    <label>Username</label>
                    <input type="text" value="${i.userName}" readonly>
                </div>
                 <div class="form-group">
                    <label>Current Plan</label>
                    <input type="text" value="${i.plan.charAt(0).toUpperCase()+i.plan.slice(1)}" readonly>
                </div>
                <div class="form-group">
                    <label>Credits</label>
                    <input type="text" value="${Math.floor(i.credits.current).toLocaleString()}" readonly>
                </div>
                <div class="form-group">
                    <label>Balance</label> 
                    <input type="text" value="$${r.toFixed(2)}" readonly>
                </div>
            </div>
            <div>
                <div class="form-group">
                    <label>Change Plan</label>
                    <div>${u||"<p>No plan changes available.</p>"}</div>
                </div>
                <div class="form-group">
                    <label>Refill Credits (USD)</label>
                    <div class="refill-presets">${i.plan==="master"?"<p>Not applicable.</p>":o}</div>
                </div>
            </div>
        </div>
    `}function kS(){y.bus.subscribe("ui:showAccountModal",PS),va?.addEventListener("click",i=>{if(i.target.matches(".modal-close-btn")){KS();return}const s=i.target.closest("[data-action]");if(!s)return;const o=s.dataset.action;o==="switch-plan"?ZS(s.dataset.plan):o==="refill"&&VS(parseInt(s.dataset.amount,10))}),y.bus.subscribe("user:settingsUpdated",()=>{va&&va.style.display==="flex"&&Mp()})}const uo=new marked.Renderer,JS=uo.link;uo.link=(i,u,s)=>JS.call(uo,i,u,s).replace(/^<a /,'<a target="_blank" rel="noopener noreferrer" ');marked.setOptions({renderer:uo,gfm:!0,breaks:!1});function $S(){window.addEventListener("storage",i=>{i.key==="promptPrimUserDatabase_v1"&&bv()})}function IS(){const i=y.bus;i.subscribe("project:new",Ic),i.subscribe("project:open",Cb),i.subscribe("project:fileSelectedForOpen",Ob),i.subscribe("project:save",u=>ip(u)),i.subscribe("project:saveConfirm",({projectName:u})=>up(u)),i.subscribe("project:unsavedChangesChoice",wb),i.subscribe("session:new",ap),i.subscribe("session:loaded",({session:u})=>{Sv(u.name),Ev(),Jc(),gl(),y.bus.publish("entity:selected",u.linkedEntity)}),i.subscribe("session:cleared",()=>{Av(),gb(),gl()}),i.subscribe("session:autoRename",Db),i.subscribe("session:rename",u=>yb(u)),i.subscribe("session:clone",({sessionId:u,event:s})=>Sb(u,s)),i.subscribe("session:archive",({sessionId:u,event:s})=>Eb(u,s)),i.subscribe("session:pin",({sessionId:u,event:s})=>bb(u,s)),i.subscribe("session:delete",u=>vb(u)),i.subscribe("session:download",({sessionId:u})=>Ab({sessionId:u})),i.subscribe("agent:create",()=>Tg(!1)),i.subscribe("agent:save",NS),i.subscribe("agent:edit",({agentName:u})=>Tg(!0,u)),i.subscribe("agent:delete",({agentName:u})=>US(u)),i.subscribe("agent:generateProfile",zS),i.subscribe("group:create",()=>Ng(!1)),i.subscribe("group:save",bS),i.subscribe("group:edit",({groupName:u})=>Ng(!0,u)),i.subscribe("group:delete",({groupName:u})=>SS({groupName:u})),i.subscribe("memory:create",()=>Ug(null)),i.subscribe("memory:save",BS),i.subscribe("memory:edit",({index:u})=>Ug(u)),i.subscribe("memory:delete",({index:u})=>RS({index:u})),i.subscribe("memory:toggle",u=>{LS(u)}),i.subscribe("memory:exportPackage",HS),i.subscribe("memory:importPackage",()=>{document.getElementById("load-memory-package-input").click()}),i.subscribe("studio:itemClicked",Yb),i.subscribe("summary:editFromChat",({logId:u})=>{Kc(),setTimeout(()=>ur(u),50)}),i.subscribe("summary:generateNew",or),i.subscribe("summary:saveEdit",kg),i.subscribe("summary:deleteLog",({logId:u})=>Jg({logId:u})),i.subscribe("summary:loadToContext",({logId:u})=>$g({logId:u})),i.subscribe("settings:saveSummaryPreset",u=>Fg(u)),i.subscribe("settings:renameSummaryPreset",u=>Wg(u)),i.subscribe("settings:deleteSummaryPreset",u=>ep(u)),i.subscribe("chat:clearSummaryContext",Tv),i.subscribe("summary:saveNewLog",u=>Kg(u)),i.subscribe("entity:select",({type:u,name:s})=>Gb(u,s)),i.subscribe("open-composer",()=>{y.bus.publish("ui:toggleComposer")}),i.subscribe("composer:heightChanged",Tb),i.subscribe("chat:deleteMessage",u=>Mv(u)),i.subscribe("chat:sendMessage",Dv),i.subscribe("chat:stopGeneration",_v),i.subscribe("chat:editMessage",({index:u})=>jv({index:u})),i.subscribe("chat:copyMessage",({index:u,event:s})=>Cv({index:u,event:s})),i.subscribe("chat:regenerateMessage",({index:u})=>Ov({index:u})),i.subscribe("chat:fileUpload",u=>og(u)),i.subscribe("chat:filesSelected",u=>og(u)),i.subscribe("chat:removeFile",({index:u})=>xv({index:u})),i.subscribe("chat:summarize",Kc),i.subscribe("chat:clearSummary",wv),i.subscribe("upload-file",()=>{document.getElementById("file-input")?.click()}),i.subscribe("api:loadModels",Mi),i.subscribe("api:loadUserModels",({apiKey:u,ollamaBaseUrl:s,isUserKey:o})=>{Mi({apiKey:u,ollamaBaseUrl:s,isUserKey:o})}),i.subscribe("settings:apiKeyChanged",GS),i.subscribe("settings:ollamaUrlChanged",YS),i.subscribe("settings:fontChanged",Hb),i.subscribe("settings:systemAgentChanged",qb),i.subscribe("group:manualSelectAgent",({agentName:u})=>{const s=y.getProject(),o=s.chatSessions.find(p=>p.id===s.activeSessionId),r=s.agentGroups[s.activeEntity.name];if(!o||!r)return;const d={type:"agent_turn",agentName:u};o.groupChatState.turnQueue.push(d),o.groupChatState.awaitsUserInput=!1,y.bus.publish("ui:renderAgentSelector"),zv(s,o,r)}),console.log("✅ Central Event Bus ready.")}function FS(){dv(),lb(),nb(),mv(),gv(),sb(),cb(),pv(),hv(),pb(),wS(),Pb(),DS(),CS(),yv(),kv(),vv(),QS(),kS(),document.getElementById("import-settings-input")?.addEventListener("change",XS),console.log("✅ All UI modules initialized.")}document.addEventListener("DOMContentLoaded",async()=>{const i=document.getElementById("loading-overlay");try{await cv();const u=ba(),s=rv();await Mi({apiKey:s.openrouterKey,ollamaBaseUrl:s.ollamaBaseUrl,isUserKey:!1}),u&&u.plan==="master"&&await Mi({apiKey:u.apiSettings?.openrouterKey,ollamaBaseUrl:u.apiSettings?.ollamaBaseUrl,isUserKey:!0}),console.log("🚀 Application starting..."),FS(),$S(),IS(),jb(),document.getElementById("load-memory-package-input").addEventListener("change",qS);const o=localStorage.getItem("lastActiveProjectId");if(o){console.log(`Attempting to load last project with ID: ${o}`);try{await Ub(o)}catch(r){console.error(`[RECOVERY] Failed to load last project (ID: ${o}). This is likely due to corrupted data.`,r),alert("Could not load your last project due to an error. A new project will be created."),localStorage.removeItem("lastActiveProjectId"),console.log("[RECOVERY] Creating a new project as a fallback."),await Ic()}}else await Ic();i?.classList.remove("active"),console.log("🎉 Application initialized successfully.")}catch(u){console.error("[FATAL STARTUP ERROR]",u),i.querySelector("p").textContent=`A critical error occurred: ${u.message}`}});window.UserService=fv;
