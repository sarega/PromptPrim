:root{--primary-color: #e2f3fd;--secondary-color: #d3ecfb;--accent-color: #bcd5ff !important;--background-gradient: linear-gradient(180deg, var(--primary-color) 0%, var(--secondary-color) 100%);--bg-color-secondary: #f0f2f5;--text-dark: #2d3748;--text-light: #f7fafc;--border-color: #e2e8f0;--success-color: #48bb78;--error-color: #e53e3e;--warning-color: #ed8936;--white-alpha-95: rgba(255, 255, 255, .95);--white-alpha-50: rgba(247, 250, 252, .5);--shadow-light: rgba(102, 126, 234, .1);--shadow-dark: rgba(0, 0, 0, .1);--main-font-family: "Sarabun", sans-serif;--main-font-size: 16px;--dropdown-menu-item-font-size: .875rem;--bg-workspace-chat: #f8fafc;--bg-workspace-studio: #f1f5f9;--user-bubble-edit-text-color: #1a202c;--primary-color-dark: #c5caee;--btn-primary-bg: var(--primary-color);--btn-primary-border: var(--primary-color-dark);--bg-admin-page: #f1f5f9;--workspace-switcher-inactive-color: #64748b;--workspace-switcher-active-color: var(--text-dark);--workspace-switcher-hover-bg: rgba(148, 163, 184, .18);--workspace-switcher-active-bg: var(--bg-color-secondary);--workspace-switcher-active-shadow: 0 1px 3px rgba(15, 23, 42, .12);--workspace-switcher-divider-color: var(--border-color);--header-project-title-color: #4a5568;--header-chat-divider-color: rgba(100, 116, 139, .38)}*{margin:0;padding:0;box-sizing:border-box;font-family:var(--main-font-family);font-size:var(--main-font-size)}html{-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;text-size-adjust:100%}html,body{height:100%;overflow:hidden}body{background:var(--background-gradient);color:var(--text-dark);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}html,body{overflow:hidden;position:fixed;width:100%;height:100%}button,label,.btn,.btn-icon,.item-icon,.material-symbols-outlined,.app-main-title,.project-title,.item-name,.speaker-label,.section-header h3,.collapsible-section>summary,.item,.item-header,.no-items-message{-webkit-user-select:none;-moz-user-select:none;user-select:none}.hidden{display:none!important}.form-group{margin-bottom:12px}label{display:block;margin-bottom:8px;font-weight:500}input[type=text],input[type=password],input[type=number],select,textarea{width:100%;padding:10px 12px;border:1px solid var(--border-color);border-radius:8px;transition:all .2s ease}input:-webkit-autofill,input:-webkit-autofill:hover,input:-webkit-autofill:focus,input:-webkit-autofill:active{-webkit-box-shadow:0 0 0 30px white inset!important;-webkit-text-fill-color:var(--text-dark)!important}input:focus,select:focus,textarea:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px var(--shadow-light)}textarea{resize:vertical;min-height:100px}input[type=number]::-webkit-outer-spin-button,input[type=number]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number]{-moz-appearance:textfield}.btn{background-color:var(--btn-primary-bg);border:1px solid var(--btn-primary-border);color:var(--btn-text-color);padding:10px 18px;border-radius:8px;cursor:pointer;font-weight:600;transition:all .2s ease}.btn:hover{transform:translateY(-1px);box-shadow:0 4px 15px var(--shadow-light)}.btn-small{padding:6px 12px;font-size:.8rem}.btn-secondary{background:#cbd5e0;color:var(--text-dark)}.btn-danger{background:var(--error-color)}.btn-icon{background:transparent;border:none;cursor:pointer;width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:16px;color:#6d7682;transition:all .2s ease}.btn-icon:hover{background:#e2e8f0;color:var(--text-dark)}.btn-icon.danger:hover{background:var(--error-color);color:#fff}.btn.is-loading{position:relative;color:transparent!important;pointer-events:none}.btn.is-loading:after{content:"";position:absolute;top:50%;left:50%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border:3px solid rgba(127,156,245,.3);border-top-color:var(--accent-color);border-radius:50%;animation:spin .8s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:none;align-items:center;justify-content:center;z-index:2000}.modal-box{background:#fff;padding:25px;border-radius:15px;width:90%;max-width:550px;box-shadow:0 5px 20px #0003;max-height:90vh;display:flex;flex-direction:column}.modal-box,.modal-box *{-webkit-user-select:text;-moz-user-select:text;user-select:text}.modal-box button,.modal-box .btn,.modal-box .btn-icon,.modal-box .modal-close-btn,.modal-box .dropdown-content a,.modal-box .material-symbols-outlined{-webkit-user-select:none;-moz-user-select:none;user-select:none}.modal-box.is-resizable{overflow:auto;resize:both;min-width:450px;min-height:300px}.modal-body{overflow-y:auto;flex-grow:1;min-height:0}.modal-box h3{margin-top:0}.modal-actions{margin-top:20px;display:flex;justify-content:flex-end;gap:10px;flex-shrink:0}.modal-warning{font-size:12px;color:#718096;margin-top:5px}.modal-header{margin-bottom:auto;display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid var(--border-color);flex-shrink:0}.modal-header h3{margin:0}.modal-close-btn{cursor:pointer}.modal-close-btn:not(.btn){background:none;border:none;font-size:28px;line-height:1;color:#888}body.dark-mode .modal-close-btn:not(.btn){color:var(--text-dark)}.modal-loading-overlay{position:absolute;inset:0;background-color:#ffffffb3;z-index:100;display:none;align-items:center;justify-content:center;flex-direction:column;gap:15px;border-radius:15px;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-loading-overlay.active{display:flex}.modal-loading-overlay .spinner{width:40px;height:40px;border:4px solid #d1d5db;border-top-color:var(--accent-color);border-radius:50%;animation:spin 1s linear infinite}.modal-loading-overlay p{font-weight:500;color:var(--text-dark)}body.dark-mode .modal-loading-overlay{background-color:#2d3748b3}body.dark-mode .modal-loading-overlay .spinner{border-color:#4b5563;border-top-color:var(--accent-color)}#settings-panel .modal-body{padding-top:0}.modal-header,.modal-body{padding-left:15px;padding-right:15px}.modal-header{padding-top:0;padding-bottom:10px}.session-action-modal-box{max-width:520px}.session-move-create-row{display:grid;grid-template-columns:1fr auto;gap:8px;align-items:center}.folder-settings-file-list{border:1px solid var(--border-color);border-radius:8px;padding:8px;max-height:220px;overflow-y:auto;background:#fff;display:grid;gap:6px}.folder-settings-file-item{display:flex;align-items:center;gap:8px;font-size:.85rem;color:#334155}.folder-settings-file-item input[type=checkbox]{width:16px;height:16px}.context-menu{position:fixed;z-index:11000;min-width:220px;backdrop-filter:blur(12px) saturate(180%);-webkit-backdrop-filter:blur(12px) saturate(180%);border:1px solid rgba(0,0,0,.08);border-radius:12px;box-shadow:0 5px 20px #0000001a;padding:6px;opacity:0;transform:scale(.95);transition:opacity .1s ease-out,transform .1s ease-out}.context-menu{background-color:#f8f9fab3}.context-menu li{color:var(--text-dark)}.context-menu li:hover{background-color:#4f8fff;color:#fff}body.dark-mode .context-menu{background-color:#2d3748bf;border-color:#ffffff1a}body.dark-mode .context-menu li{color:var(--text-dark)}body.dark-mode .context-menu li:hover{background-color:var(--accent-color);color:#000}.context-menu ul{list-style:none;margin:0;padding:0}.context-menu li{padding:9px 14px;cursor:pointer;border-radius:6px;font-size:var(--dropdown-menu-item-font-size);font-weight:500;transition:background-color .15s ease,color .15s ease;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none}.dropdown{position:relative;display:inline-block}.dropdown-btn{background:none;border:none;font-size:1.2rem;cursor:pointer;padding:0 5px}.dropdown-content{display:none;position:absolute;background-color:#fff;min-width:-moz-max-content;min-width:max-content;box-shadow:0 8px 16px #0003;z-index:1100;border-radius:8px;overflow:hidden}.dropdown-content,.dropdown-content *,.dropdown-content.dropdown-content-portal,.dropdown-content.dropdown-content-portal *,.searchable-select-options,.searchable-select-options *{-webkit-user-select:none;-moz-user-select:none;user-select:none}.dropdown.open .dropdown-content{display:block}.dropdown.open.portal-open>.dropdown-content{display:none}.dropdown-content.dropdown-content-portal{position:fixed;display:block;margin-top:0;z-index:5000;max-height:min(70vh,460px);overflow:auto}.dropdown.align-left .dropdown-content{left:0;right:auto;top:100%;margin-top:4px}.dropdown.align-right .dropdown-content{right:0;left:auto;top:100%;margin-top:4px}.dropdown-content a{color:#000;padding:8px 14px;text-decoration:none;display:flex;align-items:center;gap:8px;font-size:var(--dropdown-menu-item-font-size);cursor:pointer}.dropdown-content a:hover{background-color:#f1f1f1}.dropdown-content hr{margin:4px 10px;border:none;border-top:1px solid var(--border-color)}.dropdown-divider{height:1px;margin:4px 0;background-color:var(--border-color)}.dropdown-content.bottom-up{top:auto;bottom:100%;margin-bottom:8px}.searchable-select-wrapper{position:relative}.searchable-select-options{position:absolute;top:calc(100% + 4px);left:0;right:0;background-color:#fff;border:1px solid var(--border-color);border-radius:8px;box-shadow:0 4px 12px #0000001a;z-index:2100;max-height:250px;overflow-y:auto;padding:5px}.searchable-select-options.hidden{display:none}.searchable-option-item{padding:10px 12px;cursor:pointer;border-radius:6px;font-size:var(--dropdown-menu-item-font-size);transition:background-color .2s ease}.searchable-option-row{display:flex;align-items:flex-start;justify-content:space-between;gap:10px}.searchable-option-main{min-width:0;flex:1}.searchable-option-title{display:block}.searchable-option-item:hover{background-color:#f0f4f8}.searchable-option-item small{display:block;color:#718096;font-size:.8rem}.searchable-option-item.searchable-option-empty{cursor:default;color:#718096}.searchable-option-item.searchable-option-empty:hover{background-color:transparent}.searchable-option-hint{padding:6px 12px 4px;font-size:.72rem;color:#718096;text-transform:uppercase;letter-spacing:.04em}.searchable-option-section-title{padding:8px 12px 4px;font-size:.72rem;color:#718096;text-transform:uppercase;letter-spacing:.04em}.searchable-option-pin{flex-shrink:0;padding:2px 8px;border:1px solid #cbd5e0;border-radius:999px;background:#f8fafc;color:#4a5568;font-size:.72rem;line-height:1.4;cursor:pointer}.searchable-option-pin:hover{border-color:#94a3b8;background:#eef2f7}.searchable-option-pin.is-pinned{border-color:var(--accent-color);color:var(--accent-color);background:#38a1691f}body.dark-mode .searchable-select-options{background-color:#2d3748;border-color:#4a5568}body.dark-mode .searchable-option-item:hover{background-color:#4a5568}body.dark-mode .searchable-option-item small,body.dark-mode .searchable-option-item.searchable-option-empty,body.dark-mode .searchable-option-hint,body.dark-mode .searchable-option-section-title{color:#a0aec0}body.dark-mode .searchable-option-pin{border-color:#4a5568;background:#1f2937;color:#cbd5e1}body.dark-mode .searchable-option-pin:hover{border-color:#64748b;background:#334155}body.dark-mode .searchable-option-pin.is-pinned{border-color:var(--primary-color);color:#fff;background:#4299e159}.searchable-option-item.active{background-color:var(--accent-color);color:#fff}body.dark-mode .searchable-option-item.active{background-color:var(--primary-color)}.item-list>.item{background:#fff;border:1px solid var(--border-color);border-radius:8px;padding:4px 10px;margin-bottom:3px;transition:all .2s ease;position:relative;cursor:pointer;border-left-width:1px}.item-list>.item.active{border-color:var(--success-color);box-shadow:0 0 8px #48bb7833;background-color:#f6fff9}.session-item.session-locate-highlight{animation:session-locate-pulse 1.25s ease}@keyframes session-locate-pulse{0%{box-shadow:0 0 #0ea5e96b}35%{box-shadow:0 0 0 4px #0ea5e942;background-color:#ecfeff}to{box-shadow:0 0 #0ea5e900}}.item-list>.item.pinned{background-color:#f0e6ff}.item-list>.session-item.archived{background-color:#e6ecee}.session-item.archived .item-name{color:#6c6c6c}.session-item.archived .item-icon{opacity:.6}.item-list>.group-item{background-color:#f0f4f8;border-left:3px solid var(--primary-color);padding-left:8px}.memory-item.inactive .item-name{color:#8caac9}.item.z-index-front{z-index:1105}.item-header{display:flex;justify-content:space-between;align-items:center;min-height:24px}.item-name{font-weight:500;font-size:.9rem;flex-grow:1;padding-right:10px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.item-name .item-icon{margin-right:6px;display:inline-block;width:20px;text-align:center;line-height:1;vertical-align:-.08em}.item-actions{display:flex;align-items:center}.item-actions>*:not(:last-child){margin-right:2px}.collapsible-section summary{cursor:pointer;font-weight:500;padding:5px;border-radius:5px;transition:background .2s;list-style:revert}.collapsible-section summary:hover{background:#f0f0f0}.collapsible-section .item-list{padding-top:5px}.memory-item{padding:3px 8px}.memory-item .item-header{gap:8px}.memory-item .item-name{font-weight:400;font-size:.8rem;cursor:default}.memory-item .item-actions{margin-left:auto}.memory-toggle{width:34px;height:18px;background:#cbd5e0;border-radius:9px;position:relative;cursor:pointer;transition:background .3s ease;flex-shrink:0}.memory-toggle.active{background:var(--success-color)}.memory-toggle:after{content:"";width:14px;height:14px;background:#fff;border-radius:50%;position:absolute;top:2px;left:2px;transition:transform .3s ease}.memory-toggle.active:after{transform:translate(16px)}.item-list>.item:not(.active):hover{background-color:#eef2f7;border-color:#d1d8e0}.item-list>.item.staged{border-color:#f59e0b;border-left-width:3px;background-color:#fff9e6;box-shadow:0 0 0 2px #f59e0b59 inset}.knowledge-item{padding-top:8px;padding-bottom:8px}.knowledge-item.selected-for-rag{border-color:#0ea5e9;background-color:#edf9ff}.knowledge-item.source-focused{border-color:#0284c7;background-color:#f0f9ff;box-shadow:0 0 0 1px #bae6fd inset}.knowledge-item .btn-icon.is-active{color:#0284c7}.knowledge-focus-preview{margin-top:8px;border:1px solid #d0ebff;background:#f8fcff;border-radius:8px;padding:8px}.knowledge-focus-preview-header{display:flex;align-items:center;justify-content:space-between;gap:6px}.knowledge-focus-preview-title{font-size:.72rem;font-weight:600;color:#0f3b63}.knowledge-focus-preview-text{margin-top:6px;font-size:.75rem;color:#334e68;white-space:pre-wrap;max-height:170px;overflow-y:auto}.knowledge-focus-clear{width:24px;height:24px}.knowledge-rag-controls{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:8px;margin-bottom:10px}.knowledge-control{display:flex;flex-direction:column;gap:4px;font-size:.72rem;color:#334e68}.knowledge-control input,.knowledge-control select{width:100%;border:1px solid var(--border-color);border-radius:6px;padding:5px 7px;font-size:.78rem;background:#fff}.knowledge-scope-info{grid-column:1 / -1;font-size:.72rem;color:#486581}@media (max-width: 768px){.knowledge-rag-controls{grid-template-columns:1fr}}.knowledge-file-meta{margin-top:2px;font-size:.72rem;color:#4f6b8a}.knowledge-file-excerpt{margin-top:4px;font-size:.78rem;color:#334e68;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.knowledge-file-note{margin-top:4px;font-size:.72rem;color:#9a3412}.session-item-meta{margin-top:2px;font-size:.72rem;color:#64748b;padding-right:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.sessions-panel .item-list>.session-item.item{padding:3px 8px;margin-bottom:2px;border-radius:7px}.sessions-panel .session-item .item-header{min-height:22px}.sessions-panel .session-item .item-name{display:inline-flex;align-items:center;gap:5px;font-size:.88rem;line-height:1.15;padding-right:6px}.sessions-panel .session-item .item-name .item-icon{width:16px;margin-right:0;vertical-align:0}.sessions-panel .session-item .session-item-meta{margin-top:1px;font-size:.66rem;line-height:1.1}.sessions-panel .session-item:not(.active) .session-item-meta{display:none}.sessions-panel .session-item.active .session-item-meta{display:block}.sessions-panel .session-folder{margin-bottom:4px}.sessions-panel .session-folder-summary{min-height:28px;padding:5px 8px;font-size:.82rem}.sessions-panel .session-folder-title{gap:5px}.sessions-panel .session-folder-title .material-symbols-outlined{font-size:16px}.sessions-panel .session-folder-count{font-size:.65rem;padding:0 4px}.sessions-panel .folder-session-list{margin-left:6px;padding:4px 4px 4px 9px}.sessions-panel .session-item .btn-icon[data-action=toggle-menu],.sessions-panel .session-folder .btn-icon[data-action=toggle-menu]{width:22px;height:22px;font-size:15px;line-height:1}.session-item.is-dragging{opacity:.55}.session-item.is-drop-before:before,.session-item.is-drop-after:after{content:"";position:absolute;left:6px;right:6px;height:2px;background:#0ea5e9;border-radius:999px;pointer-events:none}.session-item.is-drop-before:before{top:-1px}.session-item.is-drop-after:after{bottom:-1px}[data-session-drop-target].is-drop-target{outline:2px dashed #38bdf8;outline-offset:-3px;background:#f0f9ff}.session-folder{border:1px solid var(--border-color);border-radius:8px;margin-bottom:6px;background:#f8fafc;overflow:visible;position:relative;z-index:auto}.session-folder[open]{border-color:#c8d5e5}.session-folder-summary{display:flex;align-items:center;justify-content:space-between;padding:6px 10px;cursor:pointer;list-style:none;font-size:.85rem;font-weight:600;color:#334155;position:relative}.session-folder-summary::-webkit-details-marker{display:none}.session-folder-title{display:flex;align-items:center;gap:6px;min-width:0}.session-folder-title .material-symbols-outlined{font-size:18px;line-height:1}.session-folder-caret{transition:transform .18s ease}.session-folder-icon-open{display:none}.session-folder[open] .session-folder-caret{transform:rotate(90deg)}.session-folder[open] .session-folder-icon-open{display:inline-block}.session-folder[open] .session-folder-icon-closed{display:none}.session-folder-count{font-size:.72rem;background:#e2e8f0;color:#334155;border-radius:999px;padding:1px 6px}.folder-session-list{border-top:1px solid #e2e8f0;padding:6px 6px 6px 16px;background:#fff;margin-left:8px;border-left:2px solid #e2e8f0;position:relative;display:block;max-height:var(--folder-content-height, 0px);opacity:1;overflow:hidden;transform-origin:top;transition:max-height .23s cubic-bezier(.25,.46,.45,.94),opacity .18s ease,padding .23s ease,border-color .23s ease}.session-folder:not([open])>.folder-session-list{display:block;max-height:0;opacity:0;pointer-events:none;padding-top:0;padding-bottom:0;border-top-color:transparent;border-left-color:transparent}.session-folder[open]>.folder-session-list{pointer-events:auto}.session-folder.has-open-menu,.session-folder:has(.dropdown.open){z-index:1200}.session-folder .dropdown.open{position:relative;z-index:1300}.session-folder .dropdown-content{z-index:1350}@media (prefers-reduced-motion: reduce){.folder-session-list{transition:none}}@media (max-width: 768px){.item-list>.item{padding:2px 7px;margin-bottom:2px;border-radius:6px}.item-header{min-height:20px}.item-name{display:inline-flex;align-items:center;gap:4px;font-size:.84rem;line-height:1.1;padding-right:4px}.item-name .item-icon{width:15px;margin-right:0;font-size:.95em;vertical-align:0}.session-item-meta{margin-top:1px;font-size:.63rem;line-height:1.08;padding-right:2px}.session-item:not(.active) .session-item-meta{display:none}.session-item.active .session-item-meta{display:block}.session-folder{margin-bottom:4px}.session-folder-summary{min-height:26px;padding:4px 7px;font-size:.8rem}.session-folder-title{gap:4px}.session-folder-title .material-symbols-outlined{font-size:15px}.session-folder-title>span:not(.material-symbols-outlined):not(.session-folder-count){line-height:1.05}.session-folder-count{font-size:.62rem;padding:0 4px}.folder-session-list{margin-left:5px;padding:3px 3px 3px 8px}.session-item .btn-icon[data-action=toggle-menu],.session-folder .btn-icon[data-action=toggle-menu]{width:22px;height:22px;font-size:15px;line-height:1}}Code block css .code-block-wrapper{position:relative;margin:.8em 0;border-radius:8px;overflow:hidden;border:1px solid var(--border-color)}.code-block-header{display:flex;justify-content:space-between;align-items:center;padding:6px 12px;background-color:#f1f5f9;color:#475569;font-family:sans-serif;font-size:.8rem}body.dark-mode .code-block-header{background-color:#374151;color:#cbd5e0}.language-name{font-weight:500}.copy-code-btn{display:flex;align-items:center;gap:6px;background-color:transparent;color:inherit;border:none;padding:4px 8px;border-radius:6px;font-size:.8rem;cursor:pointer;transition:background-color .2s}.copy-code-btn:hover{background-color:#0000001a}body.dark-mode .copy-code-btn:hover{background-color:#ffffff1a}.copy-code-btn .material-symbols-outlined{font-size:16px}.code-block-wrapper pre{margin:0;border-radius:0;border:none}.message-content pre,.composer-editor pre{background-color:#f1f5f9;color:#24292e;padding:16px;border-radius:6px;overflow-x:auto;font-family:Fira Mono,Menlo,Consolas,monospace;font-size:.9em;line-height:1.45}body.dark-mode .message-content pre,body.dark-mode .composer-editor pre{background-color:#2d3748;color:#c9d1d9}.message-content pre code,.composer-editor pre code{background-color:transparent;color:inherit;padding:0;font-size:inherit;line-height:inherit}.message-content code{font-family:Fira Mono,Menlo,Consolas,monospace;background-color:#afb8c133;padding:.2em .4em;margin:0;font-size:85%;border-radius:6px}.message-content pre{position:relative}.code-block-copy-btn{position:absolute;top:8px;right:8px;z-index:1;background-color:#4a5568;color:#fff;border:none;padding:4px 8px;border-radius:6px;font-size:.8rem;cursor:pointer;opacity:0;transition:opacity .2s ease-in-out}.message-content pre:hover .code-block-copy-btn{opacity:1}body.dark-mode .code-block-copy-btn{background-color:#3e4c5f;border:1px solid #5a6b82}body.dark-mode .message-content pre::-webkit-scrollbar{background-color:#2d3748;height:8px;width:8px}body.dark-mode .message-content pre::-webkit-scrollbar-thumb{background-color:#718096;border-radius:4px}body.dark-mode .message-content pre::-webkit-scrollbar-thumb:hover{background-color:#a0aec0}#mobile-overlay{position:fixed;inset:0;background-color:#00000080;opacity:0;visibility:hidden;transition:opacity .3s ease,visibility .3s linear .3s;z-index:1099}#mobile-overlay.active{opacity:1;visibility:visible;transition:opacity .3s ease}.panel-resizer.horizontal{flex-basis:4px;flex-shrink:0;width:100%;height:4px;cursor:row-resize;touch-action:none;background-color:var(--border-color);transition:background-color .2s ease;z-index:6}.panel-resizer.horizontal:hover,.panel-resizer.horizontal.active{background-color:var(--accent-color)}.panel-resizer.horizontal.collapsed{flex-basis:4px!important;min-height:4px!important}.app-wrapper{display:flex;width:100vw;height:100vh;overflow:hidden;position:relative}#chat-compose-workspace{display:flex;flex-direction:column;flex-grow:1;width:100%;height:100%;min-height:0;overflow:hidden}#workspace-body-row{display:flex;flex:1 1 auto;min-height:0;overflow:hidden}.app-wrapper.sidebar-collapsed .sidebar{flex-basis:0;min-width:0;overflow:hidden;padding-left:0;padding-right:0;border-right-width:0}.app-wrapper.sidebar-collapsed .sidebar-header,.app-wrapper.sidebar-collapsed .sidebar-content{opacity:0;pointer-events:none;transition-delay:0s}body.focus-mode .sidebar,body.focus-mode #hamburger-btn,body.focus-mode .sidebar-horizontal-resizer{display:none!important}body.focus-mode .main-chat-area{width:100%;max-width:100%}body.focus-mode .chat-input-wrapper{padding:20px 30px}body.focus-mode #chatInput{min-height:80px;font-size:1.1rem}.content-columns-wrapper{flex-grow:1;display:flex;flex-direction:row;overflow:hidden}.sessions-panel{display:flex;flex-direction:column;flex-basis:360px;min-width:300px;height:100%;background-color:var(--bg-color-secondary);border-right:1px solid var(--border-color);transition:all .3s ease-in-out;overflow:hidden;position:relative;z-index:100}.sidebar-header{padding:15px 20px;border-bottom:1px solid var(--border-color);flex-shrink:0;display:flex;flex-direction:column;gap:10px}.sidebar-top-row,.sidebar-bottom-row{display:flex;align-items:center;width:100%}.app-main-title{font-size:1.35rem;font-weight:700;margin-right:auto;color:var(--text-dark)}.project-title{font-size:1.1rem;font-weight:600;color:#4a5568;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-left:12px}#hamburger-btn{display:none;font-size:28px;margin-right:15px;cursor:pointer;background:none;border:none;color:var(--text-dark);padding:5px;line-height:1}.sidebar-content{flex-grow:1;display:flex;flex-direction:column;overflow:hidden;padding:3px 12px 12px}.sessions-frame{flex:1 1 50%;min-height:100px;overflow-y:auto;display:flex;flex-direction:column}#sessions-panel .sessions-frame,#sessions-panel .sessions-frame *{-webkit-user-select:none;-moz-user-select:none;user-select:none}#sessions-panel .sessions-frame input,#sessions-panel .sessions-frame textarea,#sessions-panel .sessions-frame select{-webkit-user-select:text;-moz-user-select:text;user-select:text}.sessions-panel .section-box{margin-bottom:3px}.sessions-panel .section-header{min-height:30px;margin-bottom:3px}.sessions-panel .section-header-actions{display:inline-flex;align-items:center;gap:4px;flex:0 0 auto}.sessions-panel .section-header h3{display:inline-flex;align-items:center;gap:6px;font-size:.9rem;font-weight:600;line-height:1}.sessions-panel .section-header .session-list-locate-trigger{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:6px;padding:2px 4px 2px 0;transition:background-color .18s ease,color .18s ease}.sessions-panel .section-header .session-list-locate-trigger:hover{background:#edf2f7}.sessions-panel .section-header .session-list-locate-trigger:focus-visible{outline:2px solid var(--accent-color);outline-offset:2px}.sessions-panel .section-header h3 .material-symbols-outlined{display:inline-flex;align-items:center;justify-content:center;font-size:20px;line-height:1}.sessions-panel .section-header h3 .section-title-text{line-height:1}.sessions-panel .section-header #new-chat-btn{width:24px;height:24px}.sessions-panel .section-header #new-chat-btn .material-symbols-outlined{font-size:19px;line-height:1}.session-organize-btn{width:24px;height:24px;padding:0;display:inline-flex;align-items:center;justify-content:center;border-radius:50%;background:transparent;border:none;color:#6d7682;line-height:1}.session-organize-btn .material-symbols-outlined{font-size:18px;line-height:1}.session-organize-dropdown{min-width:188px;padding:4px}.session-organize-heading{padding:5px 9px 3px;font-size:.6rem;font-weight:700;letter-spacing:.04em;text-transform:uppercase;color:#64748b}.session-organize-dropdown .dropdown-divider{margin:3px 0}.session-organize-option{padding:6px 10px!important;font-size:.82rem!important;line-height:1.2;justify-content:space-between;gap:8px}.session-organize-option .session-organize-check{opacity:0;transition:opacity .14s ease}.session-organize-option.is-selected{background:#e9eef7;color:#1f2937}.session-organize-option.is-selected .session-organize-check{opacity:1}.dropdown-content.folder-session-dropdown>a{padding:6px 10px;font-size:var(--dropdown-menu-item-font-size)!important;font-weight:400;line-height:1.2}.dropdown-content.folder-session-dropdown>a.folder-session-sort-option{justify-content:space-between;gap:8px;font-weight:400}.dropdown-content.folder-session-dropdown>a.folder-session-sort-option>span:not(.folder-session-sort-check){font-size:inherit;font-weight:inherit;line-height:inherit}.dropdown-content.folder-session-dropdown .folder-session-sort-check{opacity:0;transition:opacity .14s ease;font-size:16px;line-height:1;min-width:16px}.dropdown-content.folder-session-dropdown>a.folder-session-sort-option.is-selected{background:#e9eef7;color:#1f2937}.dropdown-content.folder-session-dropdown>a.folder-session-sort-option.is-selected .folder-session-sort-check{opacity:1}.mobile-only{display:none}@media (max-width: 1024px){.mobile-only{display:flex}}@media (max-width: 1024px){#hamburger-btn{display:block}.sessions-panel{position:fixed;left:0;top:0;width:320px;max-width:85vw;flex-basis:auto;min-width:unset;z-index:1100;transform:translate(-100%);transition:transform .3s ease-in-out;border-right-width:1px}.sidebar-content{padding:12px 10px}.sessions-panel.is-open{transform:translate(0);box-shadow:4px 0 15px #0000001a}.sidebar-resizer{display:none}}.menu-toggle-btn{font-size:24px;cursor:pointer;background:none;border:none;color:var(--text-dark);padding:5px;line-height:1}.chat-messages{flex:1;overflow-y:auto;display:flex;flex-direction:column;gap:30px;align-items:center;padding:20px 6vw 40px}.main-chat-area{flex-grow:1;display:flex;flex-direction:column;background:var(--bg-workspace-chat);position:relative;width:100%;overflow:hidden}.chat-header{padding:8px 14px;border-bottom:1px solid var(--border-color);background:var(--white-alpha-95);display:flex;justify-content:space-between;align-items:center;gap:1rem;flex-shrink:0;position:relative;z-index:200}.chat-header,.chat-header *,#status-panel,#status-panel *{-webkit-user-select:none;-moz-user-select:none;user-select:none}.header-left,.header-center,.header-right{display:flex;align-items:center;gap:.65rem;min-width:0}.header-left{flex:1.4;justify-content:flex-start}.header-center{flex:1;justify-content:center}.header-right{flex:.8;justify-content:flex-end}.header-brand-group{display:flex;align-items:center;gap:8px;min-width:0;max-width:100%}.chat-header .app-main-title{margin:0;font-size:1.02rem;line-height:1.1}.chat-header .project-title{margin:0;font-size:.88rem;font-weight:600;color:var(--header-project-title-color);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:220px}.header-chat-divider{width:1px;height:20px;background-color:var(--header-chat-divider-color);border-radius:999px;flex:0 0 auto}#project-menu-dropdown .btn{padding:3px 9px;min-height:26px;line-height:1}.user-profile-container{position:relative}.user-avatar{width:36px;height:36px;border-radius:50%;background-color:#7f9cf5;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:1rem;cursor:pointer;border:2px solid transparent;transition:all .2s ease}.user-avatar:hover,.user-profile-container.open .user-avatar{border-color:var(--accent-color)}#user-profile-menu{width:260px;padding:8px;right:0;top:calc(100% + 8px);z-index:1200}#user-profile-menu .menu-header{padding:8px 12px;margin-bottom:4px}#user-profile-menu .user-name{font-weight:600;display:block}#user-profile-menu .user-plan{font-size:.8rem;color:#4ade80;font-weight:500}#user-profile-menu .menu-item{display:flex;align-items:center;justify-content:space-between;padding:9px 12px;border-radius:6px;font-size:var(--dropdown-menu-item-font-size);cursor:pointer;transition:background-color .2s ease}#user-profile-menu a.menu-item:hover{background-color:#f0f4f8}#user-profile-menu .is-destructive:hover{background-color:#fee2e2;color:#ef4444}#user-profile-menu hr{margin:6px 0;border:none;border-top:1px solid var(--border-color)}.theme-switcher-inline{display:flex;gap:4px}.theme-switcher-inline label{display:flex;padding:6px;border-radius:6px;cursor:pointer;transition:background-color .2s ease}.theme-switcher-inline input{display:none}.theme-switcher-inline label:hover{background-color:#f0f4f8}.theme-switcher-inline input:checked+.material-symbols-outlined{color:var(--accent-color)}body.dark-mode .user-avatar{background-color:#a78bfa}body.dark-mode #user-profile-menu a.menu-item:hover{background-color:#374151}body.dark-mode #user-profile-menu .is-destructive:hover{background-color:#452323;color:#f87171}body.dark-mode .theme-switcher-inline label:hover{background-color:#374151}.main-content-wrapper{flex-grow:1;display:flex;flex-direction:column;overflow:hidden;position:relative}#hamburger-btn,#toggle-composer-btn{font-size:1.75rem;line-height:1;padding:.15rem}#hamburger-btn{display:block;transition:transform .3s ease}#hamburger-btn.is-collapsed{transform:scaleX(1)}#toggle-composer-btn{transition:transform .3s ease}#toggle-composer-btn.is-collapsed{transform:scaleX(1)}.chat-title{font-size:1rem;font-weight:600;flex:0 1 auto;margin:0;min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer;border-radius:6px;padding:2px 4px;transition:background-color .18s ease,color .18s ease}.chat-title:hover{background:#edf2f7}.chat-title:focus-visible{outline:2px solid var(--accent-color);outline-offset:2px}.chat-session-locate-btn{width:28px;height:28px}.chat-session-locate-btn .material-symbols-outlined{font-size:18px;line-height:1}.book-agent-header-badge{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid #c7d2fe;background:#eef2ff;color:#3730a3;border-radius:999px;padding:3px 8px;font-size:.68rem;line-height:1;font-weight:600;cursor:pointer;flex:0 0 auto;max-width:320px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.book-agent-header-badge:hover{background:#e0e7ff;border-color:#a5b4fc}.book-agent-header-badge:focus-visible{outline:2px solid var(--accent-color);outline-offset:2px}.book-agent-header-badge.is-auto-on{border-color:#93c5fd;background:#eff6ff;color:#1d4ed8}.book-agent-header-badge.has-pending{border-color:#fbbf24;background:#fffbeb;color:#92400e}.book-agent-header-badge.has-new{border-color:#f97316;background:#fff7ed;color:#9a3412}.book-agent-header-badge.is-flash{box-shadow:0 0 0 3px #fbbf2440}.chat-input-wrapper,#status-panel{flex-shrink:0}#status-panel{padding:8px 15px;border-top:1px solid var(--border-color);background:var(--text-light);display:flex;align-items:center;justify-content:space-between;gap:10px;flex-shrink:0;overflow:visible;transition:transform .3s ease-in-out,max-height .3s ease-in-out,padding .3s ease-in-out;will-change:transform,max-height;position:relative;z-index:10;width:100%}#collapse-sidebar-btn .icon-wrapper{display:inline-block;transition:transform .3s ease-in-out;font-size:inherit}.status-left,.status-right{display:flex;align-items:center;gap:10px;min-width:0;flex-wrap:nowrap}.status-left{flex:1 1 auto;overflow:hidden;white-space:nowrap}#statusText,#model-count-status,#active-agent-status,#token-count-status{min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.status-right{font-size:12px;color:#718096;text-align:right;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0;flex:0 1 auto;margin-left:auto}#context-inspector-trigger-btn{background:none;border:none;cursor:pointer;padding:2px 5px;font-size:16px;line-height:1;color:#64748b}#context-inspector-trigger-btn:hover{opacity:.7}.status-dot{width:10px;height:10px;border-radius:50%;background:var(--warning-color);transition:background .3s}.status-dot.connected{background:var(--success-color)}.status-dot.error{background:var(--error-color)}.loading{display:flex;gap:4px;align-items:center}.loading-dot{width:8px;height:8px;border-radius:50%;background:var(--primary-color);animation:loadingBounce 1.4s infinite ease-in-out both}.loading-dot:nth-child(1){animation-delay:-.32s}.loading-dot:nth-child(2){animation-delay:-.16s}@keyframes loadingBounce{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}.main-chat-area.focus-mode .chat-messages,.main-chat-area.focus-mode #resizer-row{display:none}.main-chat-area.focus-mode .main-content-wrapper{height:100%}.main-chat-area.focus-mode .composer-panel{flex-basis:100%!important;min-height:100%!important;border-top:none}#model-count-status{margin-right:12px;font-weight:500;color:#4a5568}body.dark-mode #model-count-status{color:#a0aec0}.main-chat-area.composer-is-active .chat-input-wrapper{height:0!important;padding-top:0!important;padding-bottom:0!important;margin-top:0!important;margin-bottom:0!important;border-width:0!important;overflow:hidden;transition:all .2s ease-out}.main-content-wrapper.composer-maximized .composer-panel{height:100%;flex-grow:1}.header-center .menu-toggle-btn{color:var(--workspace-switcher-inactive-color);border-radius:6px;transition:color .2s ease,background-color .2s ease,box-shadow .2s ease}.header-center .menu-toggle-btn:hover{color:var(--workspace-switcher-active-color);background-color:var(--workspace-switcher-hover-bg)}.header-center .menu-toggle-btn.active{color:var(--workspace-switcher-active-color);background-color:var(--workspace-switcher-active-bg);box-shadow:var(--workspace-switcher-active-shadow)}.header-center{display:flex;align-items:center;justify-content:center;gap:.45rem;position:relative;z-index:50}#switch-to-chat-btn,#switch-to-composer-btn,#switch-to-photo-btn,#switch-to-world-btn{position:relative;z-index:51}.main-view-container{flex-grow:1;display:flex;flex-direction:column;overflow:hidden;position:relative}.content-columns-wrapper{flex-grow:1;display:flex;flex-direction:row;overflow:hidden;height:100%}#kieai-studio-workspace{position:relative;top:auto;left:auto;flex-grow:1;flex-shrink:0;min-width:0;min-height:0;width:100%;background-color:var(--bg-workspace-chat);flex-direction:column;display:none;z-index:50}#kieai-studio-workspace:not(.hidden){display:flex}#world-workspace,#book-workspace{position:relative;top:auto;left:auto;flex-grow:1;flex-shrink:0;min-width:0;min-height:0;width:100%;background-color:var(--bg-workspace-chat);display:none;z-index:50}#world-workspace:not(.hidden){display:flex}#book-workspace:not(.hidden){display:flex}.main-content-wrapper.photo-studio-active .chat-messages,.main-content-wrapper.photo-studio-active #resizer-row,.main-content-wrapper.photo-studio-active .composer-panel,.main-content-wrapper.photo-studio-active .chat-input-wrapper{display:none!important}.main-content-wrapper.photo-studio-active #kieai-studio-workspace{flex:1 1 auto;min-height:0}.main-content-wrapper.world-workspace-active .chat-messages,.main-content-wrapper.world-workspace-active #resizer-row,.main-content-wrapper.world-workspace-active .composer-panel,.main-content-wrapper.world-workspace-active .chat-input-wrapper,.main-content-wrapper.world-workspace-active #kieai-studio-workspace{display:none!important}.main-content-wrapper.world-workspace-active #world-workspace,.main-content-wrapper.world-workspace-active #book-workspace{flex:1 1 auto;min-height:0}.world-workspace-shell{display:flex;flex-direction:column;flex:1 1 auto;min-height:0;width:100%;padding:14px 16px 16px;gap:12px;background:radial-gradient(circle at 100% 0%,#94a3b81a,#94a3b800 40%),radial-gradient(circle at 0% 100%,#3b82f60d,#3b82f600 45%),var(--bg-workspace-chat)}.book-workspace-shell{display:flex;flex-direction:column;flex:1 1 auto;min-height:0;width:100%;padding:14px 16px 16px;gap:12px;background:radial-gradient(circle at 100% 0%,#94a3b81a,#94a3b800 40%),radial-gradient(circle at 0% 100%,#10b9810d,#10b98100 45%),var(--bg-workspace-chat)}.world-workspace-header,.book-workspace-header{display:flex;align-items:flex-start;justify-content:space-between;gap:10px;padding:10px 12px;border:1px solid var(--border-color);border-radius:10px;background:var(--white-alpha-95);flex-shrink:0}.world-workspace-heading,.book-workspace-heading{min-width:0}.world-workspace-heading h2,.book-workspace-heading h2{margin:0;font-size:1rem;line-height:1.15}.world-workspace-heading p,.book-workspace-heading p{margin:4px 0 0;font-size:.8rem;color:#516072;line-height:1.25;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:min(72vw,700px)}.world-workspace-header-actions,.book-workspace-header-actions{display:inline-flex;flex-wrap:wrap;justify-content:flex-end;gap:6px;flex:0 0 auto}.world-workspace-content,.book-workspace-content{flex:1 1 auto;min-height:0;overflow-y:auto;padding-right:2px}.book-workspace-tabs{display:flex;align-items:center;gap:6px;flex-wrap:wrap}.book-workspace-tab-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid #d6e0ea;background:#f8fbff;color:#334155;border-radius:999px;padding:6px 10px;font-size:.75rem;line-height:1;cursor:pointer}.book-workspace-tab-btn:hover{background:#eef6ff;border-color:#bfdbfe}.book-workspace-tab-btn.active{background:#dbeafe;border-color:#93c5fd;color:#1e3a8a;font-weight:600}.book-workspace-pane{display:flex;flex-direction:column;gap:12px}.book-overview-board{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px;align-items:start}.book-overview-act-column{border:1px solid #d8e2ee;border-radius:12px;background:#fff;padding:10px;display:flex;flex-direction:column;gap:10px}.book-overview-act-heading{display:flex;flex-direction:column;gap:2px}.book-overview-act-title{font-weight:700;font-size:.95rem;color:#0f172a}.book-overview-act-meta{font-size:.75rem;color:#64748b}.book-overview-chapter-list{display:flex;flex-direction:column;gap:8px}.book-overview-chapter-card{border:1px solid #e2e8f0;border-radius:10px;background:#f8fafc;padding:8px;display:flex;flex-direction:column;gap:8px}.book-overview-chapter-card.is-active{border-color:#93c5fd;box-shadow:inset 0 0 0 1px #3b82f624;background:#f4f9ff}.book-overview-chapter-card-header{display:grid;grid-template-columns:minmax(0,1fr) auto;gap:6px;align-items:start}.book-overview-chapter-open{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;background:transparent;padding:0;margin:0;text-align:left;cursor:pointer;min-width:0}.book-overview-chapter-kicker{font-size:.72rem;color:#64748b}.book-overview-chapter-title{font-size:.88rem;font-weight:700;color:#111827;line-height:1.25}.book-overview-chapter-actions{display:flex;align-items:center}.book-overview-chapter-summary{font-size:.78rem;color:#334155;line-height:1.35;display:-webkit-box;-webkit-line-clamp:6;-webkit-box-orient:vertical;overflow:hidden}.book-overview-chapter-meta{display:flex;flex-wrap:wrap;gap:6px}.book-overview-empty{border:1px dashed #dbe3ec;border-radius:10px;background:#fcfdff;color:#516072;padding:10px;font-size:.78rem}.book-overview-empty.large{padding:14px}.book-composer-doc-list{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:10px}.book-composer-doc-card{border:1px solid #dce5ef;border-radius:10px;background:#fff;padding:10px}.book-composer-doc-card.is-selectable{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-align:left;cursor:pointer;width:100%}.book-composer-doc-card.is-selectable:hover{border-color:#bfdbfe;background:#f8fbff}.book-composer-doc-card.is-selectable.active{border-color:#93c5fd;background:#eff6ff;box-shadow:inset 0 0 0 1px #3b82f61f}.book-composer-doc-title{font-size:.8rem;font-weight:700;color:#0f172a}.book-composer-doc-meta{margin-top:4px;font-size:.73rem;color:#64748b}.book-composer-editor{background:#ffffffeb}.book-composer-active-doc-header{margin-bottom:10px}.book-composer-active-doc-title{font-size:.84rem;font-weight:700;color:#0f172a}.book-composer-active-doc-meta{margin-top:2px;font-size:.73rem;color:#64748b}.book-composer-export-card{margin-top:10px;border:1px solid #dbe4ee;border-radius:10px;background:#fbfdff;padding:10px}.book-composer-export-title{font-size:.78rem;font-weight:700;color:#334155;margin-bottom:8px}.world-workspace-content>.collapsible-section{margin:0 0 12px;border:1px solid #d5deea;border-radius:10px;background:#fff;overflow:visible}.world-workspace-content>.collapsible-section>.section-header{min-height:38px;padding:8px 10px;background:#f7fbff;border-bottom:1px solid #e5edf6}.world-workspace-content>.collapsible-section>.section-box{padding:10px;background:#fff}#chat-compose-workspace.hidden{display:none}.chat-input-wrapper.hidden{display:none!important}.workspace#agent-asset-studio{flex-direction:column;background-color:var(--bg-workspace-studio)}.studio-header{display:flex;justify-content:space-between;align-items:center;padding:.45rem .8rem;border-bottom:1px solid var(--border-color);flex-shrink:0}.studio-header h1{margin:0;font-size:.9rem;font-weight:600}.studio-header-actions{display:inline-flex;align-items:center;gap:4px}.studio-content{flex-grow:1;padding:.75rem}.studio-assets-container{max-width:900px;margin:0 auto;gap:1rem}#studio-panel .studio-header{padding:.45rem .8rem}#studio-panel .studio-header h1{font-size:.9rem;font-weight:600}#studio-panel .studio-content{padding:.75rem}#studio-panel .studio-assets-container{gap:1rem}#studio-panel .studio-assets-container>.collapsible-section{margin:0 0 10px;border:1px solid #d5deea;border-radius:10px;background:#fff;overflow:visible;position:relative;z-index:0}#studio-panel .studio-assets-container>.collapsible-section>.section-header{min-height:36px;padding:7px 10px;background:#f7fbff;border-bottom:1px solid #e5edf6}#studio-panel .studio-assets-container>.collapsible-section[open]>.section-header{border-bottom-color:#d7e3f1}#studio-panel .studio-assets-container>.collapsible-section>.section-box{padding:8px;background:#fff;transform-origin:top}#studio-panel .section-header h3{display:inline-flex;align-items:center;gap:6px;line-height:1;font-size:.84rem;font-weight:650}#studio-panel .section-header-actions{display:inline-flex;align-items:center;gap:4px}#studio-panel .section-header-actions .btn-icon,#studio-panel .section-header .section-mini-menu .btn-icon{width:24px;height:24px;font-size:15px}#studio-panel .section-header .section-mini-menu .dropdown-content{min-width:188px;z-index:1400}#studio-panel .studio-assets-container>.collapsible-section:has(.dropdown.open),#studio-panel .studio-assets-container>.collapsible-section.has-open-menu{z-index:20}#studio-panel #studio-visibility-menu{flex:0 0 auto}#studio-panel .studio-header-actions .studio-visibility-btn{width:24px;height:24px}#studio-panel .studio-visibility-dropdown{min-width:188px;padding:4px}#studio-panel .studio-visibility-heading{padding:5px 9px 3px;font-size:.6rem;font-weight:700;letter-spacing:.04em;text-transform:uppercase;color:#64748b}#studio-panel .studio-visibility-option{justify-content:space-between;gap:8px;font-size:var(--dropdown-menu-item-font-size);line-height:1.2}#studio-panel .studio-visibility-check{opacity:0;transition:opacity .14s ease}#studio-panel .studio-visibility-option.is-selected{background:#e9eef7;color:#1f2937}#studio-panel .studio-visibility-option.is-selected .studio-visibility-check{opacity:1}#studio-panel .studio-world-focus-card{margin-bottom:10px;padding:10px;border:1px solid var(--border-color);border-radius:8px;background:#fbfdff}#studio-panel .studio-world-focus-title{font-size:.78rem;font-weight:700;margin-bottom:4px}#studio-panel .studio-world-focus-meta{font-size:.74rem;color:#516072;margin-bottom:4px}#studio-panel .studio-world-focus-actions{display:flex;flex-wrap:wrap;gap:6px;margin-top:8px}#studio-panel .studio-world-inline-note{font-size:.73rem;color:#516072}#studio-panel .studio-world-quick-actions{margin-bottom:10px;padding:8px;border:1px dashed #d7dee8;border-radius:8px;background:#fcfdff}#studio-panel .studio-world-quick-button-row{display:flex;flex-wrap:wrap;gap:6px;margin-top:8px}#studio-panel .studio-world-item-meta{display:flex;align-items:center;flex-wrap:wrap;gap:5px;margin-top:3px;font-size:.72rem;color:#516072}#studio-panel .studio-world-meta-sep{opacity:.7}#studio-panel .studio-world-item-footer{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}#studio-panel .studio-world-pill{display:inline-flex;align-items:center;padding:1px 7px;border-radius:999px;border:1px solid #d7dee8;background:#f8fafc;color:#334155;font-size:.68rem;font-weight:600}#studio-panel .studio-world-pill.is-active{border-color:#86efac;background:#dcfce7;color:#166534}#studio-panel .studio-world-pill.is-linked{border-color:#93c5fd;background:#eff6ff;color:#1d4ed8}#studio-panel .studio-world-pill.is-pending{border-color:#fcd34d;background:#fffbeb;color:#92400e}#book-sidebar-slot{margin-bottom:8px}#book-sidebar-slot>.collapsible-section{margin:0 0 8px;border:1px solid #d5deea;border-radius:10px;background:#fff;overflow:visible}#book-sidebar-slot>.collapsible-section>.section-header{min-height:34px;padding:7px 10px;background:#f7fbff;border-bottom:1px solid #e5edf6}#book-sidebar-slot>.collapsible-section>.section-box{padding:8px;background:#fff}#book-sidebar-slot .section-header h3{display:inline-flex;align-items:center;gap:6px;line-height:1;font-size:.84rem;font-weight:650}#book-sidebar-slot .section-header-actions{display:inline-flex;align-items:center;gap:4px}#book-sidebar-slot .section-header-actions .btn-icon,#book-sidebar-slot .section-header .section-mini-menu .btn-icon{width:24px;height:24px;font-size:15px}#book-sidebar-slot .section-header .section-mini-menu .dropdown-content{min-width:188px;z-index:1400}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-focus-card{margin-bottom:10px;padding:10px;border:1px solid var(--border-color);border-radius:8px;background:#fbfdff}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-focus-title{font-size:.78rem;font-weight:700;margin-bottom:4px}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-focus-meta{font-size:.74rem;color:#516072;margin-bottom:4px}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-focus-actions{display:flex;flex-wrap:wrap;gap:6px;margin-top:8px}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .book-changes-card{display:flex;flex-direction:column;gap:6px}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .book-changes-status-pills{display:flex;flex-wrap:wrap;gap:6px}#world-workspace .world-workspace-status-pills{display:flex;flex-wrap:wrap;gap:6px;margin-top:2px}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .book-changes-actions.is-secondary{margin-top:0;padding-top:6px;border-top:1px dashed #dbe3ec}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .book-changes-setup-note{margin-top:2px;padding:8px 10px;border-radius:8px;border:1px dashed #cbd5e1;background:#f8fbff}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .book-changes-empty-card{margin-top:2px}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-continuity-block{margin-top:8px;padding-top:8px;border-top:1px dashed #dbe3ec}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-continuity-heading{font-size:.72rem;font-weight:700;color:#334155;margin-bottom:6px}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-continuity-list{display:flex;flex-direction:column;gap:6px}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-continuity-row{display:grid;grid-template-columns:auto 1fr;gap:6px;align-items:start;padding:6px;border-radius:8px;border:1px solid #e2e8f0;background:#fff}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-continuity-row.is-warning{border-color:#fde68a;background:#fffbeb}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-continuity-row.is-info{border-color:#dbeafe;background:#f8fbff}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-continuity-text{font-size:.72rem;line-height:1.35;color:#334155;word-break:break-word}#studio-panel .studio-world-continuity-block{margin-top:8px;padding-top:8px;border-top:1px dashed #dbe3ec}#studio-panel .studio-world-continuity-heading{font-size:.72rem;font-weight:700;color:#334155;margin-bottom:6px}#studio-panel .studio-world-continuity-list{display:flex;flex-direction:column;gap:6px}#studio-panel .studio-world-continuity-row{display:grid;grid-template-columns:auto 1fr;gap:6px;align-items:start;padding:6px;border-radius:8px;border:1px solid #e2e8f0;background:#fff}#studio-panel .studio-world-continuity-row.is-warning{border-color:#fde68a;background:#fffbeb}#studio-panel .studio-world-continuity-row.is-info{border-color:#dbeafe;background:#f8fbff}#studio-panel .studio-world-continuity-text{font-size:.72rem;line-height:1.35;color:#334155;word-break:break-word}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-inline-note{font-size:.73rem;color:#516072}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-quick-actions{margin-bottom:10px;padding:8px;border:1px dashed #d7dee8;border-radius:8px;background:#fcfdff}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-quick-button-row{display:flex;flex-wrap:wrap;gap:6px;margin-top:8px}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-item-meta{display:flex;align-items:center;flex-wrap:wrap;gap:5px;margin-top:3px;font-size:.72rem;color:#516072}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-meta-sep{opacity:.7}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-item-footer{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-pill{display:inline-flex;align-items:center;padding:1px 7px;border-radius:999px;border:1px solid #d7dee8;background:#f8fafc;color:#334155;font-size:.68rem;font-weight:600}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-pill.is-active{border-color:#86efac;background:#dcfce7;color:#166534}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-pill.is-linked{border-color:#93c5fd;background:#eff6ff;color:#1d4ed8}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-pill.is-pending{border-color:#fcd34d;background:#fffbeb;color:#92400e}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-pill.is-danger{border-color:#fecaca;background:#fef2f2;color:#b91c1c}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-pill.is-muted{border-color:#d7dee8;background:#f8fafc;color:#475569}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-inline-editor{margin-top:8px;padding:8px;border:1px solid #d7dee8;border-radius:8px;background:#fff}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-inline-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:8px}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-inline-grid.is-compact{grid-template-columns:repeat(auto-fit,minmax(120px,1fr))}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-inline-field{display:flex;flex-direction:column;gap:4px;font-size:.72rem;color:#516072}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-inline-field-label{font-weight:600}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-inline-input,:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-inline-select,:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-inline-textarea{width:100%;border:1px solid #cbd5e1;border-radius:6px;background:#fff;color:#1f2937;padding:6px 8px;font:inherit;line-height:1.25}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-inline-textarea{resize:vertical;min-height:48px}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-inline-checkbox{display:flex;align-items:center;gap:6px;min-height:30px;padding:4px 2px;font-size:.72rem;color:#334155}:is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-inline-editor-actions{display:flex;flex-wrap:wrap;gap:6px;margin-top:8px}#book-sidebar-slot .book-tree-list{display:flex;flex-direction:column;gap:8px}#book-sidebar-slot .book-tree-book-block{border:1px solid #e2e8f0;border-radius:10px;background:#fbfdff;overflow:visible;position:relative}#book-sidebar-slot .book-tree-book-block.is-active-book{border-color:#93c5fd;box-shadow:inset 0 0 0 1px #3b82f626}#book-sidebar-slot .book-tree-row{display:grid;grid-template-columns:minmax(0,1fr) auto;align-items:center;gap:6px;padding:6px 8px}#book-sidebar-slot .book-tree-row.is-book{grid-template-columns:auto minmax(0,1fr) auto;background:#f8fbff;border-bottom:1px solid #e8eef6;cursor:pointer}#book-sidebar-slot .book-tree-row.is-book.active{background:#eef6ff}#book-sidebar-slot .book-tree-collapse-toggle{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;background:transparent;color:#475569;width:22px;height:22px;border-radius:6px;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;padding:0;margin-right:2px;line-height:1}#book-sidebar-slot .book-tree-collapse-toggle:hover{background:#e8f0fb;color:#1e3a8a}#book-sidebar-slot .book-tree-collapse-toggle.is-act-toggle{width:20px;height:20px}#book-sidebar-slot .book-tree-collapse-toggle:focus-visible{outline:2px solid #93c5fd;outline-offset:1px}#book-sidebar-slot .book-tree-row.is-act{grid-template-columns:auto minmax(0,1fr) auto;padding-left:14px;background:#fcfdff}#book-sidebar-slot .book-tree-row.is-chapter{padding-left:22px;cursor:pointer;border-top:1px dashed #edf2f7;background:#fff;position:relative}#book-sidebar-slot .book-tree-row.is-chapter:hover{background:#f8fbff}#book-sidebar-slot .book-tree-row.is-chapter.is-dragging{opacity:.55}#book-sidebar-slot .book-tree-row.is-chapter.is-drop-before:before,#book-sidebar-slot .book-tree-row.is-chapter.is-drop-after:after{content:"";position:absolute;left:8px;right:8px;height:2px;background:#2563eb;border-radius:2px;pointer-events:none}#book-sidebar-slot .book-tree-row.is-chapter.is-drop-before:before{top:-1px}#book-sidebar-slot .book-tree-row.is-chapter.is-drop-after:after{bottom:-1px}#book-sidebar-slot .book-tree-row.is-chapter.active{background:#eff6ff}#book-sidebar-slot .book-tree-row-label{min-width:0;display:flex;flex-direction:column;gap:1px}#book-sidebar-slot .book-tree-row-primary{font-size:.78rem;font-weight:600;color:#1f2937;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#book-sidebar-slot .book-tree-row.is-act .book-tree-row-primary{font-size:.74rem;font-weight:700;color:#475569;text-transform:uppercase;letter-spacing:.02em}#book-sidebar-slot .book-tree-row-secondary{font-size:.7rem;color:#64748b;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#book-sidebar-slot .book-tree-row-actions{display:flex;align-items:center;position:relative;z-index:2}#book-sidebar-slot .book-tree-row-actions .dropdown .btn-icon{width:22px;height:22px;font-size:14px}#book-sidebar-slot .book-tree-row-actions>.book-tree-quick-agent-btn{width:22px;height:22px;min-width:22px;margin-right:4px;font-size:10px;font-weight:700;line-height:1}#book-sidebar-slot .book-tree-row-actions .dropdown.open{z-index:1200}#book-sidebar-slot .book-tree-children{display:flex;flex-direction:column}#book-sidebar-slot .book-tree-children.is-book-root{background:#fff}#book-sidebar-slot .book-tree-book-block.is-collapsed>.book-tree-children.is-book-root{display:none}#book-sidebar-slot .book-tree-act-block.is-collapsed>.book-tree-children{display:none}#book-sidebar-slot .book-tree-act-block+.book-tree-act-block .book-tree-row.is-act{border-top:1px solid #eef2f7}#book-sidebar-slot .book-tree-empty{display:flex;flex-direction:column;gap:8px;padding:10px;border:1px dashed #dbe3ec;border-radius:8px;background:#fcfdff;font-size:.73rem;color:#516072}#book-sidebar-slot .book-tree-empty-actions{display:flex;flex-wrap:wrap;gap:6px}#book-sidebar-slot .world-book-settings-modal-box{width:min(760px,92vw);max-width:760px}.world-book-settings-modal-header{display:flex;align-items:center;justify-content:space-between;gap:12px}.world-book-settings-modal-header h3{margin:0}.world-book-settings-modal-meta{margin-top:6px;font-size:.8rem;color:#64748b}.world-book-settings-modal-body{margin-top:10px}.world-book-settings-modal-body .studio-world-inline-editor{margin-top:0}.world-book-settings-modal-helper{display:flex;flex-direction:column;gap:6px}.world-book-settings-modal-quick-actions{display:flex;flex-wrap:wrap;gap:8px;margin:0 0 10px}#world-workspace .studio-world-preview{margin-top:10px;padding-top:10px;border-top:1px solid #e5edf6}#world-workspace .studio-world-change-reason{margin-top:8px;padding-top:8px;border-top:1px dashed #e5edf6}#world-workspace .studio-world-change-diff{margin-top:8px;border:1px solid #e5edf6;border-radius:8px;background:#fcfdff;overflow:hidden}#world-workspace .studio-world-change-diff>summary{padding:7px 10px;cursor:pointer;font-size:.75rem;font-weight:600;background:#f8fbff;border-bottom:1px solid #e5edf6}#world-workspace .studio-world-change-diff-body{display:flex;flex-direction:column;gap:6px;padding:8px}#world-workspace .studio-world-change-diff-row{display:grid;grid-template-columns:minmax(72px,110px) minmax(0,1fr) minmax(0,1fr);gap:6px;align-items:start}#world-workspace .studio-world-change-diff-key{font-size:.7rem;font-weight:700;color:#334155;text-transform:none;word-break:break-word}#world-workspace .studio-world-change-diff-value{font-size:.72rem;line-height:1.3;color:#334155;padding:5px 6px;border-radius:6px;border:1px solid #e2e8f0;background:#fff;white-space:pre-wrap;word-break:break-word}#world-workspace .studio-world-change-diff-value.is-before{background:#fff7ed;border-color:#fed7aa}#world-workspace .studio-world-change-diff-value.is-after{background:#ecfdf5;border-color:#a7f3d0}#world-workspace .studio-world-change-diff-row.is-added .studio-world-change-diff-value.is-before,#world-workspace .studio-world-change-diff-row.is-removed .studio-world-change-diff-value.is-after{opacity:.65}#world-workspace .studio-world-change-evidence{margin-top:2px;padding-top:6px;border-top:1px dashed #e5edf6;font-size:.7rem;color:#516072;line-height:1.35;word-break:break-word}#world-workspace .studio-world-reviewed-block{margin-top:10px;border:1px solid #e5edf6;border-radius:8px;background:#fbfdff;overflow:hidden}#world-workspace .studio-world-reviewed-block>summary{padding:8px 10px;cursor:pointer;font-size:.8rem;font-weight:600;background:#f8fbff;border-bottom:1px solid #e5edf6}#studio-panel .studio-world-pill.is-danger{border-color:#fca5a5;background:#fef2f2;color:#991b1b}#studio-panel .studio-world-pill.is-muted{border-color:#cbd5e1;background:#f8fafc;color:#475569}#studio-panel .book-project-item.is-session-linked{border-left:3px solid #60a5fa;padding-left:8px}#studio-panel .studio-world-preview{margin-top:12px;padding-top:10px;border-top:1px solid var(--border-color)}#studio-panel .world-change-item.is-pending{border-left:3px solid #f59e0b;padding-left:8px}#studio-panel .studio-world-change-reason{margin-top:7px;padding-top:7px;border-top:1px dashed #dbe3ec;line-height:1.35;white-space:pre-wrap}#studio-panel .studio-world-reviewed-block{margin-top:10px;border:1px solid var(--border-color);border-radius:8px;background:#fff;overflow:hidden}#studio-panel .studio-world-reviewed-block>summary{padding:8px 10px;font-size:.78rem;font-weight:600;background:#f8fafc;border-bottom:1px solid var(--border-color)}#studio-panel .studio-world-reviewed-block>.item-list{padding:8px}.studio-selected-entity-slot{flex-shrink:0;padding:.5rem .75rem .35rem;border-bottom:1px solid var(--border-color);background:var(--bg-workspace-studio)}.selected-entity-section{margin-bottom:12px;padding:12px;border:1px solid var(--border-color);border-radius:10px;background:#fff;box-shadow:0 2px 8px #0f172a0d}.selected-entity-heading{display:flex;align-items:baseline;justify-content:space-between;flex-wrap:wrap;gap:10px;margin-bottom:10px}.selected-entity-title{display:flex;align-items:center;gap:8px}.selected-entity-heading h4{margin:0;font-size:.92rem}.selected-entity-badge{display:inline-flex;align-items:center;justify-content:center;min-height:18px;padding:0 7px;border-radius:999px;font-size:.67rem;font-weight:600;letter-spacing:.02em}.selected-entity-badge.is-active{color:#0f5132;background:#dcfce7;border:1px solid #86efac}.selected-entity-badge.is-pending{color:#92400e;background:#ffedd5;border:1px solid #fcd34d}.selected-entity-source{font-size:.74rem;color:#64748b}.selected-entity-current{display:flex;align-items:center;gap:10px;padding:10px;border-radius:8px;border:1px solid #dbeafe;background:#f8fbff}.selected-entity-current.is-active-entity{border-color:#4ade80;background:#ecfdf3;box-shadow:0 0 0 1px #22c55e38 inset}.selected-entity-current.is-missing{border-color:#f59e0b;background:#fff8e7}.selected-entity-icon{font-size:1.2rem;line-height:1}.selected-entity-info{min-width:0}.selected-entity-name{font-size:.9rem;font-weight:700;color:#1e293b}.selected-entity-meta{margin-top:2px;font-size:.76rem;color:#475569}.selected-entity-empty{font-size:.8rem;color:#64748b}.selected-entity-pending{margin-top:10px;padding-top:10px;border-top:1px dashed var(--border-color)}.selected-entity-pending-header{display:flex;align-items:center;gap:8px}.selected-entity-pending-text{font-size:.78rem;color:#b45309}.selected-entity-pending-hint{margin-top:4px;font-size:.72rem;color:#8a5a08}.selected-entity-actions{display:flex;gap:8px;margin-top:8px}.selected-entity-section.is-compact{margin:0;padding:7px 9px;border-radius:8px;box-shadow:none}.selected-entity-section.is-compact .selected-entity-heading{margin-bottom:5px;gap:6px}.selected-entity-section.is-compact .selected-entity-heading h4{font-size:.8rem}.selected-entity-section.is-compact .selected-entity-source{font-size:.68rem}.selected-entity-section.is-compact .selected-entity-badge{min-height:16px;padding:0 6px;font-size:.62rem}.selected-entity-section.is-compact .selected-entity-current{gap:8px;padding:6px 8px;border-radius:6px}.selected-entity-section.is-compact .selected-entity-current.is-active-entity{border-color:#22c55e;background:#ecfdf3;box-shadow:0 0 0 1px #22c55e33 inset}.selected-entity-section.is-compact .selected-entity-icon{font-size:1.02rem}.selected-entity-section.is-compact .selected-entity-name{font-size:.82rem;font-weight:700;line-height:1.2}.selected-entity-section.is-compact .selected-entity-meta{display:none}.selected-entity-section.is-compact .selected-entity-current.is-missing .selected-entity-meta{display:block;margin-top:2px;font-size:.7rem}.selected-entity-section.is-compact .selected-entity-empty{font-size:.74rem}.selected-entity-section.is-compact .selected-entity-pending{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:6px;margin-top:6px;padding-top:6px}.selected-entity-section.is-compact .selected-entity-pending-header{gap:6px}.selected-entity-section.is-compact .selected-entity-pending-text{font-size:.72rem}.selected-entity-section.is-compact .selected-entity-actions{gap:6px;margin-top:0}.selected-entity-section.is-compact .selected-entity-actions .btn{min-height:24px;padding:0 8px;font-size:.7rem}#studio-panel .studio-header,#studio-panel .studio-header *,#studio-panel .studio-toolbar,#studio-panel .studio-toolbar *,#studio-panel .section-header,#studio-panel .section-header *,#studio-panel .item-header,#studio-panel .item-header *,#studio-panel .memory-section,#studio-panel .memory-section *,#studio-panel .selected-entity-section,#studio-panel .selected-entity-section *,#studio-panel .btn,#studio-panel .btn-icon,#studio-panel .dropdown-content a{-webkit-user-select:none;-moz-user-select:none;user-select:none}#studio-panel input,#studio-panel textarea,#studio-panel select{-webkit-user-select:text;-moz-user-select:text;user-select:text}.selected-entity-name-btn{padding:0;border:0;background:transparent;color:inherit;font:inherit;text-align:left;cursor:pointer}.selected-entity-name-btn:hover{text-decoration:underline}.item-list>.item.selected-entity-jump-highlight{border-color:var(--accent-color);box-shadow:0 0 0 2px #38bdf859;animation:studioEntityJumpHighlight 1.1s ease}@keyframes studioEntityJumpHighlight{0%{transform:translateY(0)}20%{transform:translateY(-2px)}to{transform:translateY(0)}}.composer-panel{display:flex;flex-direction:column;flex-shrink:0;min-height:100px;width:100%;background-color:var(--bg-color-secondary);border-top:1px solid var(--border-color);transition:flex-basis .3s ease,min-height .3s ease;overflow:hidden;position:relative;z-index:5}.composer-panel.collapsed{flex-basis:0!important;min-height:0!important;border-top-width:0;overflow:hidden}.composer-panel.collapsed>*{display:none}.composer-header{display:flex;align-items:center;justify-content:space-between;padding:8px 15px;border-bottom:1px solid var(--border-color);flex-shrink:0}.composer-header h3{margin:0;font-size:1rem;display:flex;align-items:center;gap:8px}.composer-actions{display:flex;align-items:center;gap:5px}.composer-editor{flex-grow:1;min-height:0;padding:15px 50px;outline:none;line-height:1.6;overflow-y:auto}.composer-panel.fullscreen{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:2500;flex-basis:100vh!important;min-height:100vh!important;border:none}.composer-header{display:flex;align-items:center;justify-content:space-between;padding:4px 10px;border-bottom:1px solid var(--border-color);flex-shrink:0;gap:10px}.composer-title-area{flex:1}.composer-tools-area{display:flex;justify-content:center;align-items:center;gap:4px;flex:2}.composer-actions{flex:1;display:flex;justify-content:flex-end}.composer-actions .btn-icon.is-active{background:var(--workspace-switcher-active-bg);color:var(--workspace-switcher-active-color)}.composer-tools-area .btn-icon.small{width:28px;height:28px}.composer-tools-area .btn-icon.small .material-symbols-outlined{font-size:18px}.composer-tools-area .dropdown .btn-icon.small{font-size:1rem}.toolbar-divider{width:1px;height:18px;background-color:var(--border-color);margin:0 4px}.composer-toolbar .btn-icon.is-active{background-color:var(--primary-color-dark);color:var(--text-dark)}body.dark-mode .composer-toolbar{background-color:#2d3748;border-bottom-color:#4a5568}body.dark-mode .composer-toolbar .btn-icon.is-active{background-color:var(--accent-color-dark);color:#fff}#color-palette{grid-template-columns:repeat(5,1fr);gap:5px;padding:10px;width:150px}.dropdown.open #color-palette{display:grid}.color-swatch{width:24px;height:24px;border-radius:50%;cursor:pointer;border:1px solid var(--border-color);transition:transform .1s ease}.color-swatch:hover{transform:scale(1.1)}.composer-editor{flex-grow:1;padding:15px 20px;outline:none;line-height:1.6;overflow-y:auto;color:#1a202c}.composer-editor *{font-size:inherit}.composer-editor h1,.composer-editor h2,.composer-editor h3{margin-top:1em;margin-bottom:.5em;line-height:1.3}.composer-editor h1{font-size:2em;font-weight:600}.composer-editor h2{font-size:1.5em;font-weight:600}.composer-editor h3{font-size:1.25em;font-weight:600}.composer-editor p{font-size:1em;font-weight:400}.composer-editor ul,.composer-editor ol{padding-left:30px;list-style-position:inside}.main-content-wrapper.composer-maximized .chat-messages,.main-content-wrapper.composer-maximized #resizer-row{display:none}.main-content-wrapper.composer-maximized .composer-panel{flex-grow:1;flex-basis:auto;height:100%}.main-content-wrapper.composer-maximized.composer-peek-chat .chat-messages{display:flex;flex:0 1 42%;min-height:180px}.main-content-wrapper.composer-maximized.composer-peek-chat #resizer-row{display:block}.main-content-wrapper.composer-maximized.composer-peek-chat .composer-panel{height:auto;flex:1 1 auto}.ProseMirror p.is-editor-empty:first-child:before{content:attr(data-placeholder);float:left;color:#adb5bd;pointer-events:none;height:0}.composer-panel.is-resizing{transition:none!important}#composer-panel{display:flex;flex-direction:column;overflow:hidden;min-height:100px}#composer-panel.is-resizing{transition:none!important}#composer-panel .composer-header{flex-shrink:0}.composer-editor{flex-grow:1;min-height:0;overflow-y:auto;padding:15px 50px}.ProseMirror{height:100%;outline:none}.composer-editor .ProseMirror blockquote{margin:.75rem 0;padding-left:1rem;border-left:3px solid var(--border-color);font-style:italic;opacity:.8}.composer-editor .ProseMirror blockquote p{margin:0}body.dark-mode .composer-editor .ProseMirror blockquote{border-left-color:#4a5568;background-color:#ffffff0d;padding-top:.5rem;padding-bottom:.5rem;border-radius:4px}.ProseMirror mark{background-color:#faf594;padding:1px 3px;border-radius:3px}body.dark-mode .ProseMirror mark{background-color:#b49100;color:#f8f9fa}.font-size-selector{width:110px;height:30px;padding:4px 6px;border:1px solid var(--border-color);border-radius:6px;background-color:var(--bg-color-secondary);margin:0 4px}body.dark-mode .font-size-selector{background-color:#2d3748;border-color:#4a5568;color:var(--text-dark)}.ProseMirror{font-size:16px}#kieai-studio-workspace,#photo-studio-root{width:100%;height:100%}#photo-studio-root .photo-studio-workspace{box-sizing:border-box;min-height:100%;overflow-x:hidden;padding:12px 14px!important}#photo-studio-root .photo-studio-layout{min-height:0;gap:14px!important}#photo-studio-root .photo-studio-results-column{min-height:0}#photo-studio-root .photo-studio-topbar{justify-content:flex-start!important;margin-bottom:8px!important;min-height:0}#photo-studio-root .photo-studio-title{margin:0;line-height:1.15;font-size:1.05rem!important;letter-spacing:-.01em}#photo-studio-root .photo-studio-mobile-panel-toggle{display:none}#photo-studio-root .photo-studio-mobile-panel-body{display:block}#photo-studio-root .photo-studio-mobile-panel-body-inner{min-height:0}@media (max-width: 768px){#photo-studio-root .photo-studio-workspace{padding:calc(10px + env(safe-area-inset-top)) 10px calc(10px + env(safe-area-inset-bottom)) 10px!important}#photo-studio-root .photo-studio-topbar{display:flex;flex-direction:column;align-items:stretch;gap:10px;margin-bottom:12px!important;position:sticky;top:0;z-index:6;padding:8px;border-radius:12px;border:1px solid var(--ps-border-500, rgba(148, 163, 184, .35));background:var(--ps-bg-800, #1e293b);background:color-mix(in srgb,var(--ps-bg-800, #1e293b) 92%,transparent);-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}#photo-studio-root .photo-studio-title{font-size:1.1rem!important;line-height:1.25;word-break:break-word;margin:0}#photo-studio-root .photo-studio-topbar-actions{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:8px;width:100%}#photo-studio-root .photo-studio-topbar-btn{width:100%;min-height:36px;padding:8px 10px!important;font-size:.8rem;line-height:1.15}#photo-studio-root .photo-studio-layout{display:flex;flex-direction:column;gap:12px!important;overflow:visible!important}#photo-studio-root .photo-studio-form-column,#photo-studio-root .photo-studio-results-column{width:100%!important;min-width:0}#photo-studio-root .photo-studio-form-panel{padding:12px!important;gap:12px!important}#photo-studio-root .photo-studio-form-column .photo-studio-form-panel>h4:first-child,#photo-studio-root .photo-studio-results-column .photo-studio-results>h4:first-child{display:none}#photo-studio-root .photo-studio-mobile-panel{display:flex;flex-direction:column;gap:8px}#photo-studio-root .photo-studio-mobile-panel-toggle{display:flex;width:100%;align-items:center;gap:8px;min-height:40px;padding:8px 10px;border-radius:10px;border:1px solid var(--ps-border-500, rgba(148, 163, 184, .35));background:var(--ps-bg-700, #334155);color:var(--ps-text-primary, #ffffff);-moz-user-select:none;user-select:none;-webkit-user-select:none}#photo-studio-root .photo-studio-mobile-panel-toggle:focus-visible{outline:2px solid var(--ps-accent-cyan, #22d3ee);outline-offset:1px}#photo-studio-root .photo-studio-mobile-panel-title{display:inline-flex;align-items:center;gap:6px;min-width:0;font-weight:700;font-size:.88rem;line-height:1.1}#photo-studio-root .photo-studio-mobile-panel-title .material-symbols-outlined{font-size:18px;line-height:1}#photo-studio-root .photo-studio-mobile-panel-count{display:inline-flex;align-items:center;justify-content:center;min-width:18px;height:18px;padding:0 5px;border-radius:999px;background:var(--ps-bg-600, #475569);color:var(--ps-text-200, #e5e7eb);font-size:.72rem;font-weight:700}#photo-studio-root .photo-studio-mobile-panel-meta{margin-left:auto;color:var(--ps-text-400, #94a3b8);font-size:.72rem;white-space:nowrap}#photo-studio-root .photo-studio-mobile-panel-toggle-icon{font-size:18px;line-height:1;color:var(--ps-text-300, #cbd5e1)}#photo-studio-root .photo-studio-mobile-panel-body{display:grid;grid-template-rows:1fr;transition:grid-template-rows .18s ease,opacity .18s ease}#photo-studio-root .photo-studio-mobile-panel.is-collapsed .photo-studio-mobile-panel-body{grid-template-rows:0fr;opacity:.2}#photo-studio-root .photo-studio-mobile-panel-body-inner{min-height:0;overflow:hidden}#photo-studio-root .photo-studio-form-panel h4{font-size:1rem!important}#photo-studio-root .photo-studio-two-col-grid{grid-template-columns:1fr!important;gap:12px!important}#photo-studio-root .photo-studio-form-panel .tw-flex.tw-gap-2{flex-wrap:wrap}#photo-studio-root .photo-studio-form-panel .tw-flex.tw-gap-2>*{min-width:0}#photo-studio-root .photo-studio-results{margin-top:0!important}#photo-studio-root .photo-studio-workspace img.tw-max-h-40{max-height:28vh!important}#photo-studio-root .photo-studio-workspace .tw-max-h-\[60vh\]{max-height:42vh!important}}@media (max-width: 420px){#photo-studio-root .photo-studio-topbar-actions{grid-template-columns:1fr}#photo-studio-root .photo-studio-mobile-panel-toggle{min-height:38px;padding:7px 9px}#photo-studio-root .photo-studio-mobile-panel-title{font-size:.84rem}#photo-studio-root .photo-studio-mobile-panel-meta{font-size:.68rem;max-width:34vw;overflow:hidden;text-overflow:ellipsis}}.message-turn-wrapper.user-turn{align-items:flex-end;position:relative;padding-top:1.5em}.message{padding:12px 18px;border-radius:18px;position:relative;line-height:1.6;outline:none;box-sizing:border-box;max-width:90%}.message-content{word-wrap:break-word}.message.user{background-color:#eaf5fe;color:var(--user-bubble-edit-text-color);display:table;table-layout:fixed;max-width:90%;border-radius:18px}.message.assistant{background:#fff;border:1px solid var(--border-color);border-bottom-left-radius:5px;width:100%;max-width:100%}.message.system{max-width:-moz-fit-content;max-width:fit-content;text-align:center;background:#f0f4f8;color:#64748b;font-style:italic;font-size:.85rem;padding:8px 15px;border-radius:15px;border:1px solid var(--border-color)}.message-content>*{margin-top:0;margin-bottom:0}.message-content>*+*{margin-top:1em}.message-content>*:last-child{margin-bottom:0}.message.assistant .message-content{line-height:1.7}.message-content h3{font-size:1.1rem;font-weight:700;margin-top:1.5em;margin-bottom:.5em;padding-bottom:.3em;border-bottom:1px solid var(--border-color)}.message-content ul{list-style:none;padding-left:0}.message-content ul li{padding-left:1.5em;position:relative;margin-bottom:.5em}.message-content ul li:before{content:"";position:absolute;left:0;top:0;color:var(--primary-color)}.message-content ol{padding-left:1.5em;list-style-position:outside}.message-content ol li{margin-bottom:.5em;padding-left:.5em}body.dark-mode .message-content ul li:before{color:var(--accent-color)}.message-actions{position:absolute;bottom:-32px;display:flex;gap:5px;background:transparent;-webkit-backdrop-filter:none;backdrop-filter:none;padding:4px;border:none;opacity:1;z-index:10}.message.user .message-actions{left:auto;right:4px}.message.assistant .message-actions{left:4px}.message-actions button{background:transparent;border:none;width:28px;height:28px;font-size:16px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center}.message.user .message-actions button{color:#000000b3}.message-actions button:hover{background:#e2e8f0;color:var(--text-dark)}.message.user .message-actions button:hover{background:#0000004d;color:#fff}.message-content img.multimodal-image{display:block;max-width:100%;max-height:300px;border-radius:8px;margin-top:10px;-o-object-fit:contain;object-fit:contain}.message.is-editing{width:100%!important;max-width:100%!important;min-height:5em}.message-turn-wrapper.is-editing-child{width:100%}.message.user .inline-edit-textarea{background-color:#ffffff1a;color:var(--user-bubble-edit-text-color)!important;border-color:var(--text-light)}.message.assistant .message-content>*{margin-top:0;margin-bottom:0}.message.assistant .message-content img{display:block;max-width:100%;max-height:60vh;height:auto;-o-object-fit:contain;object-fit:contain;margin:5px 0;border-radius:8px;box-shadow:0 2px 5px #0000001a}.message.assistant .message-content p+p{margin-top:1em}.message.assistant .message-content ul,.message.assistant .message-content ol,.message.assistant .message-content pre{margin-top:.75em;margin-bottom:.75em}.message.assistant .message-content>*:last-child{margin-bottom:0!important}.speaker-label-wrapper{margin-bottom:5px;padding:0 10px}.speaker-label{font-weight:700;font-size:.9em;color:#2563eb;display:inline-flex;align-items:center;gap:6px}.inline-edit-actions{display:flex;gap:10px;margin-top:8px;justify-content:flex-end}.inline-edit-container{width:100%;display:flex;flex-direction:column;gap:.5em}.inline-edit-textarea{width:100%;box-sizing:border-box;font-family:inherit;font-size:1em;border:1.5px solid #bbb;border-radius:.8em;padding:.5em .8em;outline:none;transition:border .2s;resize:none;overflow-y:hidden}.inline-edit-textarea:focus{border:1.5px solid #2866d9;box-shadow:0 0 3px #2866d988}body.dark-mode .inline-edit-textarea:focus{border-color:#7f9cf5;box-shadow:0 0 3px #7f9cf580}.chat-input-wrapper{background:transparent;padding:10px 20px;flex-shrink:0;position:relative;z-index:30;display:flex;flex-direction:column}#file-preview-container+.chat-input-wrapper{margin-top:12px}.chat-panel-bottom{position:relative;z-index:30}.input-container-seamless{position:relative;width:100%;background-color:var(--bg-color-secondary);border:1px solid var(--border-color);border-radius:24px;display:flex;align-items:center;padding:5px;transition:all .2s ease}.input-container-seamless:focus-within{border-color:var(--primary-color);box-shadow:0 0 0 3px var(--shadow-light);background:transparent!important}#chatInput{flex-grow:1;width:100%;background-color:transparent;border:none;border-radius:24px;resize:none;line-height:1.5;color:var(--text-dark);max-height:200px;overflow-y:auto;margin:0;min-height:38px;padding:8px 10px;scrollbar-width:none;-ms-overflow-style:none}#chatInput::-webkit-scrollbar{display:none}#chatInput:focus{outline:none;box-shadow:none}.input-container-seamless{flex-direction:column;align-items:stretch;padding:12px 12px 8px}#chatInput{background:transparent;border:none;padding:0 4px;margin-bottom:8px;min-height:24px}.input-actions-row{display:flex;justify-content:space-between;align-items:center}.input-actions-left,.input-actions-right{display:flex;align-items:center;gap:8px}.input-actions-right .btn{width:36px;height:36px}#chat-actions-btn{width:36px;height:36px;font-size:18px;padding:0;color:#5f6368;background:none!important;border:none!important;border-radius:50%;display:flex;align-items:center;justify-content:center}#sendBtn,#stopBtn{width:36px;height:36px;font-size:16px;padding:0;border-radius:50%;display:flex;align-items:center;justify-content:center}#chat-actions-menu{position:absolute;bottom:110%;left:0;background-color:#fff;min-width:250px;box-shadow:0 8px 16px #00000026;z-index:100;border-radius:8px;overflow:hidden;padding:5px 0;border:1px solid var(--border-color)}#chat-actions-menu a{color:var(--text-dark);padding:8px 14px;text-decoration:none;display:block;font-size:var(--dropdown-menu-item-font-size);cursor:pointer}#chat-actions-menu a:hover{background-color:#f1f1f1}#file-preview-container.hidden{display:none!important;margin-bottom:0}#file-preview-container{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:12px;margin-bottom:12px;padding:0;background:transparent;width:100%}.file-preview-item{position:relative;border-radius:8px;overflow:hidden;aspect-ratio:1 / 1;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#f0f4f8;border:1px solid var(--border-color)}.file-preview-thumbnail{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.file-preview-thumbnail.file-icon{font-size:48px;color:#718096;display:flex;align-items:center;justify-content:center}.file-preview-name{position:absolute;bottom:0;left:0;right:0;font-size:12px;font-weight:500;background:#00000080;color:#fff;padding:4px 6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}.remove-file-btn{position:absolute;top:4px;right:4px;background:#0009;color:#fff;border-radius:50%;border:1.5px solid white;width:22px;height:22px;cursor:pointer;font-weight:700;display:flex;align-items:center;justify-content:center;line-height:1;font-size:14px;box-shadow:0 1px 3px #0000004d;z-index:2;transition:background .2s ease}.remove-file-btn:hover{background:#e53e3ee6}.message-turn-wrapper{display:flex;flex-direction:column;width:100%;max-width:820px}.message-turn-wrapper.assistant-turn{align-items:flex-start}.message-turn-wrapper.system-turn{align-items:center}.message{padding:12px 18px;border-radius:18px;position:relative;max-width:90%}.message-content{word-wrap:break-word;line-height:1.6}.message-content>*{margin:0;padding:0}.message-content>*+*{margin-top:.75em}.message-content>*:last-child{margin-bottom:0!important}.message-content h1,.message-content h2,.message-content h3,.message-content h4,.message-content h5{margin-top:1.2em;margin-bottom:.6em;line-height:1.3}.message-content h1{font-size:1.8em}.message-content h2{font-size:1.5em}.message-content h3{font-size:1.25em}.message-content ul,.message-content ol{padding-left:1.6em}.message-content blockquote{border-left:3px solid var(--border-color);padding:.4em 1em;background:#f7f7f7}body.dark-mode .message-content blockquote{border-left-color:#56657a;background:#6e7daf17}.message-content tr:nth-child(2n){background-color:transparent}body.dark-mode .message-content th{background-color:#2d3748}body.dark-mode .message-content tr:nth-child(2n){background-color:transparent}.message-content table{border-collapse:collapse;margin:1em 0;width:100%;font-size:.95em;border:1px solid var(--border-color)}.message-content th,.message-content td{border:1px solid var(--border-color);padding:8px 12px;text-align:left}.message-content th{font-weight:600;background-color:#f6f8fa}.message-content tr:nth-child(2n){background-color:#f6f8fa}body.dark-mode .message-content th{background-color:#202732}body.dark-mode .message-content tr:nth-child(2n){background-color:#202732}.message.system-summary-message{width:100%;max-width:100%;background:#eef2f7;color:#4a5568;border:1px dashed #d1d8e0;font-size:.9rem;padding:15px 20px}body.dark-mode .message.system-summary-message{background:#232d3e;color:#a0aec0;border-color:#4a5568}.message-timestamp{opacity:0;transition:opacity .2s ease-in-out;font-size:.75rem;color:#a0aec0;pointer-events:none;font-weight:400}.message-turn-wrapper:hover .message-timestamp{opacity:1}.speaker-info-wrapper{display:flex;align-items:baseline;gap:8px;margin-bottom:5px;padding:0 10px}.speaker-info-wrapper .speaker-label{font-weight:700;font-size:.9em;color:#2563eb;display:inline-flex;align-items:center;gap:6px}.user-turn>.message-timestamp{position:absolute;top:-.2em;right:8px}.message.summary-marker{display:flex;justify-content:space-between;align-items:center;background-color:#e6f4ea;border:1px solid #c8e6c9;color:#2e7d32}body.dark-mode .message.summary-marker{background-color:#2c3e32;border-color:#4caf50;color:#a5d6a7}.summary-marker-actions{display:flex;gap:5px;margin-left:15px}.summary-marker-actions .btn-icon.small{width:28px;height:28px}.summary-marker-actions .btn-icon.small .material-symbols-outlined{font-size:18px}.message-content img{display:block;max-width:100%;max-height:60vh;height:auto;-o-object-fit:contain;object-fit:contain;margin:5px 0;border-radius:8px;box-shadow:0 2px 5px #0000001a}.message-content img.multimodal-image{display:block;max-width:100%;max-height:50vh;height:auto;border-radius:12px;margin-top:8px;margin-bottom:8px;-o-object-fit:contain;object-fit:contain}.agent-selector-bar{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;margin-bottom:12px;padding:8px;background-color:#0000000d;border-radius:12px}body.dark-mode .agent-selector-bar{background-color:#ffffff0d}.agent-selector-bar.hidden{display:none}.agent-selector-bar .agent-select-btn{padding:6px 12px;font-size:.8rem;background-color:var(--bg-color-secondary);border:1px solid var(--border-color);border-radius:15px;cursor:pointer;transition:all .2s ease}.agent-selector-bar .agent-select-btn:hover{background-color:var(--accent-color);color:#fff;border-color:var(--accent-color)}.rag-source-strip{margin-top:8px;display:flex;flex-wrap:wrap;gap:6px;align-items:center}.rag-source-title{font-size:.72rem;color:#486581}.rag-source-chip{-moz-appearance:none;appearance:none;-webkit-appearance:none;display:inline-flex;align-items:center;font-size:.7rem;line-height:1.4;border:1px solid #bfdff5;color:#1d4e89;background:#eef7ff;border-radius:999px;padding:2px 8px;cursor:pointer;transition:background .15s ease,border-color .15s ease}.rag-source-chip:hover{background:#dff0ff;border-color:#8bc5ec}.rag-source-chip:focus-visible{outline:2px solid #60a5fa;outline-offset:1px}.rag-debug-panel{margin-top:8px;border:1px solid #d7e3f0;background:#f8fbff;border-radius:10px;padding:8px;font-size:.74rem}.rag-debug-panel.hidden{display:none}.rag-debug-summary{color:#102a43}.rag-debug-reason{margin-top:4px;color:#486581}.rag-debug-list{margin-top:8px;display:flex;flex-direction:column;gap:6px}.rag-debug-item{border:1px solid #e1ecf7;background:#fff;border-radius:8px;padding:6px}.rag-debug-item-title{color:#1f3c5b;font-weight:600}.rag-debug-item-excerpt{margin-top:3px;color:#334e68;white-space:pre-wrap}.message-actions button.active{background:#dbeafe;color:#1e40af}.session-info-content h4{margin:10px 0 6px;font-size:.9rem}.session-info-content pre{margin:0;padding:10px;border-radius:8px;border:1px solid var(--border-color);background:#f8fbff;white-space:pre-wrap;font-size:.78rem;line-height:1.45}.message.assistant{border-radius:16px}.message.assistant .message-content{line-height:1.72;font-size:.96rem;color:inherit;overflow-wrap:anywhere;word-break:normal}.message.assistant .message-content>*{margin:0!important}.message.assistant .message-content>*+*{margin-top:.85rem!important}.message.assistant .message-content>:is(h1,h2,h3,h4,h5,h6)+*{margin-top:.55rem!important}.message.assistant .message-content :is(p,li){line-height:1.72}.message.assistant .message-content :is(strong,b){font-weight:650}.message.assistant .message-content :is(em,i){font-style:italic}.message.assistant .message-content :is(h1,h2,h3,h4,h5,h6){font-weight:700;line-height:1.28;letter-spacing:-.01em;margin-top:1.2rem!important;margin-bottom:0!important;padding:0!important;border-bottom:none!important}.message.assistant .message-content h1{font-size:1.32rem!important}.message.assistant .message-content h2{font-size:1.16rem!important}.message.assistant .message-content h3{font-size:1.04rem!important}.message.assistant .message-content h4{font-size:.99rem!important}.message.assistant .message-content h5,.message.assistant .message-content h6{font-size:.94rem!important}.message.assistant .message-content a{color:#0f62c9;text-decoration:underline;text-decoration-thickness:1px;text-underline-offset:.12em;word-break:break-word}.message.assistant .message-content a:hover{color:#0b4ea2}.message.assistant .message-content ul,.message.assistant .message-content ol{padding-left:1.35rem!important;margin-left:.1rem;list-style-position:outside}.message.assistant .message-content ul{list-style:disc}.message.assistant .message-content ul ul{list-style-type:circle}.message.assistant .message-content ul ul ul{list-style-type:square}.message.assistant .message-content ol{list-style:decimal}.message.assistant .message-content li{position:static!important;padding-left:0!important;margin:.3rem 0!important}.message.assistant .message-content ul li:before{content:none!important;display:none!important}.message.assistant .message-content li>:is(p,ul,ol){margin-top:.35rem!important}.message.assistant .message-content li>input[type=checkbox]{margin-right:.45rem;accent-color:var(--accent-color);vertical-align:text-bottom;pointer-events:none}.message.assistant .message-content hr{border:0;border-top:1px solid #dbe3ee;margin:.9rem 0!important}.message.assistant .message-content blockquote{margin:0!important;padding:.55rem .9rem!important;border-left:3px solid #c9d8ea!important;border-radius:0 10px 10px 0;background:#f7faff!important;color:#475569}.message.assistant .message-content blockquote>*+*{margin-top:.55rem!important}.message.assistant .message-content img{border-radius:12px}.message.assistant .message-content .message-table-wrapper{margin:.85rem 0;border:1px solid #dbe3ee;border-radius:10px;overflow-x:auto;overflow-y:hidden;background:#fff}.message.assistant .message-content .message-table-wrapper table{margin:0!important;width:-moz-max-content;width:max-content;min-width:100%;border:0!important;border-collapse:separate;border-spacing:0;display:table;font-size:.92rem}.message.assistant .message-content .message-table-wrapper th,.message.assistant .message-content .message-table-wrapper td{padding:8px 10px!important;border-right:1px solid #e5edf6;border-bottom:1px solid #e5edf6;border-left:0!important;border-top:0!important;vertical-align:top}.message.assistant .message-content .message-table-wrapper th{background:#f8fbff!important;font-weight:650}.message.assistant .message-content .message-table-wrapper tr:last-child td{border-bottom:0}.message.assistant .message-content .message-table-wrapper :is(th,td):last-child{border-right:0}.message.assistant .message-content code{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,monospace;font-size:.86em;background:#eef2f7;color:#1e293b;border:1px solid #dde5ef;border-radius:6px;padding:.12em .38em}.message.assistant .message-content pre{margin:0!important;padding:13px 14px;border-radius:0 0 10px 10px;border:0;background:#f8fafc;font-size:.84rem;line-height:1.55}.message.assistant .message-content pre code{background:transparent;border:0;border-radius:0;padding:0;font-size:inherit;color:inherit}.message.assistant .code-block-wrapper.is-plain-text pre{white-space:pre-wrap;overflow-x:visible;overflow-wrap:anywhere;word-break:break-word;font-family:inherit;font-size:.93rem;line-height:1.65}.message.assistant .code-block-wrapper.is-plain-text pre code{white-space:inherit;overflow-wrap:inherit;word-break:inherit;font-family:inherit}.message.assistant .code-block-wrapper{margin:.85rem 0;border-radius:10px;border:1px solid #dbe3ee;background:#f8fafc;box-shadow:none}.message.assistant .code-block-header{padding:7px 10px;border-bottom:1px solid #e4ebf3;background:#f8fafc;color:#475569;font-size:.76rem}.message.assistant .language-name{font-weight:600;text-transform:lowercase}.message.assistant .copy-code-btn{border:1px solid transparent;border-radius:7px;padding:3px 7px;font-size:.74rem}.message.assistant .copy-code-btn:hover{background:#e9eff7;border-color:#d9e4f1}@media (pointer: coarse){.message.assistant .copy-code-btn{background:#ffffffb3;border-color:#dbe3ee}}body.dark-mode .message.assistant .message-content{color:#dbe7f5}body.dark-mode .message.assistant .message-content a{color:#99d1ff}body.dark-mode .message.assistant .message-content a:hover{color:#c1e5ff}body.dark-mode .message.assistant .message-content hr{border-top-color:#334155}body.dark-mode .message.assistant .message-content blockquote{border-left-color:#475569!important;background:#0f172a!important;color:#cbd5e1}body.dark-mode .message.assistant .message-content .message-table-wrapper{border-color:#334155;background:#111827}body.dark-mode .message.assistant .message-content .message-table-wrapper th,body.dark-mode .message.assistant .message-content .message-table-wrapper td{border-right-color:#334155;border-bottom-color:#334155}body.dark-mode .message.assistant .message-content .message-table-wrapper th{background:#1f2937!important;color:#e2e8f0}body.dark-mode .message.assistant .message-content code{background:#334155;color:#e5edf7;border-color:#475569}body.dark-mode .message.assistant .code-block-wrapper{border-color:#334155;background:#0f172a}body.dark-mode .message.assistant .code-block-header{background:#0f172a;border-bottom-color:#334155;color:#cbd5e1}body.dark-mode .message.assistant .message-content pre{background:#0f172a;color:#dbe7f5}body.dark-mode .message.assistant .copy-code-btn:hover{background:#1f2937;border-color:#334155}.message.user .message-content{overflow-wrap:anywhere;word-break:break-word}.message.user .message-content .user-content-stream{display:block;min-width:0}.message.user .message-content .user-text-paragraph{white-space:pre-wrap;line-height:1.6;margin:0}.message.user .message-content .user-text-paragraph+.user-text-paragraph{margin-top:.45rem}.message.user.user-collapsible .message-content{position:relative;transition:max-height .18s ease}.message.user.user-collapsible.is-user-collapsed .message-content{max-height:8.8rem;overflow:hidden}.message.user.user-collapsible.is-user-collapsed .message-content:after{content:"";position:absolute;left:0;right:0;bottom:0;height:2.2rem;background:linear-gradient(to bottom,#eaf5fe00,#eaf5fef5);pointer-events:none}body.dark-mode .message.user.user-collapsible.is-user-collapsed .message-content:after{background:linear-gradient(to bottom,#070a1100,#070a11f5)}.message-bubble{position:relative}.send-to-composer-btn{position:absolute;top:8px;right:8px;width:28px;height:28px;border-radius:50%;background-color:var(--bg-color);box-shadow:0 1px 3px #0000001a;display:flex;align-items:center;justify-content:center;font-size:1rem;z-index:5;opacity:0;visibility:hidden;transition:opacity .2s ease,transform .2s ease;transform:scale(.8)}.message-bubble:hover .send-to-composer-btn{opacity:1;visibility:visible;transform:scale(1)}.message.sent-to-composer-feedback{transition:transform .2s ease-out,box-shadow .2s ease-out;transform:scale(.98);box-shadow:0 0 15px 2px var(--accent-color)}#settings-panel.modal-box{max-width:1100px;width:95vw;height:90vh;max-height:850px}#settings-panel .modal-body{display:flex;flex-direction:column;overflow:hidden;padding-top:15px;padding-left:0;padding-right:0}#settings-panel .tab-content{padding:0;margin-top:15px}.tab-buttons{display:flex;border-bottom:1px solid var(--border-color);flex-shrink:0}.tab-btn{padding:12px 16px;cursor:pointer;border:none;background:none;border-bottom:3px solid transparent;margin-bottom:-1px;font-size:.9rem;color:var(--text-dark);display:flex;align-items:center;gap:8px}.tab-btn.active{border-bottom-color:var(--accent-color);font-weight:600}.tab-btn .material-symbols-outlined{pointer-events:none}#settings-panel .tab-content{display:none;margin-top:20px}#settings-panel .tab-content.active{display:flex;flex-direction:column;flex-grow:1;min-height:0}body.dark-mode .tab-btn.active,body.dark-mode .settings-header .close-settings-btn{color:var(--text-dark)}.section-box{background:transparent;border:none;padding:0;margin-bottom:5px;position:relative}.section-header{display:flex;justify-content:space-between;align-items:center;width:100%}.section-header h3{margin:0;font-size:1rem;font-weight:600;color:#4a5568;flex-grow:1}.section-header .btn-icon{color:#718096;font-weight:700}.flex-group{display:flex;gap:10px;align-items:center}.flex-group>select{flex-grow:1}.api-provider-switches{display:grid;gap:8px;margin:12px 0 14px;padding:10px;border:1px solid var(--border-color);border-radius:10px;background:#f8fafc}.api-provider-switch-row{display:flex;align-items:center;justify-content:space-between;gap:12px}.api-provider-switch-meta{display:grid;gap:2px}.api-provider-switch-title{font-size:.9rem;font-weight:600;color:#2d3748}.api-provider-switch-desc{font-size:.78rem;color:#64748b}.api-toggle{position:relative;display:inline-block;width:42px;height:24px}.api-toggle input{opacity:0;width:0;height:0;position:absolute}.api-toggle-track{position:absolute;inset:0;border-radius:999px;background:#cbd5e1;transition:background-color .2s ease}.api-toggle-track:before{content:"";position:absolute;width:18px;height:18px;left:3px;top:3px;border-radius:50%;background:#fff;transition:transform .2s ease;box-shadow:0 1px 2px #0003}.api-toggle input:checked+.api-toggle-track{background:#2563eb}.api-toggle input:checked+.api-toggle-track:before{transform:translate(18px)}.api-toggle input:disabled+.api-toggle-track{background:#e2e8f0;opacity:.7;cursor:not-allowed}#context-inspector-modal .modal-box{max-width:700px}#context-inspector-modal pre{white-space:pre-wrap;word-wrap:break-word;background:#f7fafc;padding:15px;border-radius:8px;border:1px solid var(--border-color);max-height:40vh;overflow-y:auto;font-size:14px}#context-inspector-modal .info-grid{display:grid;grid-template-columns:120px 1fr;gap:10px;margin-bottom:20px}#context-inspector-modal .info-grid strong{font-weight:600}.context-debugger-page{display:flex;flex-direction:column;flex:1 1 auto;height:100%;min-height:0;background:var(--bg-workspace-chat)}.context-debugger-page-header{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 16px;border-bottom:1px solid var(--border-color);background:#fff}.context-debugger-page-title{display:flex;align-items:center;gap:8px}.context-debugger-page-title h3{margin:0}#context-debugger-back-btn{width:32px;height:32px;display:inline-flex;align-items:center;justify-content:center}.context-debugger-header-actions{display:flex;align-items:center;gap:8px}.context-debugger-body{display:flex;flex-direction:column;gap:12px;padding:14px 16px;overflow-y:auto;min-height:0}.context-debugger-summary-grid{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));gap:8px}.context-debugger-card{border:1px solid var(--border-color);border-radius:8px;background:#f8fafc;padding:8px;min-height:58px}.context-debugger-card .label{font-size:.72rem;color:#64748b}.context-debugger-card .value{margin-top:4px;font-weight:600;font-size:.84rem;color:#1e293b;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.context-debugger-panels{display:grid;grid-template-columns:minmax(240px,.32fr) minmax(0,1fr);gap:10px;min-height:420px}.context-debugger-turns-panel,.context-debugger-detail-panel{border:1px solid var(--border-color);border-radius:10px;padding:10px;background:#fff;display:flex;flex-direction:column;min-height:0}.context-debugger-turns-panel h4,.context-debugger-detail-panel h4{margin:0 0 8px}#context-debugger-turn-list{overflow-y:auto;min-height:0;flex:1}.context-debugger-turn-item{border:1px solid var(--border-color);border-radius:8px;padding:7px 9px;margin-bottom:6px;cursor:pointer;background:#f8fafc}.context-debugger-turn-item.active{border-color:#0ea5e9;background:#e0f2fe}.context-debugger-turn-item-role{font-size:.74rem;color:#64748b}.context-debugger-turn-item-title{margin-top:3px;font-weight:600;font-size:.84rem;color:#1e293b}.context-debugger-turn-item-meta{margin-top:4px;font-size:.74rem;color:#475569}.context-debugger-turn-detail{border:1px solid var(--border-color);border-radius:8px;background:#f8fafc;padding:10px;min-height:140px;max-height:290px;overflow-y:auto;font-size:.84rem}.context-debugger-turn-detail pre,#context-debugger-assembly{white-space:pre-wrap;word-break:break-word;background:#f8fafc;border:1px solid var(--border-color);border-radius:8px;padding:10px;margin:0}#context-debugger-assembly{margin-top:8px;flex:1;min-height:200px;max-height:320px;overflow-y:auto;font-size:.8rem}.context-debugger-empty{color:#64748b;font-size:.82rem}.folder-settings-modal-box{max-width:760px}.folder-settings-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}.folder-settings-toggle-row{display:flex;align-items:center;justify-content:space-between;gap:12px;border:1px solid var(--border-color);border-radius:10px;background:#f8fafc;padding:10px 12px;margin:8px 0 10px}.folder-settings-toggle-meta{display:grid;gap:2px}.folder-settings-toggle-title{font-size:.9rem;font-weight:600;color:#2d3748}.folder-settings-toggle-desc{font-size:.78rem;color:#64748b}.folder-settings-file-list.is-disabled{opacity:.55;pointer-events:none}@media (max-width: 980px){.context-debugger-page-header{align-items:flex-start;flex-direction:column}.context-debugger-summary-grid{grid-template-columns:repeat(2,minmax(0,1fr))}.context-debugger-panels{grid-template-columns:1fr;min-height:0}#context-debugger-assembly{min-height:150px}}@media (max-width: 640px){.folder-settings-grid{grid-template-columns:1fr}}#group-member-list{flex-grow:1;overflow-y:auto;border:1px solid var(--border-color);border-radius:8px;padding:10px}#group-member-list label{display:flex;align-items:center;gap:10px;padding:5px}.agent-sortable-item{display:flex;align-items:center;padding:8px;background-color:#f9fafb;border:1px solid var(--border-color);border-radius:6px;margin-bottom:5px}.agent-sortable-item label{flex-grow:1;margin-bottom:0;margin-left:10px;cursor:grab}.agent-sortable-item:active{cursor:grabbing}.agent-sortable-item .drag-handle{cursor:grab;color:#9ca3af;margin-left:auto;padding:0 5px}.agent-sortable-item .drag-handle:active{cursor:grabbing}.agent-editor-column,.agent-enhancer-column{display:flex;flex-direction:column;gap:15px}.agent-enhancer-column{background-color:#f7fafc;padding:20px;border-radius:12px;border:1px solid var(--border-color)}.agent-enhancer-column h4{margin-top:0}.enhancer-status-box{margin-top:10px;font-size:.9rem;color:#4a5568}#summaryLogList .summary-group{padding-left:10px;margin-bottom:5px}#summaryLogList .summary-group summary{font-size:.8rem;color:#4a5568;font-weight:700}.summary-log-item{background:#f7fafc;border:1px solid transparent;border-left:3px solid var(--border-color);padding:6px 8px;margin:4px 0 4px 10px;font-size:.8rem;border-radius:4px}.summary-log-item.active{border-left-color:var(--success-color);background:#f0fff8;font-weight:700}.summary-log-item-header{display:flex;align-items:center;justify-content:space-between}.summary-log-item-title{font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-right:5px}.summary-log-item-actions{display:flex;flex-shrink:0}.summary-log-item-actions button{font-size:14px;width:24px;height:24px}#view-summary-modal .modal-box{max-width:700px}#view-summary-modal pre{white-space:pre-wrap;word-wrap:break-word}.modal-body-columns{display:flex;flex-grow:1;gap:20px;overflow:hidden}.modal-column.left{flex:1;min-width:280px}.tab-buttons{display:flex;flex-direction:row;border-bottom:1px solid var(--border-color);flex-shrink:0;margin-bottom:10px}.tab-content{display:none;flex-grow:1;overflow-y:auto}.modal-column{display:flex;flex-direction:column;min-height:0}.modal-column.left{flex:1;min-width:300px;border-right:1px solid var(--border-color);padding-right:20px}.modal-column.right{flex:2}#summary-log-list-modal .item{cursor:pointer}#summary-editor-actions{display:flex;gap:10px}#summary-editor-actions.hidden{display:none}#summarization-modal .modal-box{display:flex;flex-direction:column;width:90vw;max-width:950px;height:85vh;max-height:800px}#summarization-modal .modal-body{display:flex;flex-grow:1;overflow:hidden;min-height:0;gap:20px}@media (min-width: 801px){#summarization-modal .modal-body{flex-direction:row}#summarization-modal .log-list-column{display:flex;flex-direction:column;flex:1;min-height:0;border-right:1px solid var(--border-color);padding-right:20px}#summarization-modal #summary-log-list-modal{flex-grow:1;overflow-y:auto}#summarization-modal .log-editor-column{display:flex;flex-direction:column;flex:2}}@media (max-width: 800px){#summarization-modal .modal-body{flex-direction:column}#summarization-modal .log-list-column{flex-shrink:0;height:40vh;max-height:280px;border-right:none;padding-right:0;display:flex;flex-direction:column}#summarization-modal #summary-log-list-modal{flex-grow:1;overflow-y:auto}#summarization-modal .log-editor-column{display:flex!important;flex-grow:1;min-height:0;flex-direction:column}}.modal-body{display:flex;flex-direction:column;overflow:hidden}.tab-btn{padding:10px 15px;cursor:pointer;border:none;background:none;border-bottom:3px solid transparent;margin-bottom:-1px;display:flex;align-items:center;gap:8px;font-size:.9rem;color:var(--text-dark);transition:all .2s ease}.tab-btn:hover{background-color:#f8fafc}.tab-btn.active{border-bottom-color:var(--accent-color);color:var(--text-dark);font-weight:600}.tab-content-container{flex-grow:1;overflow-y:auto;padding:20px;position:relative}.tab-content.active{display:flex;flex-direction:column;gap:15px}.input-with-button{display:flex;gap:5px}.input-with-button input{flex-grow:1}.tab-content.is-locked{position:relative}body.dark-mode .tab-btn{color:#94a3b8}body.dark-mode .tab-btn:hover{background-color:#374151}body.dark-mode .tab-btn.active{color:var(--text-dark)}.tab-content .locked-overlay{position:absolute;inset:0;background:#f8fafcb3;z-index:10;display:none;flex-direction:column;align-items:center;justify-content:center;text-align:center;font-weight:600;color:#4a5568;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);border-radius:8px}.tab-content.is-locked .locked-overlay{display:flex}body.dark-mode .tab-content .locked-overlay{background:#1a202ccc;color:#cbd5e0}.tags-input-container{border:1px solid var(--border-color);border-radius:8px;padding:8px;display:flex;flex-wrap:wrap;gap:8px;align-items:center}.tags-input-container:focus-within{border-color:var(--primary-color);box-shadow:0 0 0 3px var(--shadow-light)}.tags-input-container input{border:none;outline:none;box-shadow:none;flex-grow:1;min-width:150px;padding:5px;background:transparent}.tag-pill{background-color:#e2e8f0;padding:5px 12px;border-radius:15px;font-size:.85rem;display:flex;align-items:center;gap:8px;font-weight:500}.tag-pill .remove-tag{cursor:pointer;font-weight:700;font-size:1rem;line-height:1}body.dark-mode .tag-pill{background-color:#4a5568}.scrollable-list-group{flex-grow:1;display:flex;flex-direction:column;min-height:200px}.item-list-scrollable.compact{flex-grow:1;border:1px solid var(--border-color);padding:8px;border-radius:8px}.item-list-scrollable.compact .item{display:flex;justify-content:space-between;align-items:center;padding:6px 10px;border-bottom:1px solid var(--border-color)}.item-list-scrollable.compact .item:last-child{border-bottom:none}.form-group-inline{display:flex;flex-wrap:wrap;gap:20px;align-items:center}.system-tab-content-grid{display:grid;grid-template-columns:.5fr 1.5fr;gap:25px;align-items:start}.tab-content.active .system-tab-content-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px;align-items:start}.form-fields-column{display:flex;flex-direction:column;gap:8px;padding-right:15px}.form-fields-column .form-group{margin-bottom:0}#agent-editor-modal .modal-box{width:calc(100vw - 40px);max-width:none;height:85vh;min-height:650px;display:flex;flex-direction:column;overflow:hidden;padding-left:10px;padding-right:10px}#agent-editor-modal .modal-header{flex-shrink:0;padding:0 25px 15px;border-bottom:1px solid var(--border-color)}#agent-editor-modal .modal-header h3{margin:0}#agent-editor-modal .modal-body{flex-grow:1;min-height:0;display:flex;flex-direction:column}#agent-editor-modal .modal-actions{flex-shrink:0;margin-top:auto;padding:15px 25px 5px;border-top:1px solid var(--border-color)}#agent-editor-modal .tab-buttons{display:flex;flex-shrink:0;border-bottom:1px solid var(--border-color)}#agent-editor-modal .tab-btn{cursor:pointer;border:none;background:none;border-bottom:3px solid transparent;margin-bottom:-1px;display:flex;align-items:center;gap:8px;font-size:.9rem;color:#64748b;transition:all .2s ease}#agent-editor-modal .tab-btn:hover{background-color:#f8fafc}#agent-editor-modal .tab-btn.active{border-bottom-color:var(--accent-color);color:var(--text-dark);font-weight:600}#agent-editor-modal .tab-content-container{flex-grow:1;overflow-y:auto;padding:25px}#agent-editor-modal .tab-content{display:none}#agent-editor-modal .tab-content.active{display:flex;flex-direction:column;gap:20px}#agent-editor-modal .details-grid{margin-top:0;display:grid;grid-template-columns:140px 1fr;gap:25px;align-items:start;padding:0 5px}#agent-editor-modal .profile-picture-column{display:flex;flex-direction:column;justify-content:center;padding-top:5px;gap:10px}#agent-editor-modal .profile-picture-wrapper{position:relative;width:120px;height:120px;border-radius:12px;overflow:hidden;background-color:var(--border-color)}#agent-editor-modal #agent-profile-picture-preview{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}#agent-editor-modal .profile-picture-wrapper .upload-overlay{position:absolute;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;color:#fff;cursor:pointer;opacity:0;transition:opacity .2s}#agent-editor-modal .profile-picture-wrapper:hover .upload-overlay{opacity:1}#agent-editor-modal .form-fields-column{display:flex;flex-direction:column;gap:8px}#agent-editor-modal .form-fields-column .form-group{margin-bottom:0}#agent-editor-modal .system-tab-content-grid{display:grid;grid-template-columns:1fr 1fr;gap:25px;align-items:start}body.dark-mode #agent-editor-modal .tab-btn{color:#8c9bb6}body.dark-mode #agent-editor-modal .tab-btn:hover{background-color:#3e4c5f;color:#e2e8f0}.modal-box .form-group>label{display:block;margin-bottom:8px;font-weight:600;font-size:.9rem;color:#4a5568}body.dark-mode .modal-box .form-group>label{color:#cbd5e0}.modal-box input[type=text],.modal-box input[type=number],.modal-box input[type=password],.modal-box textarea{background-color:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:10px 12px;width:100%;transition:all .2s ease}.modal-box input[type=text]:focus,.modal-box input[type=number]:focus,.modal-box input[type=password]:focus,.modal-box textarea:focus{border-color:var(--primary-color);box-shadow:0 0 0 3px var(--shadow-light);background-color:#fff}body.dark-mode .modal-box input[type=text],body.dark-mode .modal-box input[type=number],body.dark-mode .modal-box input[type=password],body.dark-mode .modal-box textarea{background-color:#2d3748;border-color:#4a5568;color:var(--text-dark)}body.dark-mode .modal-box input[type=text]:focus,body.dark-mode .modal-box input[type=number]:focus,body.dark-mode .modal-box input[type=password]:focus,body.dark-mode .modal-box textarea:focus{background-color:#1e293b;border-color:var(--accent-color)}body.dark-mode .modal-box .tab-btn.active{color:#fff;background-color:#374151;border-bottom-color:transparent;border-top-left-radius:6px;border-top-right-radius:6px}body.dark-mode .modal-box .tab-btn{color:#94a3b8}body.dark-mode .modal-box .tab-btn:hover{background-color:#4a5568;color:#e2e8f0}.emoji-picker-wrapper{position:relative;width:-moz-fit-content;width:fit-content}.emoji-picker-button{font-size:2rem;padding:5px 5px 5px 25px;width:50px;height:50px;background-color:transparent;cursor:pointer;line-height:1;border:none}emoji-picker{position:absolute;top:100%;left:0;z-index:2500;margin-top:5px;opacity:1;visibility:visible;pointer-events:auto;transform:translateY(0);transition:opacity .15s ease,transform .15s ease,visibility .15s}emoji-picker.emoji-picker-collapsed{opacity:0;visibility:hidden;pointer-events:none;transform:translateY(-4px)}.icon-id-row{display:grid;grid-template-columns:auto 1fr;gap:20px;align-items:baseline}.icon-id-row .form-group{margin-bottom:0}.param-wrapper{display:flex;align-items:center;justify-content:space-between;padding:6px 8px;margin-bottom:6px;background:#f6f8fc;border-radius:7px;border:1px solid #e1e7ef;min-height:36px;box-sizing:border-box;gap:.5rem}.param-name{color:#1c2537;font-size:.98em;font-weight:500;margin-right:10px;min-width:120px;flex:1 1 auto;letter-spacing:.01em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.param-control{display:flex;align-items:center;flex:0 1 150px;gap:8px}.param-control input[type=range]{width:90px;accent-color:#458fff;background:transparent;margin:0;height:3px}.param-control input[type=number],.param-control input[type=text]{width:48px;border:1px solid #e1e7ef;border-radius:5px;background:#fff;color:#273052;padding:2px 6px;font-size:.98em}.param-reset-btn{margin-left:8px;background:#e6ebf7;color:#5073d7;border:none;border-radius:4px;padding:2px 10px;font-size:.93em;cursor:pointer;transition:background .16s}.param-reset-btn:hover{background:#d4e1ff;color:#1946c6}.param-value{margin-left:10px;color:#9da8c7;font-size:.98em;min-width:64px;text-align:right;flex-shrink:0;font-weight:500}.param-value.custom{color:#52b38a;font-weight:600}@media (max-width: 640px){.param-wrapper{flex-direction:column;align-items:stretch;min-height:unset}.param-value{text-align:left;margin-left:0;margin-top:4px}}body.dark-mode .param-wrapper{background:#232a37;border-color:#273e52}body.dark-mode .param-name,body.dark-mode .param-control input,body.dark-mode .param-value{color:#e6eaff}body.dark-mode .param-value.custom{color:#4adfb0}body.dark-mode .param-reset-btn{background:#2c3a5a;color:#b5cfff}body.dark-mode .param-reset-btn:hover{background:#324a74;color:#fff}.agent-metadata{margin-top:15px;font-size:.75rem;color:#94a3b8;display:flex;flex-direction:column;width:100%}.metadata-item{margin-bottom:8px}.metadata-item .label{display:block;margin-bottom:3px;font-weight:600}.metadata-input{background:transparent;border:1px solid transparent;color:#cbd5e0;text-align:right;font-size:.75rem;padding:2px 4px;border-radius:4px;width:100px;transition:all .2s ease}.metadata-input:hover,.metadata-input:focus{border-color:var(--border-color);background:#374151}#agent-editor-modal .agent-metadata{margin-top:15px;display:flex;flex-direction:column;width:100%}#agent-editor-modal .agent-metadata,#agent-editor-modal .agent-metadata .label,#agent-editor-modal .agent-metadata span,#agent-editor-modal .agent-metadata input{font-size:.75rem!important;color:#94a3b8}#agent-editor-modal .metadata-input{width:100%;text-align:left}.studio-toolbar{display:flex;align-items:center;gap:6px;padding:6px 10px;border-bottom:1px solid var(--border-color);background-color:var(--bg-color-secondary);flex-shrink:0;font-size:.68rem}.search-wrapper{flex-grow:1;display:flex;align-items:center;background:var(--bg-color);border-radius:5px;padding:0 5px;border:1px solid var(--border-color);height:26px}.search-wrapper .material-symbols-outlined{color:#94a3b8;font-size:.95rem}#asset-search-input{border:none;background:transparent;padding:4px;width:100%;font-size:.72rem}#asset-search-input:focus{box-shadow:none}.sort-wrapper{display:flex;align-items:center;gap:3px;font-size:.68rem;color:#64748b}#asset-sort-select{padding:2px 5px;font-size:.68rem;border-radius:4px;height:26px}.studio-toolbar .dropdown .btn-icon{height:26px;width:26px;line-height:26px;font-size:.95rem}.banner-warning{display:flex;align-items:flex-start;gap:10px;padding:12px;background-color:#fffbeb;border:1px solid #fcd34d;border-radius:8px;color:#b45309;font-size:.9rem}.banner-warning.hidden{display:none}body.dark-mode .banner-warning{background-color:#422006;border-color:#b45309;color:#fcd34d}body.dark-mode .studio-toolbar{background-color:#1e293b;border-bottom-color:#374151}body.dark-mode .search-wrapper{background-color:#2d3748;border-color:#4a5568}body.dark-mode #asset-search-input::-moz-placeholder{color:#94a3b8}body.dark-mode #asset-search-input::placeholder{color:#94a3b8}body.dark-mode .sort-wrapper{color:#cbd5e0}body.dark-mode #asset-sort-select{background-color:#2d3748;border-color:#4a5568;color:var(--text-dark)}.searchable-select-wrapper.has-warning input[type=text]{border-color:#f59e0b;box-shadow:0 0 0 3px #f59e0b33}body.dark-mode .searchable-select-wrapper.has-warning input[type=text]{border-color:#f59e0b;box-shadow:0 0 0 3px #f59e0b4d}#agent-editor-modal .modal-box{display:flex;flex-direction:column;width:94vw;max-width:1000px;height:88dvh;max-height:88dvh}#agent-editor-modal .modal-body{flex:1 1 auto;min-height:0;overflow:auto}@media (max-width: 600px){#agent-editor-modal .modal-body{padding-left:8px;padding-right:8px}}#agent-editor-modal .tab-buttons{position:sticky;top:0;z-index:1}@media (max-width: 860px){#agent-editor-modal .details-grid{grid-template-columns:1fr;gap:16px}#agent-editor-modal .profile-picture-column{flex-direction:row;align-items:center;gap:12px}#agent-editor-modal .profile-picture-wrapper{width:84px;height:84px;border-radius:10px}#agent-editor-modal .agent-metadata{margin-top:0;font-size:.78rem}#agent-editor-modal .icon-id-row{grid-template-columns:auto 1fr;gap:12px;align-items:center}#agent-editor-modal .emoji-picker-button{font-size:1.6rem;width:40px;height:40px}#agent-editor-modal .system-tab-content-grid{grid-template-columns:1fr;gap:16px}}#agent-editor-modal .form-fields-column{gap:10px;padding-right:0}#agent-editor-modal .form-group{margin-bottom:10px}@media (max-width: 860px){#agent-editor-modal details[open]>summary{position:sticky;top:42px;z-index:1;background:var(--bg-color-secondary)}}#agent-editor-modal .searchable-select-wrapper{width:100%}#agent-editor-modal textarea{min-height:120px;resize:vertical}@media (max-width: 680px){#agent-editor-modal .form-group>label{position:absolute!important;width:1px!important;height:1px!important;margin:-1px!important;padding:0!important;overflow:hidden!important;clip:rect(0 0 0 0)!important;white-space:nowrap!important;border:0!important}#agent-editor-modal .form-group{margin-bottom:8px}}#agent-editor-modal .scrollable-list-group{min-height:160px}#agent-editor-modal .item-list-scrollable.compact{max-height:38vh;overflow:auto;-webkit-overflow-scrolling:touch}#agent-editor-modal .modal-actions{gap:10px;padding-bottom:10px}#agent-editor-modal .modal-actions .btn{min-height:38px}@media (max-width: 860px){body.dark-mode #agent-editor-modal .modal-box input[type=text],body.dark-mode #agent-editor-modal .modal-box textarea{background:#2d3748;border-color:#4a5568}}body.dark-mode #agent-editor-modal .agent-enhancer-column{background:var(--bg-color-secondary)!important;border-color:#4a5568!important}body.dark-mode #agent-editor-modal .section-box{background:transparent!important}body.dark-mode #agent-editor-modal details{background:transparent!important}body.dark-mode #agent-editor-modal details>summary{background:#2d3748;border:1px solid #4a5568;border-radius:8px;padding:8px 10px}body.dark-mode #agent-editor-modal .tags-input-container{background:#2d3748;border-color:#4a5568}body.dark-mode #agent-editor-modal .item-list-scrollable.compact{background:transparent;border-color:#4a5568}body.dark-mode #agent-editor-modal .param-wrapper{background:#1f2937!important;border-color:#374151!important}body.dark-mode #agent-editor-modal .param-control input[type=number],body.dark-mode #agent-editor-modal .param-control input[type=text]{background:#111827!important;border-color:#374151!important;color:#e5e7eb!important}#agent-editor-modal .tab-btn{padding:8px 12px;font-size:.88rem}@media (max-width: 860px){#agent-editor-modal .tab-content-container{padding:16px}#agent-editor-modal .details-grid,#agent-editor-modal .system-tab-content-grid{gap:16px}#agent-editor-modal .form-fields-column{gap:6px}#agent-editor-modal .form-group{margin-bottom:8px}#agent-editor-modal .profile-picture-wrapper{width:96px;height:96px}}body.dark-mode #agent-editor-modal .tab-btn:hover{background-color:#334155}body.dark-mode #agent-editor-modal .tab-btn.active{background-color:#374151;border-bottom-color:transparent}body.dark-mode #agent-editor-modal .agent-enhancer-column h4{color:#e5e7eb}body.dark-mode #agent-editor-modal .enhancer-status-box{color:#a7b0c0}#agent-editor-modal .item-list-scrollable::-webkit-scrollbar,#agent-editor-modal .tab-content-container::-webkit-scrollbar{width:8px;height:8px}#agent-editor-modal .item-list-scrollable::-webkit-scrollbar-thumb,#agent-editor-modal .tab-content-container::-webkit-scrollbar-thumb{background:#48556a;border-radius:6px}body.dark-mode #agent-editor-modal .agent-enhancer-column,body.dark-mode #agent-editor-modal .section-box,body.dark-mode #agent-editor-modal details,body.dark-mode #agent-editor-modal .item-list-scrollable.compact{background:transparent!important;border-color:#4a5568!important}body.dark-mode #agent-editor-modal .agent-enhancer-column{background:#1f2937!important}body:not(.dark-mode) #agent-editor-modal .agent-enhancer-column{background:#f7fafc}@media (max-width: 860px){#agent-editor-modal .tab-btn{padding:6px 10px;font-size:.85rem;gap:6px}}body.dark-mode #agent-editor-modal input[type=text],body.dark-mode #agent-editor-modal input[type=number],body.dark-mode #agent-editor-modal input[type=password],body.dark-mode #agent-editor-modal textarea{background-color:#2d3748!important;border-color:#4a5568!important;color:var(--text-dark)!important}@media (min-width: 861px){#agent-editor-modal .modal-box{height:85vh;max-width:1000px}}@media (max-width: 480px){#agent-editor-modal .modal-box input,#agent-editor-modal .modal-box textarea{padding:8px 10px}}@media (min-width: 768px){#agent-group-editor-modal .modal-box{height:80vh;max-width:750px}}#agent-group-editor-modal .agent-sortable-item{padding:6px 10px;margin-bottom:4px}#agent-group-editor-modal .agent-sortable-item label{font-size:.9rem;margin-left:8px}#agent-group-editor-modal .modal-body{flex-grow:1;overflow-y:auto;min-height:0}#alert-modal{z-index:10000!important}#react-modal-root{position:fixed;inset:0;z-index:9000}#react-modal-root .modal-overlay{position:fixed;inset:0;background:#00000073;display:flex}.ProseMirror mark[data-pending=true]{background-color:#faf59480;color:inherit;border-radius:2px}body.dark-mode .ProseMirror mark[data-pending=true]{background-color:#b4910099}.ProseMirror [data-type=instruction-chunk]{background-color:#eef2ff;border:1px solid #c7d2fe;border-left:3px solid #6366f1;border-radius:6px;padding:12px 16px;margin:1em 0}body.dark-mode .ProseMirror [data-type=instruction-chunk]{background-color:#2c3e50;border-color:#4a5568;border-left-color:#818cf8}.ProseMirror [data-type=suggestion-chunk][data-status=pending]{background-color:#faf5944d;border:1px dashed #eab308;border-radius:6px;padding:12px 16px;margin:1em 0;transition:background-color .3s ease,border-color .3s ease}.ProseMirror [data-type=suggestion-chunk][data-status=accepted]{background-color:transparent;border-color:transparent;padding:0;margin:1em 0;transition:background-color .3s ease,border-color .3s ease}body.dark-mode .ProseMirror [data-type=suggestion-chunk][data-status=pending]{background-color:#b4910066;border-color:#a16207}.inline-agent-inspector{border:1px solid var(--border-color);background:var(--bg-workspace-chat);color:var(--text-dark);box-shadow:0 14px 32px #0f172a2e;overflow:hidden}.inline-agent-inspector__header{background:#edf2f7;border-bottom:1px solid var(--border-color);color:var(--text-dark)}.inline-agent-inspector__title{margin:0}.inline-agent-inspector__title-icon{color:#0891b2;font-size:18px;line-height:1}.inline-agent-inspector__close-btn{-moz-appearance:none;appearance:none;-webkit-appearance:none;border:1px solid transparent;background:transparent;color:#64748b;width:22px;height:22px;border-radius:6px;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;line-height:1;font-size:18px}.inline-agent-inspector__close-btn:hover{background:#e2e8f0;color:#1e293b}.inline-agent-inspector__section:last-child{margin-bottom:0!important}.inline-agent-inspector__label{color:#a16207}.inline-agent-inspector__prompt{margin:0;padding:8px 10px;border-radius:8px;border:1px solid rgba(148,163,184,.28);background:#94a3b81a;color:inherit;white-space:pre-wrap;overflow-wrap:anywhere;word-break:break-word;line-height:1.5;font-size:12px;font-family:var(--main-font-family),system-ui,sans-serif;letter-spacing:normal;-moz-tab-size:2;-o-tab-size:2;tab-size:2;max-height:9.25rem;overflow-y:auto}body.dark-mode .inline-agent-inspector{border-color:#475569;background:#1e293b;color:#e2e8f0;box-shadow:0 16px 34px #0206178c}body.dark-mode .inline-agent-inspector__header{background:#334155;border-bottom-color:#475569;color:#f1f5f9}body.dark-mode .inline-agent-inspector__title-icon{color:#22d3ee}body.dark-mode .inline-agent-inspector__close-btn{color:#cbd5e1}body.dark-mode .inline-agent-inspector__close-btn:hover{background:#475569;color:#fff}body.dark-mode .inline-agent-inspector__label{color:#facc15}body.dark-mode .inline-agent-inspector__prompt{border-color:#94a3b847;background:#0f172a8c;color:#e2e8f0}@media (max-width: 768px){#status-panel{display:grid;grid-template-columns:auto minmax(0,1fr) auto;align-items:center;height:40px;min-height:40px;max-height:40px;padding:6px 10px;gap:8px;overflow:hidden;transition:none}#status-panel .status-left{grid-column:1;flex:0 0 auto;gap:8px;font-size:12px;min-width:auto;overflow:visible;white-space:nowrap;position:relative;z-index:2;background:inherit}#status-panel .status-right{grid-column:2;max-width:none;min-width:0;font-size:11px;margin-left:0;justify-content:flex-start;overflow:hidden;position:relative;z-index:1}#status-panel #context-inspector-trigger-btn{grid-column:3;justify-self:end;position:relative;z-index:2;background:inherit}#status-panel #statusText,#status-panel #token-count-status{display:none}#status-panel #active-agent-status{display:inline-block;white-space:nowrap;max-width:none;overflow:visible;text-overflow:clip}#status-panel #active-agent-status.is-marquee{animation:status-agent-marquee var(--status-marquee-duration, 14s) linear infinite}#status-panel .status-left,#status-panel .status-right,#status-panel #model-count-status,#status-panel #statusText,#status-panel #active-agent-status,#status-panel #token-count-status{line-height:1.1}#model-count-status{margin-right:0}#status-panel.is-collapsed{height:40px;min-height:40px;max-height:40px;padding:6px 10px;cursor:default}#status-panel.is-collapsed .status-right{display:flex}#status-panel.is-collapsed .status-left{flex-grow:0}#status-panel.is-collapsed #context-inspector-trigger-btn{display:inline-flex;align-items:center;justify-content:center}}@keyframes status-agent-marquee{0%{transform:translate(var(--status-marquee-start, 0px))}to{transform:translate(calc(-1 * var(--status-marquee-end, 100px)))}}@media (min-width: 768px){#agent-editor-modal .modal-body{flex-direction:column}.agent-editor-column{flex:2}.agent-enhancer-column{flex:1}}@media (max-width: 1200px){.chat-header .project-title{max-width:120px}}@media (max-width: 980px){.chat-header .project-title{display:none}}@media (max-width: 768px){.chat-header{padding:6px 10px;gap:.45rem}.chat-header .chat-title,.chat-header .chat-session-locate-btn,.chat-header #project-menu-dropdown,.chat-header .project-title,.chat-header .header-chat-divider{display:none}.chat-header .header-left{flex:0 1 auto;gap:.4rem}.chat-header .header-center{flex:1 1 auto;gap:.2rem;min-width:0}.chat-header .header-right{flex:0 0 auto}.chat-header .header-brand-group{gap:0;max-width:96px}.chat-header .app-main-title{font-size:.9rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.chat-header .app-main-title.project-menu-mobile-trigger{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;display:inline-flex;align-items:center;gap:4px}.chat-header .app-main-title.project-menu-mobile-trigger:after{content:"";font-size:.62rem;opacity:.7;transform:translateY(1px)}.chat-header #hamburger-btn,.chat-header .header-center .menu-toggle-btn{font-size:1.4rem;padding:2px 4px}.chat-header .user-avatar{width:32px;height:32px;font-size:.9rem}.sessions-panel .sidebar-content{padding:9px 8px}.sessions-panel .section-box{margin-bottom:2px}.sessions-panel .section-header{min-height:26px;margin-bottom:2px}.sessions-panel .section-header h3{display:inline-flex;align-items:center;gap:5px;font-size:.94rem;line-height:1;font-weight:650}.sessions-panel .section-header h3 .section-title-text{line-height:1}.sessions-panel .section-header h3 .material-symbols-outlined{display:inline-flex;align-items:center;justify-content:center;font-size:19px;line-height:1;transform:none}.sessions-panel .section-header #new-chat-btn{width:22px;height:22px}.sessions-panel .section-header #new-chat-btn .material-symbols-outlined{font-size:18px;line-height:1}.sessions-panel .section-header-actions{gap:3px}.sessions-panel .section-header .session-organize-btn{width:22px;height:22px}.sessions-panel .section-header .session-organize-btn .material-symbols-outlined{font-size:17px}}#mobile-composer-toggle{position:absolute;top:-120px;right:25px;transform:translateY(-50%);z-index:40;width:32px;height:32px;border-radius:50%;background:var(--accent-color);color:#fff;border:2px solid var(--bg-color-secondary);box-shadow:0 2px 6px #0003;display:none}#mobile-composer-toggle .material-symbols-outlined{transition:transform .3s ease-in-out;font-size:22px;color:#fff!important}#mobile-composer-toggle.is-open .material-symbols-outlined{transform:rotate(180deg)}@media (max-width: 768px){.main-content-wrapper.composer-maximized.composer-peek-chat .chat-messages{flex-basis:48%;min-height:140px}#mobile-composer-toggle{display:flex;align-items:center;justify-content:center}}@media (max-width: 768px){.composer-header{flex-wrap:wrap;row-gap:10px}.composer-tools-area{flex-basis:100%;order:1;flex-wrap:wrap;justify-content:flex-start}.composer-title-area,.composer-actions{order:0}}.mobile-menu-trigger{display:none}body.dark-mode .mobile-menu-trigger{background-color:#4a5568;border-color:var(--border-color);color:var(--text-dark)}@media (max-width: 768px){.mobile-menu-trigger{display:flex;align-items:center;gap:8px;width:100%;padding:4px 10px;font-size:1rem;font-weight:600;text-align:left;border:1px solid var(--border-color);border-radius:8px;background-color:var(--bg-color-secondary)}.mobile-menu-trigger #settings-current-tab-name{flex-grow:1}.mobile-menu-popup{display:none;position:absolute;z-index:2200;background:#fff;border-radius:8px;box-shadow:0 5px 15px #0000001a;border:1px solid var(--border-color)}body.dark-mode .mobile-menu-popup{background:#2d3748;border-color:#4a5568}.mobile-menu-popup.is-open{display:block!important;position:absolute;z-index:2100;min-width:60px;min-height:200px}.mobile-menu-popup .tab-buttons{display:flex!important;flex-direction:column;padding:5px}.mobile-menu-popup .tab-btn{justify-content:flex-start;border-bottom:none;padding:12px;border-radius:6px}.mobile-menu-popup .tab-btn.active{background-color:var(--accent-color);color:#fff}#settings-modal .tab-content-container{padding:0}#settings-modal .tab-content{margin-top:0;padding:15px}#settings-modal .tab-content[data-tab-content=models]{padding:10px 5px}}@media (max-width: 768px){#settings-modal{align-items:center;justify-content:center;padding:8px;overflow:auto;-webkit-overflow-scrolling:touch}#settings-panel{width:92vw;max-height:92vh!important;display:flex;flex-direction:column}#settings-panel .modal-header{flex:0 0 auto}#settings-panel .modal-body{flex:1 1 auto;min-height:0!important;overflow-y:auto!important;-webkit-overflow-scrolling:touch}#settings-panel .model-manager-layout{display:flex;flex-direction:column;gap:16px;min-height:0}#settings-panel .model-manager-column{min-height:0}#settings-panel #model-manager-list-container .item-list-scrollable{max-height:calc(50vh - 50px);overflow-y:auto!important;-webkit-overflow-scrolling:touch}#settings-panel #preset-included-list{max-height:32vh!important;overflow-y:auto!important;-webkit-overflow-scrolling:touch}}@media (max-width: 768px){#settings-panel #model-preset-editor .form-group>label[for=preset-selector],#settings-panel #model-preset-editor .form-group>label[for=preset-name-input]{position:absolute!important;width:1px!important;height:1px!important;margin:-1px!important;padding:0!important;overflow:hidden!important;clip:rect(0 0 0 0)!important;white-space:nowrap!important;border:0!important}#settings-panel #model-preset-editor .form-group{margin-bottom:10px}#settings-panel #model-preset-editor .form-group .flex-group{display:flex;gap:8px;align-items:center}#settings-panel #preset-selector{flex:1 1 auto;min-width:0}#settings-panel #apply-preset-btn{padding:6px 10px}#settings-panel #preset-name-input{flex:1 1 auto;min-width:0}#settings-panel #save-preset-btn,#settings-panel #delete-preset-btn{padding:6px 10px}}body.dark-mode{--primary-color: #7f9cf5;--secondary-color: #a78bfa;--background-gradient: linear-gradient(135deg, #4a5568 0%, #2d3748 100%);--text-dark: #e2e8f0;--text-light: #1a202c;--border-color: #4a5568;--white-alpha-95: rgba(26, 32, 44, .85);--white-alpha-50: rgba(45, 55, 72, .5);--bg-workspace-chat: #1e293b;--bg-workspace-studio: #1e293b;--user-bubble-text-color: #e2e8f0;--user-bubble-edit-text-color: #f7fafc;--primary-color-dark: #394990;--btn-primary-bg: #2f3c4f;--btn-primary-border: #4a5568;--bg-admin-page: #1e293b;--workspace-switcher-inactive-color: #94a3b8;--workspace-switcher-active-color: var(--text-dark);--workspace-switcher-hover-bg: rgba(74, 85, 104, .45);--workspace-switcher-active-bg: #3e4c5f;--workspace-switcher-active-shadow: 0 1px 3px rgba(0, 0, 0, .35);--workspace-switcher-divider-color: var(--border-color);--header-project-title-color: #e2e8f0;--header-chat-divider-color: rgba(148, 163, 184, .5);background:#1a202c;color:var(--text-dark)}body.dark-mode .sessions-panel,body.dark-mode .composer-panel{background-color:#1a202c}body.dark-mode .sidebar{background:var(--white-alpha-95)}body.dark-mode #settings-panel{background:#2d3748}body.dark-mode .main-chat-area{background:#2d3748cc}body.dark-mode input[type=text],body.dark-mode input[type=password],body.dark-mode input[type=number],body.dark-mode select,body.dark-mode textarea{background-color:#4a5568;color:var(--text-dark);border-color:#718096}body.dark-mode .api-provider-switches{background:#1f2937;border-color:#4a5568}body.dark-mode .api-provider-switch-title{color:#e2e8f0}body.dark-mode .api-provider-switch-desc{color:#94a3b8}body.dark-mode .api-toggle-track{background:#475569}body.dark-mode .api-toggle input:checked+.api-toggle-track{background:#3b82f6}body.dark-mode .api-toggle-track:before{background:#e2e8f0}body.dark-mode input:-webkit-autofill,body.dark-mode input:-webkit-autofill:hover,body.dark-mode input:-webkit-autofill:focus,body.dark-mode input:-webkit-autofill:active{-webkit-box-shadow:0 0 0 30px #4a5568 inset!important;-webkit-text-fill-color:var(--text-dark)!important}body.dark-mode .message.assistant{background:#232e42;border-color:#718096}body.dark-mode .message.system{background:#4a5568;color:#a0aec0;border-color:#718096}body.dark-mode .item-list>.item{background-color:#2d3748;border-color:#4a5568}body.dark-mode .item-list>.item.active{border-color:var(--success-color);background-color:#2c4736}body.dark-mode .item-list>.item.staged{border-color:#fbbf24;border-left-width:3px;background-color:#47350f;box-shadow:0 0 0 2px #fbbf2447 inset}body.dark-mode .item-list>.item:hover{background-color:#3e4c5f;border-color:#5a6b82}body.dark-mode .message.assistant .message-content a{color:#90caf9;text-decoration:underline;text-decoration-thickness:1px;text-underline-offset:2px}body.dark-mode .message.assistant .message-content a:hover{color:#bbdefb}body.dark-mode .item-list>.item.pinned{background-color:#3c3658}body.dark-mode .item-name{color:var(--text-dark)}body.dark-mode .collapsible-section summary{color:#a0aec0}body.dark-mode .collapsible-section summary:hover{background-color:#4a5568}body.dark-mode .collapsible-section summary:hover h3{color:var(--text-dark)}body.dark-mode .summary-log-item{background:#2d3748;border-left-color:#4a5568}body.dark-mode .summary-log-item.active{border-left-color:var(--success-color);background:#2c4736}body.dark-mode .summary-log-item-title{color:#cbd5e0}body.dark-mode .memory-toggle{background:#718096}body.dark-mode .memory-toggle.active{background:var(--success-color)}body.dark-mode .dropdown-content{background-color:#2d3748;border:1px solid #4a5568}body.dark-mode .dropdown-content a{color:var(--text-dark)}body.dark-mode .dropdown-content a:hover{background-color:#4a5568}body.dark-mode .dropdown-content hr{border-top-color:#4a5568}body.dark-mode .btn-icon{color:#a0aec0}body.dark-mode .btn-icon:hover{background:#4a5568;color:var(--text-dark)}body.dark-mode .btn-secondary{background:#718096;color:#e2e8f0}body.dark-mode .modal-box{background:#2d3748}body.dark-mode .folder-settings-file-list{background:#1f2937;border-color:#4a5568}body.dark-mode .folder-settings-file-item{color:#e2e8f0}body.dark-mode .folder-settings-toggle-row{background:#1f2937;border-color:#4a5568}body.dark-mode .folder-settings-toggle-title{color:#e2e8f0}body.dark-mode .folder-settings-toggle-desc{color:#94a3b8}body.dark-mode #context-inspector-modal pre{background:#1a202c;border-color:#4a5568;color:#cbd5e0}body.dark-mode #chat-actions-menu{background-color:#2d3748;border-color:#4a5568}body.dark-mode #chat-actions-menu a{color:var(--text-dark)}body.dark-mode #chat-actions-menu a:hover{background-color:#4a5568}body.dark-mode .agent-enhancer-column{background-color:#1a202c!important;border-color:#4a5568!important}body.dark-mode #group-member-list{border-color:#4a5568}body.dark-mode .agent-sortable-item{background-color:#2d3748;border-color:#4a5568}body.dark-mode .agent-sortable-item .drag-handle{color:#718096}body.dark-mode code{background-color:#4a5568;color:#f7fafc}body.dark-mode .message-content pre code{background-color:transparent}body.dark-mode .inline-edit-textarea{background-color:#2d3748;color:var(--text-dark);border-color:var(--primary-color)}body.dark-mode hr{border-top-color:#4a5568}body.dark-mode *::-webkit-scrollbar-thumb{background-color:#718096;border-radius:5px;border:2px solid #2d3748}body.dark-mode *::-webkit-scrollbar{background:#21222c}body.dark-mode .modal-warning,body.dark-mode .enhancer-status-box{color:#a0aec0}body.dark-mode .sidebar-resizer{background:#2d3748;border-top:1px solid #4a5568;border-bottom:1px solid #4a5568}body.dark-mode .sidebar-resizer:hover{background:var(--primary-color);opacity:.6}body.dark-mode .message.user{background:#070a11;color:var(--user-bubble-text-color)}body.dark-mode .message.user .inline-edit-textarea{background-color:#0a0a194d;color:var(--user-bubble-edit-text-color)!important;border-color:#1a202c}body.dark-mode .input-container-seamless{background-color:#2d3748;border-color:#4a5568}body.dark-mode .input-container-seamless:focus-within{box-shadow:0 0 0 3px #7f9cf566;border-color:var(--primary-color)}body.dark-mode #chatInput{color:#e2e8f0}body.dark-mode #chatInput::-moz-placeholder{color:#a0aec0}body.dark-mode #chatInput::placeholder{color:#a0aec0}body.dark-mode #chat-actions-btn{color:#bdc1c6}body.dark-mode .speaker-label{color:var(--primary-color)}body.dark-mode .file-preview-item{background-color:#2d3748;border-color:#4a5568}body.dark-mode .knowledge-file-meta{color:#a0aec0}body.dark-mode .knowledge-file-excerpt{color:#d3dce6}body.dark-mode .knowledge-file-note{color:#fdba74}body.dark-mode .knowledge-item.selected-for-rag{background-color:#12303d;border-color:#38bdf8}body.dark-mode .knowledge-item.source-focused{background-color:#0d2d3f;border-color:#38bdf8;box-shadow:0 0 0 1px #0ea5e9 inset}body.dark-mode .knowledge-item .btn-icon.is-active{color:#67e8f9!important}body.dark-mode .knowledge-focus-preview{background:#0f172a;border-color:#334155}body.dark-mode .knowledge-focus-preview-title{color:#bfdbfe}body.dark-mode .knowledge-focus-preview-text{color:#e2e8f0}body.dark-mode .knowledge-control{color:#d1d5db}body.dark-mode .knowledge-control input,body.dark-mode .knowledge-control select{background-color:#1f2937;border-color:#4b5563;color:#e5e7eb}body.dark-mode .knowledge-scope-info,body.dark-mode .rag-source-title{color:#cbd5e1}body.dark-mode .rag-source-chip{border-color:#2c4f75;background:#10243d;color:#c5e2ff}body.dark-mode .rag-source-chip:hover{border-color:#4d78a8;background:#16304f}body.dark-mode .rag-source-chip:focus-visible{outline-color:#7dd3fc}body.dark-mode .rag-debug-panel{border-color:#3c4c63;background:#1b2433}body.dark-mode .rag-debug-summary{color:#e2e8f0}body.dark-mode .rag-debug-reason{color:#94a3b8}body.dark-mode .rag-debug-item{border-color:#3f4c61;background:#111827}body.dark-mode .rag-debug-item-title{color:#dbeafe}body.dark-mode .rag-debug-item-excerpt{color:#cbd5e1}body.dark-mode .message-actions button.active{background:#1d3557!important;color:#bfdbfe!important}body.dark-mode .session-info-content pre{background:#111827;border-color:#334155;color:#e2e8f0}body.dark-mode .context-debugger-card{background:#1f2937;border-color:#374151}body.dark-mode .context-debugger-page{background:#0f172a}body.dark-mode .context-debugger-page-header{background:#0b1220;border-color:#334155}body.dark-mode .context-debugger-page-title h3{color:#e2e8f0}body.dark-mode #context-debugger-back-btn{color:#cbd5e1}body.dark-mode #context-debugger-back-btn:hover{background:#1f2937}body.dark-mode .context-debugger-card .label{color:#94a3b8}body.dark-mode .context-debugger-card .value{color:#e2e8f0}body.dark-mode .context-debugger-turns-panel,body.dark-mode .context-debugger-detail-panel{background:#111827;border-color:#374151}body.dark-mode .context-debugger-turn-item{background:#1f2937;border-color:#374151}body.dark-mode .context-debugger-turn-item.active{background:#0f2842;border-color:#38bdf8}body.dark-mode .context-debugger-turn-item-role{color:#94a3b8}body.dark-mode .context-debugger-turn-item-title{color:#e5e7eb}body.dark-mode .context-debugger-turn-item-meta{color:#cbd5e1}body.dark-mode .context-debugger-turn-detail,body.dark-mode .context-debugger-turn-detail pre,body.dark-mode #context-debugger-assembly{background:#0b1220;border-color:#334155;color:#e2e8f0}body.dark-mode .context-debugger-empty,body.dark-mode .session-item-meta{color:#94a3b8}body.dark-mode [data-session-drop-target].is-drop-target{background:#0f2842;outline-color:#38bdf8}body.dark-mode .session-folder{background:#1f2937;border-color:#374151}body.dark-mode .session-folder-summary{color:#e2e8f0}body.dark-mode .session-folder-count{background:#334155;color:#e2e8f0}body.dark-mode .session-item.session-locate-highlight{background-color:#10384a;box-shadow:0 0 0 2px #38bdf861}body.dark-mode .session-list-locate-trigger:hover{background:#334155}body.dark-mode .session-organize-heading{color:#94a3b8}body.dark-mode .session-organize-option.is-selected{background:#334155;color:#e2e8f0}body.dark-mode .session-organize-option .session-organize-check{color:#93c5fd}body.dark-mode .folder-session-sort-option.is-selected{background:#334155;color:#e2e8f0}body.dark-mode .folder-session-sort-option .folder-session-sort-check{color:#93c5fd}body.dark-mode .folder-session-list{background:#111827;border-top-color:#374151;border-left-color:#334155}body.dark-mode .sidebar .session-item.archived .item-name{color:#919191}body.dark-mode .session-item.archived{opacity:.8}body.dark-mode .item-list>.group-item{background-color:#3a4454;border-left-color:var(--primary-color)}body.dark-mode .inactive .item-name{opacity:.9}body.dark-mode .sidebar .memory-item.inactive .item-name{color:#b6b6b6}body.dark-mode .collapsible-section>summary{color:#c9d1d9;font-weight:600;letter-spacing:.5px}body.dark-mode .sidebar h3,body.dark-mode .sidebar h4,body.dark-mode .sidebar label,body.dark-mode .sidebar .section-title{color:#c9d1d9;font-weight:600}body.dark-mode .session-item button,body.dark-mode .session-item .item-action,body.dark-mode .agent-preset button,body.dark-mode .agent-preset .item-action{background:transparent!important;color:#c9d1d9!important;border-radius:50%;border:none;transition:background .12s}body.dark-mode .session-item button:hover,body.dark-mode .session-item .item-action:hover,body.dark-mode .agent-preset button:hover,body.dark-mode .agent-preset .item-action:hover{background:#334155!important;color:#fff!important}body.dark-mode .btn-icon{background:transparent!important;color:#c9d1d9!important;border:none}body.dark-mode .btn-icon:hover{background:#334155!important;color:#fff!important}body.dark-mode .chat-title:hover{background:#334155}body.dark-mode .book-agent-header-badge{background:#312e8147;border-color:#4f46e5;color:#c7d2fe}body.dark-mode .book-agent-header-badge:hover{background:#4f46e552;border-color:#6366f1;color:#e0e7ff}body.dark-mode .book-agent-header-badge.is-auto-on{background:#1e3a8a4d;border-color:#3b82f6;color:#bfdbfe}body.dark-mode .book-agent-header-badge.has-pending{background:#78350f4d;border-color:#f59e0b;color:#fde68a}body.dark-mode .book-agent-header-badge.has-new{background:#7c2d1257;border-color:#f97316;color:#fdba74}body.dark-mode .book-agent-header-badge.is-flash{box-shadow:0 0 0 3px #f59e0b38}body.dark-mode .workspace#agent-asset-studio{background-color:var(--bg-workspace-studio)}body.dark-mode .streaming-code-preview{background-color:#2d3748;color:#e2e8f0}body.dark-mode *::-webkit-scrollbar{background:#21222c;width:12px}body.dark-mode *::-webkit-scrollbar-thumb{background-color:#718096;border-radius:6px;border:3px solid #21222c}body.dark-mode *::-webkit-scrollbar-thumb:hover{background-color:#a0aec0}body.dark-mode .item-list>.item.active:hover{background-color:#2c4736;border-color:var(--success-color)}body.dark-mode .message-actions button{color:var(--text-dark)}body.dark-mode .message-actions button:hover{background-color:#ffffff1a}body.dark-mode .message.user .message-actions button{color:var(--text-dark)}body.dark-mode .message-timestamp{color:#64748b}body.dark-mode .speaker-info-wrapper .speaker-label{color:var(--primary-color)}body.dark-mode .composer-editor{color:var(--text-dark)}body.dark-mode .composer-editor .ProseMirror{color:inherit;caret-color:var(--text-dark)}body.dark-mode .composer-editor .ProseMirror p.is-editor-empty:first-child:before{color:#94a3b8}body.dark-mode #composer-editor .composer-content-area a,body.dark-mode .composer-editor .ProseMirror a{color:#90caf9;text-decoration:underline}body.dark-mode #composer-editor .composer-content-area a:hover,body.dark-mode .composer-editor .ProseMirror a:hover{color:#bbdefb}body.dark-mode .tab-btn{color:var(--text-dark)}body.dark-mode .selected-entity-section{background:#1f2937;border-color:#3f4a5c;box-shadow:none}body.dark-mode #studio-panel .studio-assets-container>.collapsible-section{background:#1f2937;border-color:#3f4a5c}body.dark-mode #studio-panel .studio-assets-container>.collapsible-section>.section-header{background:#253142;border-bottom-color:#3f4a5c}body.dark-mode #studio-panel .studio-assets-container>.collapsible-section>.section-box{background:#1f2937}body.dark-mode #studio-panel .studio-visibility-heading{color:#94a3b8}body.dark-mode #studio-panel .studio-visibility-option.is-selected{background:#334155;color:#e2e8f0}body.dark-mode #studio-panel .studio-visibility-check{color:#93c5fd}body.dark-mode #studio-panel .studio-world-focus-card,body.dark-mode #studio-panel .studio-world-quick-actions{background:#111827;border-color:#334155}body.dark-mode #studio-panel .studio-world-quick-actions{border-color:#475569}body.dark-mode #studio-panel .studio-world-focus-meta,body.dark-mode #studio-panel .studio-world-inline-note,body.dark-mode #studio-panel .studio-world-item-meta{color:#94a3b8}body.dark-mode #studio-panel .studio-world-pill{background:#1f2937;border-color:#475569;color:#e2e8f0}body.dark-mode #studio-panel .studio-world-pill.is-active{background:#123a2a;border-color:#166534;color:#bbf7d0}body.dark-mode #studio-panel .studio-world-pill.is-linked{background:#172554;border-color:#1d4ed8;color:#bfdbfe}body.dark-mode #studio-panel .studio-world-pill.is-pending{background:#3a2a12;border-color:#b45309;color:#fde68a}body.dark-mode #studio-panel .studio-world-pill.is-danger{background:#3b1111;border-color:#b91c1c;color:#fecaca}body.dark-mode #studio-panel .studio-world-pill.is-muted{background:#111827;border-color:#334155;color:#cbd5e1}body.dark-mode #studio-panel .studio-world-preview,body.dark-mode #studio-panel .studio-world-change-reason{border-top-color:#334155}body.dark-mode #studio-panel .studio-world-reviewed-block{background:#111827;border-color:#334155}body.dark-mode #studio-panel .studio-world-reviewed-block>summary{background:#1f2937;border-bottom-color:#334155}body.dark-mode #book-sidebar-slot>.collapsible-section,body.dark-mode .world-workspace-content>.collapsible-section{background:#1f2937;border-color:#3f4a5c}body.dark-mode #book-sidebar-slot>.collapsible-section>.section-header,body.dark-mode .world-workspace-content>.collapsible-section>.section-header{background:#253142;border-bottom-color:#3f4a5c}body.dark-mode #book-sidebar-slot>.collapsible-section>.section-box,body.dark-mode .world-workspace-content>.collapsible-section>.section-box{background:#1f2937}body.dark-mode :is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-focus-card,body.dark-mode :is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-quick-actions{background:#111827;border-color:#334155}body.dark-mode :is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-quick-actions{border-color:#475569}body.dark-mode :is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-focus-meta,body.dark-mode :is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-inline-note,body.dark-mode :is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-item-meta{color:#94a3b8}body.dark-mode :is(#world-workspace,#book-sidebar-slot,#book-workspace) .book-changes-actions.is-secondary{border-top-color:#334155}body.dark-mode :is(#world-workspace,#book-sidebar-slot,#book-workspace) .book-changes-setup-note{border-color:#475569;background:#0f172a}body.dark-mode :is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-continuity-block{border-top-color:#334155}body.dark-mode :is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-continuity-heading,body.dark-mode :is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-continuity-text{color:#e2e8f0}body.dark-mode :is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-continuity-row{border-color:#334155;background:#111827}body.dark-mode :is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-continuity-row.is-warning{border-color:#92400e;background:#2a1f11}body.dark-mode :is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-continuity-row.is-info{border-color:#1d4ed8;background:#101f3a}body.dark-mode #studio-panel .studio-world-continuity-block{border-top-color:#334155}body.dark-mode #studio-panel .studio-world-continuity-heading,body.dark-mode #studio-panel .studio-world-continuity-text{color:#e2e8f0}body.dark-mode #studio-panel .studio-world-continuity-row{border-color:#334155;background:#111827}body.dark-mode #studio-panel .studio-world-continuity-row.is-warning{border-color:#92400e;background:#2a1f11}body.dark-mode #studio-panel .studio-world-continuity-row.is-info{border-color:#1d4ed8;background:#101f3a}body.dark-mode :is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-pill{background:#1f2937;border-color:#475569;color:#e2e8f0}body.dark-mode :is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-pill.is-active{background:#123a2a;border-color:#166534;color:#bbf7d0}body.dark-mode :is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-pill.is-linked{background:#172554;border-color:#1d4ed8;color:#bfdbfe}body.dark-mode :is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-pill.is-pending{background:#3a2a12;border-color:#b45309;color:#fde68a}body.dark-mode :is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-pill.is-danger{background:#3b1111;border-color:#b91c1c;color:#fecaca}body.dark-mode :is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-pill.is-muted{background:#111827;border-color:#334155;color:#cbd5e1}body.dark-mode :is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-inline-editor{background:#0f172a;border-color:#334155}body.dark-mode :is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-inline-field,body.dark-mode :is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-inline-checkbox{color:#cbd5e1}body.dark-mode :is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-inline-input,body.dark-mode :is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-inline-select,body.dark-mode :is(#world-workspace,#book-sidebar-slot,#book-workspace) .studio-world-inline-textarea{background:#111827;border-color:#475569;color:#e5e7eb}body.dark-mode #book-sidebar-slot .book-tree-book-block{background:#111827;border-color:#334155}body.dark-mode #book-sidebar-slot .book-tree-book-block.is-active-book{border-color:#1d4ed8;box-shadow:inset 0 0 0 1px #3b82f633}body.dark-mode #book-sidebar-slot .book-tree-row.is-book{background:#172030;border-bottom-color:#334155}body.dark-mode #book-sidebar-slot .book-tree-row.is-book.active{background:#152844}body.dark-mode #book-sidebar-slot .book-tree-collapse-toggle{color:#94a3b8}body.dark-mode #book-sidebar-slot .book-tree-collapse-toggle:hover{background:#243244;color:#dbeafe}body.dark-mode #book-sidebar-slot .book-tree-collapse-toggle:focus-visible{outline-color:#3b82f6}body.dark-mode #book-sidebar-slot .book-tree-row.is-act{background:#101826}body.dark-mode #book-sidebar-slot .book-tree-row.is-chapter{background:#111827;border-top-color:#243244}body.dark-mode #book-sidebar-slot .book-tree-row.is-chapter:hover{background:#162131}body.dark-mode #book-sidebar-slot .book-tree-row.is-chapter.is-drop-before:before,body.dark-mode #book-sidebar-slot .book-tree-row.is-chapter.is-drop-after:after{background:#60a5fa}body.dark-mode #book-sidebar-slot .book-tree-row.is-chapter.active{background:#172554}body.dark-mode #book-sidebar-slot .book-tree-row-primary{color:#e5e7eb}body.dark-mode #book-sidebar-slot .book-tree-row.is-act .book-tree-row-primary,body.dark-mode #book-sidebar-slot .book-tree-row-secondary{color:#94a3b8}body.dark-mode #book-sidebar-slot .book-tree-act-block+.book-tree-act-block .book-tree-row.is-act{border-top-color:#243244}body.dark-mode #book-sidebar-slot .book-tree-empty{background:#0f172a;border-color:#334155;color:#94a3b8}body.dark-mode .book-workspace-header{background:#0f172aeb;border-color:#334155}body.dark-mode .book-workspace-heading p{color:#94a3b8}body.dark-mode .book-workspace-tab-btn{background:#0f172a;border-color:#334155;color:#cbd5e1}body.dark-mode .book-workspace-tab-btn:hover{background:#172554;border-color:#3b82f6;color:#dbeafe}body.dark-mode .book-workspace-tab-btn.active{background:#1e3a8a;border-color:#60a5fa;color:#eff6ff}body.dark-mode .book-overview-act-column,body.dark-mode .book-composer-doc-card{background:#111827;border-color:#334155}body.dark-mode .book-composer-doc-card.is-selectable:hover{background:#152034;border-color:#3b82f6}body.dark-mode .book-composer-doc-card.is-selectable.active{background:#172554;border-color:#2563eb}body.dark-mode .book-overview-act-title,body.dark-mode .book-composer-doc-title,body.dark-mode .book-overview-chapter-title{color:#e5e7eb}body.dark-mode .book-overview-act-meta,body.dark-mode .book-overview-chapter-kicker,body.dark-mode .book-composer-doc-meta{color:#94a3b8}body.dark-mode .book-composer-editor{background:#0f172ae6;border-color:#334155}body.dark-mode .book-composer-active-doc-title{color:#e5e7eb}body.dark-mode .book-composer-active-doc-meta{color:#94a3b8}body.dark-mode .book-composer-export-card{background:#0f172a;border-color:#334155}body.dark-mode .book-composer-export-title{color:#cbd5e1}body.dark-mode .book-overview-chapter-card{background:#0f172a;border-color:#334155}body.dark-mode .book-overview-chapter-card.is-active{background:#111f3a;border-color:#2563eb}body.dark-mode .book-overview-chapter-summary{color:#cbd5e1}body.dark-mode .book-overview-empty{background:#0f172a;border-color:#334155;color:#94a3b8}body.dark-mode .world-book-settings-modal-meta{color:#94a3b8}body.dark-mode #world-workspace .studio-world-preview,body.dark-mode #world-workspace .studio-world-change-reason{border-top-color:#334155}body.dark-mode #world-workspace .studio-world-change-diff{background:#0f172a;border-color:#334155}body.dark-mode #world-workspace .studio-world-change-diff>summary{background:#111827;border-bottom-color:#334155}body.dark-mode #world-workspace .studio-world-change-diff-key{color:#cbd5e1}body.dark-mode #world-workspace .studio-world-change-diff-value{background:#111827;border-color:#475569;color:#e5e7eb}body.dark-mode #world-workspace .studio-world-change-diff-value.is-before{background:#2b1b10;border-color:#9a3412}body.dark-mode #world-workspace .studio-world-change-diff-value.is-after{background:#10261d;border-color:#047857}body.dark-mode #world-workspace .studio-world-change-evidence{border-top-color:#334155;color:#94a3b8}body.dark-mode #world-workspace .studio-world-reviewed-block{background:#111827;border-color:#334155}body.dark-mode #world-workspace .studio-world-reviewed-block>summary{background:#1f2937;border-bottom-color:#334155}body.dark-mode .world-workspace-header{background:#111827;border-color:#334155}body.dark-mode .world-workspace-heading p{color:#94a3b8}body.dark-mode .studio-selected-entity-slot{background:#1e293b;border-bottom-color:#334155}body.dark-mode .selected-entity-source{color:#9ca3af}body.dark-mode .selected-entity-badge.is-active{color:#bbf7d0;background:#123a2a;border-color:#166534}body.dark-mode .selected-entity-badge.is-pending{color:#fde68a;background:#3a2a12;border-color:#b45309}body.dark-mode .selected-entity-current{border-color:#334155;background:#0f172a}body.dark-mode .selected-entity-current.is-active-entity,body.dark-mode .selected-entity-section.is-compact .selected-entity-current.is-active-entity{border-color:#166534;background:#0f2f21;box-shadow:0 0 0 1px #22c55e47 inset}body.dark-mode .selected-entity-current.is-missing{border-color:#f59e0b;background:#3a2a12}body.dark-mode .selected-entity-name{color:#e5e7eb}body.dark-mode .selected-entity-section.is-compact .selected-entity-current.is-active-entity .selected-entity-name{color:#f0fdf4}body.dark-mode .selected-entity-meta,body.dark-mode .selected-entity-empty{color:#cbd5e1}body.dark-mode .selected-entity-pending{border-top-color:#334155}body.dark-mode .selected-entity-pending-text{color:#fbbf24}body.dark-mode .selected-entity-pending-hint{color:#fcd34d}.tab-content[data-tab-content=models]{display:flex;flex-direction:column;flex-grow:1;min-height:0;position:relative}.model-manager-layout{display:flex;gap:25px;flex-grow:1;min-height:0;overflow:hidden}.model-manager-column{display:flex;margin-top:-2px;flex-direction:column;gap:15px;flex-grow:1;flex-shrink:1}#model-manager-list-container{flex-basis:400px;min-width:300px}#model-preset-editor{flex-basis:280px;min-width:250px;background-color:#00000008;padding:15px;border-radius:8px;display:flex;flex-direction:column}.item-list-scrollable{margin-top:-5px;flex-grow:1;overflow-y:auto;overflow-x:auto;border:1px solid var(--border-color);border-radius:8px;padding:8px;min-height:200px;-webkit-overflow-scrolling:touch}#model-preset-editor .form-group{margin-top:-10px;margin-bottom:5px;display:flex;flex-direction:column}#preset-included-list{margin-top:2px;flex-grow:1;overflow-y:auto;border:1px solid var(--border-color);border-radius:8px;padding:8px}#model-preset-editor .form-group:has(#preset-included-list){margin-top:-10px;flex-grow:1;display:flex;flex-direction:column;min-height:0}#preset-included-list{flex-grow:1}.model-manager-item{display:flex;align-items:center;gap:10px;padding:6px 8px;border-radius:6px}.model-manager-item label{flex-grow:1;margin-bottom:0;font-weight:400;font-size:.85rem}.model-manager-item small{color:#64748b;font-size:.75rem}body.dark-mode .model-manager-item small{color:#94a3b8}#preset-included-list .model-manager-item{padding:4px 8px;font-size:.9rem}.selection-actions{display:flex;gap:15px;margin-top:-10px;margin-bottom:-5px;align-items:center}.btn.btn-link{background:none;border:none;color:var(--accent-color);font-size:.8rem;cursor:pointer;padding:0}body.dark-mode .btn.btn-link{color:#90caf9}.filter-selected-label{margin-top:5px;display:flex;align-items:center;gap:6px;font-size:.8rem;font-weight:400;cursor:pointer;color:#64748b;margin-left:auto}body.dark-mode .filter-selected-label{color:#94a3b8}.model-info-icon{margin-left:auto;cursor:pointer;color:#94a3b8;font-size:1.1rem;font-weight:700;flex-shrink:0}body.dark-mode .model-info-icon{color:#64748b}#model-info-bar{position:absolute;bottom:0;left:0;right:0;z-index:100;padding:15px 20px;background-color:#e2e8f0;border-top:1px solid var(--border-color);display:flex;gap:15px}#model-info-bar.hidden{display:none}.info-bar-content{flex-grow:1;min-width:0}.info-bar-content h5{margin-top:0;margin-bottom:6px;font-size:.85rem;white-space:normal;word-wrap:break-word}.info-bar-content p{margin:0 0 10px;font-size:.85rem;opacity:.8;line-height:1.6}.info-bar-details{display:flex;flex-wrap:wrap;gap:10px 20px;font-size:.85rem;opacity:.9}#info-bar-close-btn{align-self:flex-start}body.dark-mode #model-preset-editor{background-color:#ffffff0d}body.dark-mode #model-info-bar{background-color:#1e293b;border-top-color:#4a5568}.included-models-count{font-size:.8rem;font-weight:500;color:#64748b;padding:0 8px 8px;border-bottom:1px solid var(--border-color);margin-bottom:8px}body.dark-mode .included-models-count{color:#94a3b8}.model-info-btn{margin-left:auto;flex-shrink:0;width:28px;height:28px;color:#94a3b8}.model-info-btn .material-symbols-outlined{font-size:18px}body.dark-mode .model-info-btn{color:#64748b}body.dark-mode .model-info-btn:hover{color:var(--text-dark)}.streaming-code-preview{display:block;white-space:pre-wrap;word-wrap:break-word;background-color:#f0f0f2;color:#333;padding:1em;margin:0;font-family:Courier New,Courier,monospace}#chat-compose-workspace{display:flex!important;flex-direction:column!important;width:100%;height:100%}#workspace-body-row{display:flex;flex-direction:row;flex:1 1 auto;min-height:0;overflow:hidden}#sessions-panel{flex-basis:360px;flex-shrink:0;flex-grow:0}#main-chat-panel{flex-grow:1;flex-basis:0;min-width:300px}#chat-compose-workspace{display:flex!important;flex-direction:column!important}#sessions-panel{flex-basis:360px;flex-shrink:0;flex-grow:0;transition:all .3s ease-in-out}#main-chat-panel{flex-grow:1;flex-basis:0;min-width:300px;transition:all .3s ease-in-out}.app-wrapper.sidebar-collapsed #sessions-panel{flex-basis:0;min-width:0;border-right-width:0;padding-left:0;padding-right:0}#mobile-overlay{pointer-events:none;opacity:0;visibility:hidden;transition:opacity .3s ease}#mobile-overlay.active{pointer-events:auto!important;opacity:1;visibility:visible}.dropzone-overlay{position:absolute;inset:0;background-color:#bcd5ff38;border:2px dashed var(--accent-color);border-radius:20px;z-index:6;display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;pointer-events:none;transition:opacity .2s ease,visibility .2s}.dropzone-overlay.active{opacity:1;visibility:visible}.dropzone-message{display:flex;align-items:center;gap:8px;text-align:left;color:var(--text-dark);font-weight:600;font-size:.82rem;background:var(--white-alpha-95);border:1px solid var(--border-color);border-radius:999px;padding:5px 10px}.dropzone-message .material-symbols-outlined{font-size:18px;margin-bottom:0}.dropzone-message h2{margin:0;font-size:inherit}body.dark-mode .dropzone-overlay{background-color:#2d374847;border-color:var(--primary-color)}
